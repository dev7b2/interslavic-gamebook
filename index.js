!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=434)}([function(e,t,n){"use strict";e.exports=n(403)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return F})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return q})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return j})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return M})),n.d(t,"z",(function(){return R})),n.d(t,"A",(function(){return Y})),n.d(t,"B",(function(){return H})),n.d(t,"C",(function(){return T})),n.d(t,"D",(function(){return U})),n.d(t,"E",(function(){return V})),n.d(t,"F",(function(){return W}));var r=n(149),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},l=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,f=(3&o)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){var t=l(e);return c.encodeByteArray(t,!0)},d=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var m=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),c.encodeString(JSON.stringify(a),!1),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function _(){return"object"==typeof self&&self.self===self}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return!0===i||!0===o}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var x=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return Object(r.b)(t,e),t}(Error),k=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new x(i,s,r);return u},e}();function S(e,t){return e.replace(C,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e){return JSON.parse(e)}function T(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=O(d(o[0])||""),n=O(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},j=function(e){var t=N(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},P=function(e){var t=N(e).claims;return"object"==typeof t&&!0===t.admin};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var L=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function F(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(e,t){return e+" failed: "+t+" argument "}function V(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(e,t)+"must be a valid function.")}function W(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Y=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(e){return e&&e._delegate?e._delegate:e}}).call(this,n(53))},function(e,t,n){var r=n(11),i=n(41),o=n(31),a=n(32),s=n(42),u=function(e,t,n){var l,c,f,d,h=e&u.F,p=e&u.G,m=e&u.S,v=e&u.P,y=e&u.B,g=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(l in p&&(n=t),n)f=((c=!h&&g&&void 0!==g[l])?g:n)[l],d=y&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,g&&a(g,l,f,e&u.U),b[l]!=f&&o(b,l,d),v&&_[l]!=f&&(_[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"m",(function(){return C}));var r,i,o,a,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(){function e(e){this.data=e,this.i=0}return e.prototype.int32=function(){var e=this.data.readInt32LE(this.i);return this.i+=4,e},e.prototype.readString=function(e){if(void 0===e&&(e=!1),this.int32()){var t=this.int32(),n=this.data.slice(this.i,this.i+2*t).toString("utf16le");return this.i+=2*t,n}return e?void 0:""},e.prototype.byte=function(){return this.data[this.i++]},e.prototype.dwordFlag=function(e){var t=this.int32();if(void 0!==e&&t!==e)throw new Error("Expecting "+e+", but get "+t+" at position "+(this.i-4))},e.prototype.float64=function(){var e=this.data.readDoubleLE(this.i);return this.i+=8,e},e.prototype.seek=function(e){this.i+=e},e.prototype.isNotEnd=function(){return this.data.length===this.i?void 0:"Not an end! We are at 0x"+Number(this.i).toString(16)+", file len=0x"+Number(this.data.length).toString(16)+"  left=0x"+Number(this.data.length-this.i).toString(16)},e.prototype.debugShowHex=function(e){void 0===e&&(e=300),console.info("Data at 0x"+Number(this.i).toString(16)+"\n");for(var t="",n=0;n<e;n++)t=t+("0"+Number(this.data[this.i+n]).toString(16)).slice(-2)+":",n%16==15&&(t+="\n");console.info(t)},e}();!function(e){e[e["Малоки"]=1]="Малоки",e[e["Пеленги"]=2]="Пеленги",e[e["Люди"]=4]="Люди",e[e["Феяне"]=8]="Феяне",e[e["Гаальцы"]=16]="Гаальцы"}(r||(r={})),function(e){e[e["Малоки"]=1]="Малоки",e[e["Пеленги"]=2]="Пеленги",e[e["Люди"]=4]="Люди",e[e["Феяне"]=8]="Феяне",e[e["Гаальцы"]=16]="Гаальцы",e[e["Незаселенная"]=64]="Незаселенная"}(i||(i={})),function(e){e[e.OnReturn=0]="OnReturn",e[e.OnFinish=1]="OnFinish"}(o||(o={})),function(e){e[e["Торговец"]=1]="Торговец",e[e["Пират"]=2]="Пират",e[e["Воин"]=4]="Воин"}(a||(a={}));var l,c,f,d,h,p=1111111122,m=1111111123,v=1111111124,y=1111111126,g=1111111127,b=111111127;function _(e){var t=e.int32(),n=e.int32();e.int32();var r=e.byte();e.int32();for(var i=!!e.byte(),o=e.byte(),a=!!e.byte(),s=e.int32(),u={min:t,max:n,type:r,showWhenZero:i,critType:o,active:a,isMoney:!!e.byte(),name:e.readString(),showingInfo:[],starting:"",critValueString:"",img:void 0,sound:void 0,track:void 0},l=0;l<s;l++){var c=e.int32(),f=e.int32(),d=e.readString();u.showingInfo.push({from:c,to:f,str:d})}return u.critValueString=e.readString(),u.starting=e.readString(),u}function w(e){var t=e.int32(),n=e.int32(),r=e.byte(),i=e.byte(),o=e.byte(),a=e.byte();0!==i&&console.warn("Unknown1 is params is not zero"),0!==o&&console.warn("Unknown2 is params is not zero"),0!==a&&console.warn("Unknown3 is params is not zero");for(var s=!!e.byte(),u=e.byte(),l=!!e.byte(),c=e.int32(),f={min:t,max:n,type:r,showWhenZero:s,critType:u,active:l,isMoney:!!e.byte(),name:e.readString(),showingInfo:[],starting:"",critValueString:"",img:void 0,sound:void 0,track:void 0},d=0;d<c;d++){var h=e.int32(),p=e.int32(),m=e.readString();f.showingInfo.push({from:h,to:p,str:m})}return f.critValueString=e.readString(),f.img=e.readString(!0),f.sound=e.readString(!0),f.track=e.readString(!0),f.starting=e.readString(),f}function E(e,t){for(var n=!!e.int32(),r=e.int32(),i=e.int32(),o=e.int32(),a=!!e.byte(),s=!!e.byte(),u=!!e.byte(),l=!!e.byte(),c=!!e.byte(),f=[],d=0;d<t;d++){e.seek(12);var h=e.int32(),p=e.byte();e.seek(4);var m=!!e.byte(),v=!!e.byte(),y=!!e.byte(),g=e.readString();e.seek(10);var b=e.readString();f.push({change:h,showingType:p,isChangePercentage:m,isChangeValue:v,isChangeFormula:y,changingFormula:g,critText:b,img:void 0,track:void 0,sound:void 0})}var _=[],w=[];for(d=0;d<10;d++)_.push(e.readString()),w.push({img:void 0,sound:void 0,track:void 0});var E=!!e.byte();return e.seek(4),e.readString(),e.readString(),{dayPassed:n,id:o,isEmpty:c,isFaily:u,isFailyDeadly:l,isStarting:a,isSuccess:s,paramsChanges:f,texts:_,media:w,isTextByFormula:E,textSelectFormula:e.readString(),maxVisits:0,locX:r,locY:i}}function x(e,t){for(var n=!!e.int32(),r=e.int32(),i=e.int32(),o=e.int32(),a=e.int32(),s=e.byte(),u=s===h.Starting,l=s===h.Success,c=s===h.Faily,p=s===h.Deadly,m=s===h.Empty,v=[],y=0;y<t;y++)v.push({change:0,showingType:f.НеТрогать,isChangePercentage:!1,isChangeValue:!1,isChangeFormula:!1,changingFormula:"",critText:"",img:void 0,track:void 0,sound:void 0});var g=e.int32();for(y=0;y<g;y++){var b=e.int32(),_=e.int32(),w=e.byte(),E=e.byte(),x=E===d.Percentage,k=E===d.Value,S=E===d.Formula,C=e.readString(),O=e.readString(),T=e.readString(!0),N=e.readString(!0),j=e.readString(!0);v[b-1]={change:_,showingType:w,isChangePercentage:x,isChangeFormula:S,isChangeValue:k,changingFormula:C,critText:O,img:T,track:j,sound:N}}var P=[],I=[],R=e.int32();for(y=0;y<R;y++){var A=e.readString();P.push(A);T=e.readString(!0),N=e.readString(!0),j=e.readString(!0);I.push({img:T,track:j,sound:N})}return{dayPassed:n,id:o,isEmpty:m,isFaily:c,isFailyDeadly:p,isStarting:u,isSuccess:l,paramsChanges:v,texts:P,media:I,isTextByFormula:!!e.byte(),textSelectFormula:e.readString(),maxVisits:a,locX:r,locY:i}}function k(e,t){var n=e.float64(),r=!!e.int32(),i=e.int32(),o=e.int32(),a=e.int32();e.seek(1);for(var s=!!e.byte(),u=e.int32(),l=e.int32(),c=[],f=[],d=0;d<t;d++){e.seek(4);var h=e.int32(),p=e.int32(),m=e.int32(),v=e.int32();e.seek(1);for(var y=!!e.byte(),g=!!e.byte(),b=!!e.byte(),_=e.readString(),w=e.int32(),E=!!e.byte(),x=[],k=0;k<w;k++)x.push(e.int32());var S=e.int32(),C=!!e.byte(),O=[];for(k=0;k<S;k++)O.push(e.int32());var T=e.readString();c.push({change:m,showingType:v,isChangeFormula:b,isChangePercentage:y,isChangeValue:g,changingFormula:_,critText:T,img:void 0,track:void 0,sound:void 0}),f.push({mustFrom:h,mustTo:p,mustEqualValues:x,mustEqualValuesEqual:E,mustModValues:O,mustModValuesMod:C})}return{priority:n,dayPassed:r,id:i,fromLocationId:o,toLocationId:a,alwaysShow:s,jumpingCountLimit:u,showingOrder:l,paramsChanges:c,paramsConditions:f,formulaToPass:e.readString(),text:e.readString(),description:e.readString(),img:void 0,track:void 0,sound:void 0}}function S(e,t,n){for(var r=e.float64(),i=!!e.int32(),o=e.int32(),a=e.int32(),s=e.int32(),u=!!e.byte(),l=e.int32(),c=e.int32(),h=[],p=[],m=0;m<t;m++)h.push({change:0,showingType:f.НеТрогать,isChangeFormula:!1,isChangePercentage:!1,isChangeValue:!1,changingFormula:"",critText:"",img:void 0,track:void 0,sound:void 0}),p.push({mustFrom:n[m].min,mustTo:n[m].max,mustEqualValues:[],mustEqualValuesEqual:!1,mustModValues:[],mustModValuesMod:!1});var v=e.int32();for(m=0;m<v;m++){for(var y=e.int32(),g=e.int32(),b=e.int32(),_=e.int32(),w=!!e.byte(),E=[],x=0;x<_;x++)E.push(e.int32());var k=e.int32(),S=!!e.byte(),C=[];for(x=0;x<k;x++)C.push(e.int32());p[y-1]={mustFrom:g,mustTo:b,mustEqualValues:E,mustEqualValuesEqual:w,mustModValues:C,mustModValuesMod:S}}var O=e.int32();for(m=0;m<O;m++){y=e.int32();var T=e.int32(),N=e.byte(),j=e.byte(),P=j===d.Percentage,I=j===d.Value,R=j===d.Formula,A=e.readString(),D=e.readString(),M=e.readString(!0),L=e.readString(!0),F=e.readString(!0);h[y-1]={change:T,showingType:N,isChangeFormula:R,isChangePercentage:P,isChangeValue:I,changingFormula:A,critText:D,img:M,track:F,sound:L}}var z=e.readString(),B=e.readString(),U=e.readString(),q=e.readString(!0),V=e.readString(!0);return{priority:r,dayPassed:i,id:o,fromLocationId:a,toLocationId:s,alwaysShow:u,jumpingCountLimit:l,showingOrder:c,paramsChanges:h,paramsConditions:p,formulaToPass:z,text:B,description:U,img:q,track:e.readString(!0),sound:V}}function C(e){for(var t=new u(e),n=t.int32(),r=function(e,t){if(t===y||t===g||t===b){var n=t===g||t===b?e.int32():void 0,r=t===g||t===b?e.int32():void 0,i=t===g||t===b?e.readString(!0):void 0,o=e.byte(),a=e.byte(),s=e.byte(),u=e.byte(),l=e.byte(),c=e.int32(),f=e.int32(),d=e.int32(),h=e.int32(),_=e.int32();return{givingRace:o,whenDone:a,planetRace:s,playerCareer:u,playerRace:l,defaultJumpCountLimit:e.int32(),hardness:e.int32(),paramsCount:w=e.int32(),changeLogString:i,majorVersion:n,minorVersion:r,screenSizeX:f,screenSizeY:d,reputationChange:c,widthSize:h,heightSize:_}}var w;if(!(w=t===m?48:t===p?24:t===v?96:void 0))throw new Error("Unknown header "+t);return e.dwordFlag(),o=e.byte(),a=e.byte(),e.dwordFlag(),s=e.byte(),e.dwordFlag(),u=e.byte(),e.dwordFlag(),l=e.byte(),c=e.int32(),f=e.int32(),d=e.int32(),h=e.int32(),_=e.int32(),e.dwordFlag(),{givingRace:o,whenDone:a,planetRace:s,playerCareer:u,playerRace:l,defaultJumpCountLimit:e.int32(),hardness:e.int32(),paramsCount:w,reputationChange:c,screenSizeX:f,screenSizeY:d,widthSize:h,heightSize:_}}(t,n),i=n===y||n===g||n===b,o=[],a=0;a<r.paramsCount;a++)o.push(i?w(t):_(t));var l=function(e,t){var n=e.readString(),r=t?void 0:e.readString(!0),i=t?void 0:e.readString(!0),o=e.readString(),a=e.readString(),s=e.readString(),u=e.readString(),l=e.readString(),c=e.readString(),f=e.int32(),d=e.int32(),h=e.readString(),p=e.readString();return t||e.readString(),{strings:{ToStar:n,Parsec:r,Artefact:i,ToPlanet:o,Date:a,Money:s,FromPlanet:u,FromStar:l,Ranger:c},locationsCount:f,jumpsCount:d,successText:h,taskText:p}}(t,i),c=[];for(a=0;a<l.locationsCount;a++)c.push(i?x(t,r.paramsCount):E(t,r.paramsCount));var f=[];for(a=0;a<l.jumpsCount;a++)f.push(i?S(t,r.paramsCount,o):k(t,r.paramsCount));if(t.isNotEnd())throw new Error(t.isNotEnd());var d={header:n};return s(s(s(s({},r),l),d),{params:o,locations:c,jumps:f})}!function(e){e[e["Обычный"]=0]="Обычный",e[e["Провальный"]=1]="Провальный",e[e["Успешный"]=2]="Успешный",e[e["Смертельный"]=3]="Смертельный"}(l||(l={})),function(e){e[e["Максимум"]=0]="Максимум",e[e["Минимум"]=1]="Минимум"}(c||(c={})),function(e){e[e["НеТрогать"]=0]="НеТрогать",e[e["Показать"]=1]="Показать",e[e["Скрыть"]=2]="Скрыть"}(f||(f={})),function(e){e[e.Value=0]="Value",e[e.Summ=1]="Summ",e[e.Percentage=2]="Percentage",e[e.Formula=3]="Formula"}(d||(d={})),function(e){e[e.Ordinary=0]="Ordinary",e[e.Starting=1]="Starting",e[e.Empty=2]="Empty",e[e.Success=3]="Success",e[e.Faily=4]="Faily",e[e.Deadly=5]="Deadly"}(h||(h={}))},function(e,t,n){e.exports=n(415)()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return pn})),n.d(t,"b",(function(){return Ve})),n.d(t,"c",(function(){return Se})),n.d(t,"d",(function(){return st})),n.d(t,"e",(function(){return ue})),n.d(t,"f",(function(){return dt})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return pt})),n.d(t,"i",(function(){return Ht})),n.d(t,"j",(function(){return $t})),n.d(t,"k",(function(){return sn})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return ot})),n.d(t,"n",(function(){return et})),n.d(t,"o",(function(){return Et})),n.d(t,"p",(function(){return kt})),n.d(t,"q",(function(){return me}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var l=[];Object.freeze(l);var c={};Object.freeze(c);var f={};function d(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:f}function h(){return++De.mobxGuid}function p(e){throw m(!1,e),"X"}function m(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function v(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function g(e){return null!==e&&"object"==typeof e}function b(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function _(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function w(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function E(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return g(e)&&!0===e[n]}}function x(e){return void 0!==d().Map&&e instanceof d().Map}function k(e){return e instanceof Set}function S(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function C(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function O(e){return null===e?null:"object"==typeof e?""+e:e}function T(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function N(e,t){w(e,T(),t)}function j(e){return e[T()]=I,e}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function I(){return this}var R=function(){function e(e){void 0===e&&(e="Atom@"+h()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ue(this)},e.prototype.reportChanged=function(){ze(),function(e){if(e.lowestObserverState===ie.STALE)return;e.lowestObserverState=ie.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.isTracing!==oe.NONE&&qe(r,e),r.onBecomeStale()),r.dependenciesState=ie.STALE}}(this),Be()},e.prototype.toString=function(){return this.name},e}(),A=E("Atom",R);function D(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r,i=new R(e);return ft("onBecomeObserved",i,t,r),ct(i,n),i}function M(e,t){return e===t}var L={identity:M,structural:function(e,t){return fn(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||M(e,t)},shallow:function(e,t){return fn(e,t,1)}},F={},z={};function B(e,t){var n=t?F:z;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return U(this),this[e]},set:function(t){U(this),this[e]=t}})}function U(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in _(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function q(e,t){return function(){var n,r=function(r,i,o,s){if(!0===s)return t(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var u=r.__mobxDecorators;_(r,"__mobxDecorators",a({},u))}return r.__mobxDecorators[i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},B(i,e)};return V(arguments)?(n=l,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function V(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function W(e,t,n){return gt(e)?e:Array.isArray(e)?ne.array(e,{name:n}):b(e)?ne.object(e,void 0,{name:n}):x(e)?ne.map(e,{name:n}):k(e)?ne.set(e,{name:n}):e}function H(e){return e}function Y(e){var t=q(!0,(function(t,n,r,i,o){tn(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=(void 0!==r&&r.env,t);return n.enhancer=e,n}var G={deep:!0,name:void 0,defaultDecorator:void 0},Q={deep:!1,name:void 0,defaultDecorator:void 0};function $(e){return null==e?G:"string"==typeof e?{name:e,deep:!0}:e}function X(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?H:W}Object.freeze(G),Object.freeze(Q);var K=Y(W),J=Y((function(e,t,n){return null==e||sn(e)||Ht(e)||$t(e)||Jt(e)?e:Array.isArray(e)?ne.array(e,{name:n,deep:!1}):b(e)?ne.object(e,void 0,{name:n,deep:!1}):x(e)?ne.map(e,{name:n,deep:!1}):k(e)?ne.set(e,{name:n,deep:!1}):p(!1)})),Z=Y(H),ee=Y((function(e,t,n){return fn(e,t)?t:e}));var te={box:function(e,t){arguments.length>2&&re("box");var n=$(t);return new Te(e,X(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&re("shallowBox"),ne.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&re("array");var n=$(t);return new zt(e,X(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&re("shallowArray"),ne.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&re("map");var n=$(t);return new Gt(e,X(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&re("shallowMap"),ne.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&re("set");var n=$(t);return new Kt(e,X(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&re("object");var r=$(n);return ht({},e,t,r)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&re("shallowObject"),ne.object(e,{},{name:t,deep:!1})},ref:Z,shallow:J,deep:K,struct:ee},ne=function(e,t,n){if("string"==typeof arguments[1])return K.apply(null,arguments);if(gt(e))return e;var r=b(e)?ne.object(e,t,n):Array.isArray(e)?ne.array(e,t):x(e)?ne.map(e,t):k(e)?ne.set(e,t):e;if(r!==e)return r;p(!1)};function re(e){p("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(te).forEach((function(e){return ne[e]=te[e]}));var ie,oe,ae=q(!1,(function(e,t,n,r,i){var o=n.get,s=n.set,u=i[0]||{};!function(e,t,n){var r=en(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new je(n),Object.defineProperty(e,t,function(e){return rn[e]||(rn[e]={configurable:De.computedConfigurable,enumerable:!1,get:function(){return on(this).read(this,e)},set:function(t){on(this).write(this,e,t)}})}(t))}(e,t,a({get:o,set:s},u))})),se=ae({equals:L.structural}),ue=function(e,t,n){if("string"==typeof t)return ae.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ae.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new je(r)};ue.struct=se,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(ie||(ie={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(oe||(oe={}));var le=function(e){this.cause=e};function ce(e){return e instanceof le}function fe(e){switch(e.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var t=ge(!0),n=ve(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(Pe(a)){if(De.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ye(n),be(t),!0}if(e.dependenciesState===ie.STALE)return ye(n),be(t),!0}}return _e(e),ye(n),be(t),!1}}function de(e){var t=e.observers.length>0;De.computationDepth>0&&t&&p(!1),De.allowStateChanges||!t&&"strict"!==De.enforceActions||p(!1)}function he(e,t,n){var r=ge(!0);_e(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++De.runId;var i,o=De.trackingDerivation;if(De.trackingDerivation=e,!0===De.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new le(e)}return De.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ie.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&Le(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,Me(s,e))}r!==ie.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,be(r),i}function pe(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Le(t[n],e);e.dependenciesState=ie.NOT_TRACKING}function me(e){var t=ve(),n=e();return ye(t),n}function ve(){var e=De.trackingDerivation;return De.trackingDerivation=null,e}function ye(e){De.trackingDerivation=e}function ge(e){var t=De.allowStateReads;return De.allowStateReads=e,t}function be(e){De.allowStateReads=e}function _e(e){if(e.dependenciesState!==ie.UP_TO_DATE){e.dependenciesState=ie.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=ie.UP_TO_DATE}}var we=0,Ee=1;function xe(e,t){var n=function(){return ke(e,t,this,arguments)};return n.isMobxAction=!0,n}function ke(e,t,n,r){var i=function(e,t,n){var r=$e()&&!!e,i=0;if(r){i=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];Ke({type:"action",name:e,object:t,arguments:a})}var u=ve();ze();var l=Ce(!0),c=ge(!0),f={prevDerivation:u,prevAllowStateChanges:l,prevAllowStateReads:c,notifySpy:r,startTime:i,actionId:Ee++,parentActionId:we};return we=f.actionId,f}(e,n,r);try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){we!==e.actionId&&p("invalid action stack. did you forget to finish an action?");we=e.parentActionId,void 0!==e.error&&(De.suppressReactionErrors=!0);Oe(e.prevAllowStateChanges),be(e.prevAllowStateReads),Be(),ye(e.prevDerivation),e.notifySpy&&Ze({time:Date.now()-e.startTime});De.suppressReactionErrors=!1}(i)}}function Se(e,t){var n,r=Ce(e);try{n=t()}finally{Oe(r)}return n}function Ce(e){var t=De.allowStateChanges;return De.allowStateChanges=e,t}function Oe(e){De.allowStateChanges=e}var Te=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+h()),void 0===i&&(i=!0),void 0===o&&(o=L.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&$e()&&Xe({type:"create",name:a.name,newValue:""+a.value}),a}return o(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==De.UNCHANGED){var n=$e();n&&Ke({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&Ze()}},t.prototype.prepareNewValue=function(e){if(de(this),St(this)){var t=Ot(this,{object:this,type:"update",newValue:e});if(!t)return De.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?De.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Tt(this)&&jt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ct(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Nt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return O(this.get())},t}(R);Te.prototype[C()]=Te.prototype.valueOf;var Ne=E("ObservableValue",Te),je=function(){function e(e){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+h(),this.value=new le(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=oe.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+h(),e.set&&(this.setter=xe(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?L.structural:L.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==ie.UP_TO_DATE)return;e.lowestObserverState=ie.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.dependenciesState=ie.POSSIBLY_STALE,r.isTracing!==oe.NONE&&qe(r,e),r.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&p("Cycle detected in computation "+this.name+": "+this.derivation),0!==De.inBatch||0!==this.observers.length||this.keepAlive?(Ue(this),fe(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===ie.STALE)return;e.lowestObserverState=ie.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===ie.POSSIBLY_STALE?r.dependenciesState=ie.STALE:r.dependenciesState===ie.UP_TO_DATE&&(e.lowestObserverState=ie.UP_TO_DATE)}}(this)):fe(this)&&(this.warnAboutUntrackedRead(),ze(),this.value=this.computeValue(!1),Be());var e=this.value;if(ce(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ce(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){m(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else m(!1,!1)},e.prototype.trackAndCompute=function(){$e()&&Xe({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ie.NOT_TRACKING,n=this.computeValue(!0),r=t||ce(e)||ce(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,De.computationDepth++,e)t=he(this,this.derivation,this.scope);else if(!0===De.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new le(e)}return De.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(pe(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return st((function(){var o=n.get();if(!r||t){var a=ve();e({type:"update",object:n,newValue:o,oldValue:i}),ye(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return O(this.get())},e}();je.prototype[C()]=je.prototype.valueOf;var Pe=E("ComputedValue",je),Ie=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Re=!0,Ae=!1,De=function(){var e=d();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Re=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ie).version&&(Re=!1),Re?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ie):(setTimeout((function(){Ae||p("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ie)}();function Me(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Le(e,t){if(1===e.observers.length)e.observers.length=0,Fe(e);else{var n=e.observers,r=e.observersIndexes,i=n.pop();if(i!==t){var o=r[t.__mapid]||0;o?r[i.__mapid]=o:delete r[i.__mapid],n[o]=i}delete r[t.__mapid]}}function Fe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,De.pendingUnobservations.push(e))}function ze(){De.inBatch++}function Be(){if(0==--De.inBatch){He();for(var e=De.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof je&&n.suspend())}De.pendingUnobservations=[]}}function Ue(e){var t=De.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&De.inBatch>0&&Fe(e),!1)}function qe(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===oe.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}(pt(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof je?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Ve=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+h()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+h(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=oe.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,De.pendingReactions.push(this),He())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ze(),this._isScheduled=!1,fe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&$e()&&Xe({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Be()}},e.prototype.track=function(e){ze();var t,n=$e();n&&(t=Date.now(),Ke({name:this.name,type:"reaction"})),this._isRunning=!0;var r=he(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&pe(this),ce(r)&&this.reportExceptionInDerivation(r.cause),n&&Ze({time:Date.now()-t}),Be()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(De.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";De.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),$e()&&Xe({type:"error",name:this.name,message:n,error:""+e}),De.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ze(),pe(this),Be()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=xt(e);if(!r)return p(!1);r.isTracing===oe.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?oe.BREAK:oe.LOG}(this,e)},e}();var We=function(e){return e()};function He(){De.inBatch>0||De.isRunningReactions||We(Ye)}function Ye(){De.isRunningReactions=!0;for(var e=De.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}De.isRunningReactions=!1}var Ge=E("Reaction",Ve);function Qe(e){var t=We;We=function(n){return e((function(){return t(n)}))}}function $e(){return!!De.spyListeners.length}function Xe(e){if(De.spyListeners.length)for(var t=De.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Ke(e){Xe(a(a({},e),{spyReportStart:!0}))}var Je={spyReportEnd:!0};function Ze(e){Xe(e?a(a({},e),{spyReportEnd:!0}):Je)}function et(e){return De.spyListeners.push(e),v((function(){De.spyListeners=De.spyListeners.filter((function(t){return t!==e}))}))}function tt(){p(!1)}function nt(e){return function(t,n,r){if(r){if(r.value)return{value:xe(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return xe(e,i.call(this))}}}return rt(e).apply(this,arguments)}}function rt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){_(this,n,it(e,t))}})}}var it=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?xe(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?xe(e,t):1===arguments.length&&"string"==typeof e?nt(e):!0!==r?nt(t).apply(null,arguments):void(e[t]=xe(e.name||t,n.value))};function ot(e,t){return ke("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function at(e,t,n){_(e,t,xe(t,n.bind(e)))}function st(e,t){void 0===t&&(t=c);var n,r=t&&t.name||e.name||"Autorun@"+h();if(!t.scheduler&&!t.delay)n=new Ve(r,(function(){this.track(a)}),t.onError,t.requiresObservable);else{var i=lt(t),o=!1;n=new Ve(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(a)})))}),t.onError,t.requiresObservable)}function a(){e(n)}return n.schedule(),n.getDisposer()}it.bound=function(e,t,n,r){return!0===r?(at(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return at(this,t,n.value||n.initializer.call(this)),this[t]},set:tt}:{enumerable:!1,configurable:!0,set:function(e){at(this,t,e)},get:function(){}}};var ut=function(e){return e()};function lt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ut}function ct(e,t,n){return ft("onBecomeUnobserved",e,t,n)}function ft(e,t,n,r){var i="function"==typeof r?un(t,n):un(t),o="function"==typeof r?r:n,a=i[e];return"function"!=typeof a?p(!1):(i[e]=function(){a.call(this),o.call(this)},function(){i[e]=a})}function dt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.arrayBuffer,a=e.reactionScheduler,s=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((De.pendingReactions.length||De.inBatch||De.isRunningReactions)&&p("isolateGlobalState should be called before MobX is running any reactions"),Ae=!0,Re&&(0==--d().__mobxInstanceCount&&(d().__mobxGlobals=void 0),De=new Ie)),void 0!==t){var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:p("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}De.enforceActions=l,De.allowStateChanges=!0!==l&&"strict"!==l}void 0!==n&&(De.computedRequiresReaction=!!n),void 0!==s&&(De.reactionRequiresObservable=!!s),void 0!==u&&(De.observableRequiresReaction=!!u,De.allowStateReads=!De.observableRequiresReaction),void 0!==r&&(De.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),De.disableErrorBoundaries=!!i),"number"==typeof o&&Vt(o),a&&Qe(a)}function ht(e,t,n,r){var i=(r=$(r)).defaultDecorator||(!1===r.deep?Z:K);U(e),en(e,r.name,i.enhancer),ze();try{for(var o in t){var a=Object.getOwnPropertyDescriptor(t,o);0;var s=(n&&o in n?n[o]:a.get?ae:i)(e,o,a,!0);s&&Object.defineProperty(e,o,s)}}finally{Be()}return e}function pt(e,t){return mt(un(e,t))}function mt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(mt)),r}function vt(){this.message="FLOW_CANCELLED"}function yt(e,t){if(null==e)return!1;if(void 0!==t){if(sn(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return sn(e)||!!e.$mobx||A(e)||Ge(e)||Pe(e)}function gt(e){return 1!==arguments.length&&p(!1),yt(e)}function bt(e){return sn(e)?e.$mobx.getKeys():$t(e)?e._keys.slice():Jt(e)?S(e.keys()):Ht(e)?e.map((function(e,t){return t})):p(!1)}vt.prototype=Object.create(Error.prototype);var _t={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function wt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Et(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=_t),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!gt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ne(t))return e(t.get(),n,r);if(gt(t)&&bt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Ht(t)||Array.isArray(t)){var i=wt(r,t,[],n),o=t.map((function(t){return e(t,n,r)}));i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if(Jt(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=wt(r,t,new Set,n);return t.forEach((function(t){u.add(e(t,n,r))})),u}var l=wt(r,t,[],n);return t.forEach((function(t){l.push(e(t,n,r))})),l}if($t(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var c=wt(r,t,new Map,n);return t.forEach((function(t,i){c.set(i,e(t,n,r))})),c}var f=wt(r,t,{},n);return t.forEach((function(t,i){f[i]=e(t,n,r)})),f}var d=wt(r,t,{},n);for(var h in t)d[h]=e(t[h],n,r);return d}(e,t,n)}function xt(e){switch(e.length){case 0:return De.trackingDerivation;case 1:return un(e[0]);case 2:return un(e[0],e[1])}}function kt(e,t){void 0===t&&(t=void 0),ze();try{return e.apply(t)}finally{Be()}}function St(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ct(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ot(e,t){var n=ve();try{var r=e.interceptors;if(r)for(var i=0,o=r.length;i<o&&(m(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{ye(n)}}function Tt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Nt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function jt(e,t){var n=ve(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);ye(n)}}var Pt,It,Rt,At,Dt=(Pt=!1,It={},Object.defineProperty(It,"0",{set:function(){Pt=!0}}),Object.create(It)[0]=1,!1===Pt),Mt=0,Lt=function(){};Rt=Lt,At=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Rt.prototype,At):void 0!==Rt.prototype.__proto__?Rt.prototype.__proto__=At:Rt.prototype=At,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Lt.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Ft=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new R(e||"ObservableArray@"+h()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ct(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Nt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Mt&&Vt(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;de(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=l),St(this)){var o=Ot(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return l;t=o.removedCount,n=o.added}var a=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(i,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,u([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&$e(),i=Tt(this),o=i||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&Ke(a(a({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&jt(this,o),r&&Ze()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&$e(),i=Tt(this),o=i||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&Ke(a(a({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&jt(this,o),r&&Ze()},e}(),zt=function(e){function t(t,n,r,i){void 0===r&&(r="ObservableArray@"+h()),void 0===i&&(i=!1);var o=e.call(this)||this,a=new Ft(r,n,o,i);if(w(o,"$mobx",a),t&&t.length){var s=Ce(!0);o.spliceWithArray(0,0,t),Oe(s)}return Dt&&Object.defineProperty(a.array,"0",Bt),o}return o(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return Ht(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),i=r.length,o=n;o<i;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,i=this.$mobx.values;r=e<t?u(i.slice(0,e),i.slice(e+1,t+1),[i[e]],i.slice(t+1)):u(i.slice(0,t),[i[e]],i.slice(t,e),i.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){de(n.atom);var i=r[e];if(St(n)){var o=Ot(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(Lt);N(zt.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return j({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(zt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),_(zt.prototype,P(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];m("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),_(zt.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)_(e,t[n],e[t[n]])}(zt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Bt=Ut(0);function Ut(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function qt(e){Object.defineProperty(zt.prototype,""+e,Ut(e))}function Vt(e){for(var t=Mt;t<e;t++)qt(t);Mt=e}Vt(1e3);var Wt=E("ObservableArrayAdministration",Ft);function Ht(e){return g(e)&&Wt(e.$mobx)}var Yt={},Gt=function(){function e(e,t,n){if(void 0===t&&(t=W),void 0===n&&(n="ObservableMap@"+h()),this.enhancer=t,this.name=n,this.$mobx=Yt,this._keys=new zt(void 0,H,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!De.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Te(this._has(e),H,this.name+"."+Qt(e)+"?",!1);this._hasMap.set(e,r),ct(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(St(this)){var r=Ot(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(St(this)&&!(i=Ot(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=$e(),r=Tt(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&Ke(a(a({},i),{name:this.name,key:e})),kt((function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&jt(this,i),n&&Ze(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==De.UNCHANGED){var r=$e(),i=Tt(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&Ke(a(a({},o),{name:this.name,key:e})),n.setNewValue(t),i&&jt(this,o),r&&Ze()}},e.prototype._addValue=function(e,t){var n=this;kt((function(){var r=new Te(t,n.enhancer,n.name+"."+Qt(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)}));var r=$e(),i=Tt(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&Ke(a(a({},o),{name:this.name,key:e})),i&&jt(this,o),r&&Ze()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[T()]()},e.prototype.values=function(){var e=this,t=0;return j({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return j({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach((function(r){return e.call(t,n.get(r),r,n)}))},e.prototype.merge=function(e){var t=this;return $t(e)&&(e=e.toJS()),kt((function(){b(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=s(e,2),r=n[0],i=n[1];return t.set(r,i)})):x(e)?e.constructor!==Map?p("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&p("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;kt((function(){me((function(){e._keys.slice().forEach((function(t){return e.delete(t)}))}))}))},e.prototype.replace=function(e){var t=this;return kt((function(){for(var n,r=x(n=e)||$t(n)?n:Array.isArray(n)?new Map(n):b(n)?new Map(Object.entries(n)):p("Cannot convert to map from '"+n+"'"),i=t._keys,o=Array.from(r.keys()),a=!1,s=0;s<i.length;s++){var u=i[s];i.length===o.length&&u!==o[s]&&(a=!0),r.has(u)||(a=!0,t.delete(u))}r.forEach((function(e,n){t._data.has(n)||(a=!0),t.set(n,e)})),a&&t._keys.replace(o)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach((function(n){return t["symbol"==typeof n?n:Qt(n)]=e.get(n)})),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach((function(n){return t.set(n,e.get(n))})),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map((function(t){return Qt(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Nt(this,e)},e.prototype.intercept=function(e){return Ct(this,e)},e}();function Qt(e){return e&&e.toString?e.toString():new String(e).toString()}N(Gt.prototype,(function(){return this.entries()})),w(Gt.prototype,P(),"Map");var $t=E("ObservableMap",Gt),Xt={},Kt=function(){function e(e,t,n){if(void 0===t&&(t=W),void 0===n&&(n="ObservableSet@"+h()),this.name=n,this.$mobx=Xt,this._data=new Set,this._atom=D(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;kt((function(){me((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((de(this._atom),St(this))&&!(i=Ot(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){kt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=$e(),r=Tt(this),i=r||n?{type:"add",object:this,newValue:e}:null;0,r&&jt(this,i)}return this},e.prototype.delete=function(e){var t=this;if(St(this)&&!(i=Ot(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=$e(),r=Tt(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return kt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&jt(this,i),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=S(this.keys()),n=S(this.values());return j({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=S(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),j({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Jt(e)&&(e=e.toJS()),kt((function(){Array.isArray(e)||k(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&p("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return Nt(this,e)},e.prototype.intercept=function(e){return Ct(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+S(this.keys()).join(", ")+" ]"},e}();N(Kt.prototype,(function(){return this.values()})),w(Kt.prototype,P(),"Set");var Jt=E("ObservableSet",Kt),Zt=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var i=this.values[t];if(i instanceof je)i.set(n);else{if(St(this)){if(!(u=Ot(this,{type:"update",object:r,name:t,newValue:n})))return;n=u.newValue}if((n=i.prepareNewValue(n))!==De.UNCHANGED){var o=Tt(this),s=$e(),u=o||s?{type:"update",object:r,oldValue:i.value,name:t,newValue:n}:null;s&&Ke(a(a({},u),{name:this.name,key:t})),i.setNewValue(n),o&&jt(this,u),s&&Ze()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(St(this))if(!(o=Ot(this,{object:t,name:e,type:"remove"})))return;try{ze();var n=Tt(this),r=$e(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||r?{type:"remove",object:t,oldValue:i,name:e}:null;r&&Ke(a(a({},o),{name:this.name,key:e})),n&&jt(this,o),r&&Ze()}finally{Be()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Nt(this,e)},e.prototype.intercept=function(e){return Ct(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new zt(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Te})),H,"keys("+this.name+")",!0)),this.keys.slice()},e}();function en(e,t,n){void 0===t&&(t=""),void 0===n&&(n=W);var r=e.$mobx;return r||(b(e)||(t=(e.constructor.name||"ObservableObject")+"@"+h()),t||(t="ObservableObject@"+h()),w(e,"$mobx",r=new Zt(e,t,n)),r)}function tn(e,t,n,r){var i=en(e);if(St(i)){var o=Ot(i,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(i.values[t]=new Te(n,r,i.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return nn[e]||(nn[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),i.keys&&i.keys.push(t),function(e,t,n,r){var i=Tt(e),o=$e(),s=i||o?{type:"add",object:t,name:n,newValue:r}:null;o&&Ke(a(a({},s),{name:e.name,key:n}));i&&jt(e,s);o&&Ze()}(i,e,t,n)}var nn=Object.create(null),rn=Object.create(null);function on(e){var t=e.$mobx;return t||(U(e),e.$mobx)}var an=E("ObservableObjectAdministration",Zt);function sn(e){return!!g(e)&&(U(e),an(e.$mobx))}function un(e,t){if("object"==typeof e&&null!==e){if(Ht(e))return void 0!==t&&p(!1),e.$mobx.atom;if(Jt(e))return e.$mobx;if($t(e)){var n=e;return void 0===t?un(n._keys):((r=n._data.get(t)||n._hasMap.get(t))||p(!1),r)}var r;if(U(e),t&&!e.$mobx&&e[t],sn(e))return t?((r=e.$mobx.values[t])||p(!1),r):p(!1);if(A(e)||Pe(e)||Ge(e))return e}else if("function"==typeof e&&Ge(e.$mobx))return e.$mobx;return p(!1)}function ln(e,t){return e||p("Expecting some object"),void 0!==t?ln(un(e,t)):A(e)||Pe(e)||Ge(e)||$t(e)||Jt(e)?e:(U(e),e.$mobx?e.$mobx:void p(!1))}var cn=Object.prototype.toString;function fn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=dn(t),n=dn(n);var s=cn.call(t);if(s!==cn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,c=n.constructor;if(l!==c&&!("function"==typeof l&&l instanceof l&&"function"==typeof c&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var f=(i=i||[]).length;for(;f--;)if(i[f]===t)return o[f]===n;if(i.push(t),o.push(n),u){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,i,o))return!1}else{var d=Object.keys(t),h=void 0;if(f=d.length,Object.keys(n).length!==f)return!1;for(;f--;)if(h=d[f],!hn(n,h)||!e(t[h],n[h],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function dn(e){return Ht(e)?e.peek():x(e)||$t(e)||k(e)||Jt(e)?S(e.entries()):e}function hn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:et,extras:{getDebugName:function(e,t){return(void 0!==t?un(e,t):sn(e)||$t(e)||Jt(e)?ln(e):un(e)).name}},$mobx:pn})}).call(this,n(53),n(187))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));n(191);var r,i=n(4),o=n.n(i);function a(e,t){return void 0===e&&(e=""),void 0===t&&(t=r),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function s(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function u(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,o={};i>0;)o[n=r[i-=1]]=e[n];return o}var l="object"==typeof window&&window.Element||function(){};o.a.oneOfType([o.a.string,o.a.func,function(e,t,n){if(!(e[t]instanceof l))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},o.a.shape({current:o.a.any})]);var c=o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func}),o.a.arrayOf(o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func})]))]),f={Fade:150,Collapse:350,Modal:300,Carousel:600},d=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],h={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"};"undefined"==typeof window||!window.document||window.document.createElement},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r},s=n(50);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e){return"number"==typeof e&&!isNaN(e)}function f(e){return"boolean"==typeof e}function d(e){return"string"==typeof e}function h(e){return"function"==typeof e}function p(e){return d(e)||h(e)?e:null}function m(e){return 0===e||e}n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return Q}));var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e){return Object(r.isValidElement)(e)||d(e)||h(e)||c(e)}var g={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},b={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function _(e){var t=e.enter,n=e.exit,o=e.appendPosition,a=void 0!==o&&o,s=e.collapse,u=void 0===s||s,l=e.collapseDuration,c=void 0===l?300:l;return function(e){var o=e.children,s=e.position,l=e.preventExitTransition,f=e.done,d=e.nodeRef,h=e.isIn,p=a?t+"--"+s:t,m=a?n+"--"+s:n,v=Object(r.useRef)(),y=Object(r.useRef)(0);function g(e){if(e.target===d.current){var t=d.current;t.removeEventListener("animationend",g),0===y.current&&(t.className=v.current)}}function b(){var e=d.current;e.removeEventListener("animationend",b),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,f,c):f()}return Object(r.useLayoutEffect)((function(){var e;e=d.current,v.current=e.className,e.className+=" "+p,e.addEventListener("animationend",g)}),[]),Object(r.useEffect)((function(){h||(l?b():function(){y.current=1;var e=d.current;e.className+=" "+m,e.addEventListener("animationend",b)}())}),[h]),i.a.createElement(i.a.Fragment,null,o)}}var w={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}};function E(e,t){void 0===t&&(t=!1);var n=Object(r.useRef)(e);return Object(r.useEffect)((function(){t&&(n.current=e)})),n.current}function x(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter((function(e){return e!==t.staleId}));case 1:return m(t.toastId)?e.filter((function(e){return e!==t.toastId})):[]}}var k=["delay","staleId"];function S(e){var t=Object(r.useReducer)((function(e){return e+1}),0)[1],n=Object(r.useReducer)(x,[]),i=n[0],o=n[1],a=Object(r.useRef)(null),s=E(0),u=E([]),v=E({}),g=E({toastKey:1,displayedToast:0,props:e,containerId:null,isToastActive:b,getToast:function(e){return v[e]||null}});function b(e){return-1!==i.indexOf(e)}function _(e){var t=e.containerId;!g.props.limit||t&&g.containerId!==t||(s-=u.length,u=[])}function S(e){o({type:1,toastId:e})}function C(){var e=u.shift();T(e.toastContent,e.toastProps,e.staleId)}function O(e,n){var i,o=n.delay,b=n.staleId,_=l(n,k);if(y(e)&&!function(e){var t=e.containerId,n=e.toastId,r=e.updateId;return!!(!a.current||g.props.enableMultiContainer&&t!==g.props.containerId||v[n]&&null==r)}(_)){var w=_.toastId,E=_.updateId,x=_.data,O=g.props,N=function(){return S(w)},j=null==_.updateId;j&&s++;var P,I,R={toastId:w,updateId:E,isLoading:_.isLoading,theme:_.theme||O.theme,icon:null!=(i=_.icon)?i:O.icon,isIn:!1,key:_.key||g.toastKey++,type:_.type,closeToast:N,closeButton:_.closeButton,rtl:O.rtl,position:_.position||O.position,transition:_.transition||O.transition,className:p(_.className||O.toastClassName),bodyClassName:p(_.bodyClassName||O.bodyClassName),style:_.style||O.toastStyle,bodyStyle:_.bodyStyle||O.bodyStyle,onClick:_.onClick||O.onClick,pauseOnHover:f(_.pauseOnHover)?_.pauseOnHover:O.pauseOnHover,pauseOnFocusLoss:f(_.pauseOnFocusLoss)?_.pauseOnFocusLoss:O.pauseOnFocusLoss,draggable:f(_.draggable)?_.draggable:O.draggable,draggablePercent:c(_.draggablePercent)?_.draggablePercent:O.draggablePercent,draggableDirection:_.draggableDirection||O.draggableDirection,closeOnClick:f(_.closeOnClick)?_.closeOnClick:O.closeOnClick,progressClassName:p(_.progressClassName||O.progressClassName),progressStyle:_.progressStyle||O.progressStyle,autoClose:!_.isLoading&&(P=_.autoClose,I=O.autoClose,!1===P||c(P)&&P>0?P:I),hideProgressBar:f(_.hideProgressBar)?_.hideProgressBar:O.hideProgressBar,progress:_.progress,role:d(_.role)?_.role:O.role,deleteToast:function(){!function(e){delete v[e];var n=u.length;(s=m(e)?s-1:s-g.displayedToast)<0&&(s=0);if(n>0){var r=m(e)?1:g.props.limit;if(1===n||1===r)g.displayedToast++,C();else{var i=r>n?n:r;g.displayedToast=i;for(var o=0;o<i;o++)C()}}else t()}(w)}};h(_.onOpen)&&(R.onOpen=_.onOpen),h(_.onClose)&&(R.onClose=_.onClose),"y"===R.draggableDirection&&80===R.draggablePercent&&(R.draggablePercent*=1.5);var A=O.closeButton;!1===_.closeButton||y(_.closeButton)?A=_.closeButton:!0===_.closeButton&&(A=!y(O.closeButton)||O.closeButton),R.closeButton=A;var D=e;Object(r.isValidElement)(e)&&!d(e.type)?D=Object(r.cloneElement)(e,{closeToast:N,toastProps:R,data:x}):h(e)&&(D=e({closeToast:N,toastProps:R,data:x})),O.limit&&O.limit>0&&s>O.limit&&j?u.push({toastContent:D,toastProps:R,staleId:b}):c(o)&&o>0?setTimeout((function(){T(D,R,b)}),o):T(D,R,b)}}function T(e,t,n){var r=t.toastId;n&&delete v[n],v[r]={content:e,props:t},o({type:0,toastId:r,staleId:n})}return Object(r.useEffect)((function(){return g.containerId=e.containerId,w.cancelEmit(3).on(0,O).on(1,(function(e){return a.current&&S(e)})).on(5,_).emit(2,g),function(){return w.emit(3,g)}}),[]),Object(r.useEffect)((function(){g.isToastActive=b,g.displayedToast=i.length,w.emit(4,i.length,e.containerId)}),[i]),Object(r.useEffect)((function(){g.props=e})),{getToastToRender:function(t){for(var n={},r=e.newestOnTop?Object.keys(v).reverse():Object.keys(v),i=0;i<r.length;i++){var o=v[r[i]],a=o.props.position;n[a]||(n[a]=[]),n[a].push(o)}return Object.keys(n).map((function(e){return t(e,n[e])}))},collection:v,containerRef:a,isToastActive:b}}function C(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function O(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function T(e){var t=Object(r.useState)(!0),n=t[0],i=t[1],o=Object(r.useState)(!1),a=o[0],s=o[1],u=Object(r.useRef)(null),l=E({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),c=E(e,!0),f=e.autoClose,d=e.pauseOnHover,p=e.closeToast,m=e.onClick,v=e.closeOnClick;function y(t){if(e.draggable){var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=C(t.nativeEvent),l.y=O(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(e.draggablePercent/100))}}function g(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,o=t.right;e.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?_():b()}}function b(){i(!0)}function _(){i(!1)}function w(t){if(l.canDrag){t.preventDefault();var r=u.current;n&&_(),l.x=C(t),l.y=O(t),"x"===e.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance))}}function x(){var t=u.current;if(l.canDrag){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}Object(r.useEffect)((function(){return h(e.onOpen)&&e.onOpen(Object(r.isValidElement)(e.children)&&e.children.props),function(){h(c.onClose)&&c.onClose(Object(r.isValidElement)(c.children)&&c.children.props)}}),[]),Object(r.useEffect)((function(){return e.draggable&&(document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x)),function(){e.draggable&&(document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x))}}),[e.draggable]),Object(r.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||_();window.addEventListener("focus",b),window.addEventListener("blur",_)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",_))}}),[e.pauseOnFocusLoss]);var k={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return f&&d&&(k.onMouseEnter=_,k.onMouseLeave=b),v&&(k.onClick=function(e){m&&m(e),l.canCloseOnClick&&p()}),{playToast:b,pauseToast:_,isRunning:n,preventExitTransition:a,toastRef:u,eventHandlers:k}}function N(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return Object(r.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":o},Object(r.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Object(r.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function j(e){var t,n,i=e.delay,o=e.isRunning,s=e.closeToast,l=e.type,c=e.hide,f=e.className,d=e.style,p=e.controlledProgress,m=e.progress,v=e.rtl,y=e.isIn,g=e.theme,b=u({},d,{animationDuration:i+"ms",animationPlayState:o?"running":"paused",opacity:c?0:1});p&&(b.transform="scaleX("+m+")");var _=a("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+g,"Toastify__progress-bar--"+l,((t={})["Toastify__progress-bar--rtl"]=v,t)),w=h(f)?f({rtl:v,type:l,defaultClassName:_}):a(_,f),E=((n={})[p&&m>=1?"onTransitionEnd":"onAnimationEnd"]=p&&m<1?null:function(){y&&s()},n);return Object(r.createElement)("div",Object.assign({role:"progressbar","aria-hidden":c?"true":"false","aria-label":"notification timer",className:w,style:b},E))}j.defaultProps={type:b.DEFAULT,hide:!1};var P=["theme","type"],I=function(e){var t=e.theme,n=e.type,r=l(e,P);return i.a.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},r))};var R={info:function(e){return i.a.createElement(I,Object.assign({},e),i.a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.a.createElement(I,Object.assign({},e),i.a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.a.createElement(I,Object.assign({},e),i.a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.a.createElement(I,Object.assign({},e),i.a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.a.createElement("div",{className:"Toastify__spinner"})}},A=function(e){var t,n,i=T(e),o=i.isRunning,s=i.preventExitTransition,u=i.toastRef,l=i.eventHandlers,c=e.closeButton,f=e.children,p=e.autoClose,m=e.onClick,v=e.type,y=e.hideProgressBar,g=e.closeToast,b=e.transition,_=e.position,w=e.className,E=e.style,x=e.bodyClassName,k=e.bodyStyle,S=e.progressClassName,C=e.progressStyle,O=e.updateId,N=e.role,P=e.progress,I=e.rtl,A=e.toastId,D=e.deleteToast,M=e.isIn,L=e.isLoading,F=e.icon,z=e.theme,B=a("Toastify__toast","Toastify__toast-theme--"+z,"Toastify__toast--"+v,((t={})["Toastify__toast--rtl"]=I,t)),U=h(w)?w({rtl:I,position:_,type:v,defaultClassName:B}):a(B,w),q=!!P,V=R[v],W={theme:z,type:v},H=V&&V(W);return!1===F?H=void 0:h(F)?H=F(W):Object(r.isValidElement)(F)?H=Object(r.cloneElement)(F,W):d(F)?H=F:L&&(H=R.spinner()),Object(r.createElement)(b,{isIn:M,done:D,position:_,preventExitTransition:s,nodeRef:u},Object(r.createElement)("div",Object.assign({id:A,onClick:m,className:U},l,{style:E,ref:u}),Object(r.createElement)("div",Object.assign({},M&&{role:N},{className:h(x)?x({type:v}):a("Toastify__toast-body",x),style:k}),H&&Object(r.createElement)("div",{className:a("Toastify__toast-icon",(n={},n["Toastify--animate-icon Toastify__zoom-enter"]=!L,n))},H),Object(r.createElement)("div",null,f)),function(e){if(e){var t={closeToast:g,type:v,theme:z};return h(e)?e(t):Object(r.isValidElement)(e)?Object(r.cloneElement)(e,t):void 0}}(c),(p||q)&&Object(r.createElement)(j,Object.assign({},O&&!q?{key:"pb-"+O}:{},{rtl:I,theme:z,delay:p,isRunning:o,isIn:M,closeToast:g,hide:y,type:v,style:C,className:S,controlledProgress:q,progress:P}))))},D=_({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),M=function(e){var t=S(e),n=t.getToastToRender,i=t.containerRef,o=t.isToastActive,s=e.className,l=e.style,c=e.rtl,f=e.containerId;function d(e){var t,n=a("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=c,t));return h(s)?s({position:e,rtl:c,defaultClassName:n}):a(n,p(s))}return Object(r.createElement)("div",{ref:i,className:"Toastify",id:f},n((function(e,t){var n=0===t.length?u({},l,{pointerEvents:"none"}):u({},l);return Object(r.createElement)("div",{className:d(e),style:n,key:"container-"+e},t.map((function(e){var t=e.content,n=e.props;return Object(r.createElement)(A,Object.assign({},n,{isIn:o(n.toastId),key:"toast-"+n.key,closeButton:!0===n.closeButton?N:n.closeButton}),t)})))})))};M.defaultProps={position:g.TOP_RIGHT,transition:D,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:N,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var L,F,z,B=new Map,U=[],q=!1;function V(){return Math.random().toString(36).substr(2,9)}function W(e){return e&&(d(e.toastId)||c(e.toastId))?e.toastId:V()}function H(e,t){return B.size>0?w.emit(0,e,t):(U.push({content:e,options:t}),q&&v&&(q=!1,F=document.createElement("div"),document.body.appendChild(F),Object(s.render)(Object(r.createElement)(M,Object.assign({},z)),F))),t.toastId}function Y(e,t){return u({},t,{type:t&&t.type||e,toastId:W(t)})}var G=function(e){return function(t,n){return H(t,Y(e,n))}},Q=function(e,t){return H(e,Y(b.DEFAULT,t))};Q.loading=function(e,t){return H(e,Y(b.DEFAULT,u({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Q.promise=function(e,t,n){var r,i=t.pending,o=t.error,a=t.success;i&&(r=d(i)?Q.loading(i,n):Q.loading(i.render,u({},n,i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(e,t,i){var o=u({type:e},s,n,{data:i}),a=d(t)?{render:t}:t;return r?Q.update(r,u({},o,a)):Q(a.render,u({},o,a)),i},c=h(e)?e():e;return c.then((function(e){return a&&l("success",a,e)})).catch((function(e){return o&&l("error",o,e)})),c},Q.success=G(b.SUCCESS),Q.info=G(b.INFO),Q.error=G(b.ERROR),Q.warning=G(b.WARNING),Q.warn=Q.warning,Q.dark=function(e,t){return H(e,Y(b.DEFAULT,u({theme:"dark"},t)))},Q.dismiss=function(e){return w.emit(1,e)},Q.clearWaitingQueue=function(e){return void 0===e&&(e={}),w.emit(5,e)},Q.isActive=function(e){var t=!1;return B.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Q.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=B.get(n||L);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=u({},r,t,{toastId:t.toastId||e,updateId:V()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,H(a,o)}}),0)},Q.done=function(e){Q.update(e,{progress:1})},Q.onChange=function(e){return h(e)&&w.on(4,e),function(){h(e)&&w.off(4,e)}},Q.configure=function(e){void 0===e&&(e={}),q=!0,z=e},Q.POSITION=g,Q.TYPE=b,w.on(2,(function(e){L=e.containerId||e,B.set(L,e),U.forEach((function(e){w.emit(0,e.content,e.options)})),U=[]})).on(3,(function(e){B.delete(e.containerId||e),0===B.size&&w.off(0).off(1).off(5),v&&F&&document.body.removeChild(F)}))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){throw new Error("Unexpected object: "+e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return u}));var r="data/",i=r+"index.json",o="spacerangers-images",a="spacerangers-music-mp3",s="spacerangers-music",u="Dear serviceWorker, please do a skipWaiting call"},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=-1,i=-2,o=-3,a=35},function(e,t,n){var r=n(90)("wks"),i=n(62),o=n(11).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=n(3),i=function(){function e(e){var t,n=this;if(this.s0=0,this.s1=0,this.s2=0,this.c=1,this.random=function(e){var t=2091639*n.s0+2.3283064365386963e-10*n.c;n.s0=n.s1,n.s1=n.s2,n.c=0|t,n.s2=t-n.c;var r=n.s2;return void 0!==e?Math.floor(r*e):r},"string"==typeof e){var r=(t=4022871197,function(e){for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});this.s0=r(" "),this.s1=r(" "),this.s2=r(" ");for(var i=0;i<e.length;i++)this.s0-=r(e[i]),this.s0<0&&(this.s0+=1),this.s1-=r(e[i]),this.s1<0&&(this.s1+=1),this.s2-=r(e[i]),this.s2<0&&(this.s2+=1)}else this.importState(e)}return e.prototype.exportState=function(){return[this.s0,this.s1,this.s2,this.c]},e.prototype.importState=function(e){this.s0=+e[0]||0,this.s1=+e[1]||0,this.s2=+e[2]||0,this.c=+e[3]||0},e}();var o=n(24),a=n(72),s=n(16),u=n(12),l=n(29);n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return C}));var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},h=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function p(e,t){var n=new i(t),r=e.locations.find((function(e){return e.isStarting}));if(!r)throw new Error("No start location!");var a=e.params.map((function(e,t){if(!e.active)return 0;if(e.isMoney){var r="["+(e.max>2e3?2e3:e.max)+"]";return Object(o.a)(r,[],n.random)}return Object(o.a)(e.starting.replace("h",".."),[],n.random)})),s=e.params.map((function(){return!0}));return{state:"starting",locationId:r.id,lastJumpId:null,critParamId:null,possibleJumps:[],paramValues:a,paramShow:s,jumpedCount:{},locationVisitCount:{},daysPassed:0,imageName:null,trackName:null,soundName:null,aleaState:n.exportState(),aleaSeed:t,performedJumps:[]}}function m(e,t,n){void 0===n&&(n=new Date);var r=new Date(n.getTime()+864e5*e),i="eng"===t?["January","February","March","April","May","June","July","August","September","October","November","December"]:["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"];return r.getDate()+" "+i[r.getMonth()]+" "+(r.getFullYear()+1e3)}function v(e,t,n,r,i,o){return Object(a.a)(e,c({Day:""+(s.a-n.daysPassed),Date:m(s.a,r.lang),CurDate:m(n.daysPassed,r.lang)},r),n.paramValues,t.params,o,i)}function y(e,t,n,r){for(var i,o,a=[],s=0;s<e.paramsCount;s++)if(t.paramShow[s]&&e.params[s].active){var u=t.paramValues[s],l=e.params[s];if(0!==u||l.showWhenZero)try{for(var c=(i=void 0,f(l.showingInfo)),d=c.next();!d.done;d=c.next()){var h=d.value;if(u>=h.from&&u<=h.to){var p=v(h.str,e,t,n,s,r);a.push(p);break}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}return a}function g(e){return"Quest"===e?null:e}function b(e,t,n,r){var i=e.texts.map((function(e,t){return{text:e,i:t}})).filter((function(e){return e.text}));if(e.isTextByFormula){if(e.textSelectFormula){var a=Object(o.a)(e.textSelectFormula,t.paramValues,n)-1;return e.texts[a]?a:(r&&console.warn("Location id="+e.id+" formula result textid="+a+", but no text"),0)}var s;return r&&console.warn("Location id="+e.id+" text by formula is set, but no formula"),i[s=n(i.length)]&&i[s].i||0}return i[s=i.length>0?t.locationVisitCount[e.id]%i.length:0]&&i[s].i||0}function _(e,t,n,o){void 0===o&&(o=!1);var a=new i(t.aleaState.slice()),l=a.random,c="rus"===n.lang?{iAgree:"Начети",next:"Даље",goBackToShip:"Докончити"}:{iAgree:"Načeti",next:"Dalje",goBackToShip:"Dokončiti"};if("starting"===t.state)return{text:v(e.taskText,e,t,n,void 0,l),paramsState:[],choices:[{jumpId:s.c,text:c.iAgree,active:!0}],gameState:"running",imageName:null,trackName:null,soundName:null};if("jump"===t.state){if(!(m=e.jumps.find((function(e){return e.id===t.lastJumpId}))))throw new Error("Internal error: no last jump id="+t.lastJumpId);return{text:v(m.description,e,t,n,void 0,a.random),paramsState:y(e,t,n,l),choices:[{jumpId:s.d,text:c.next,active:!0}],gameState:"running",imageName:t.imageName,trackName:g(t.trackName),soundName:t.soundName}}if("location"===t.state||"critonlocation"===t.state){if(!(w=e.locations.find((function(e){return e.id===t.locationId}))))throw new Error("Internal error: no state loc id="+t.locationId);var f=b(w,t,l,o),d=w.texts[f]||"",h=e.jumps.find((function(e){return e.id===t.lastJumpId}));return{text:v(w.isEmpty&&h&&h.description?h.description:d,e,t,n,void 0,a.random),paramsState:y(e,t,n,l),choices:"location"===t.state?w.isFaily||w.isFailyDeadly?[]:w.isSuccess?[{jumpId:s.b,text:c.goBackToShip,active:!0}]:t.possibleJumps.map((function(r){var i=e.jumps.find((function(e){return e.id===r.id}));if(!i)throw new Error("Internal error: no jump "+r.id+" in possible jumps");return{text:v(i.text,e,t,n,void 0,a.random)||c.next,jumpId:r.id,active:r.active}})):[{jumpId:s.d,text:c.next,active:!0}],gameState:w.isFailyDeadly?"dead":w.isFaily?"fail":"running",imageName:t.imageName,trackName:g(t.trackName),soundName:t.soundName}}if("critonjump"===t.state){var p=t.critParamId,m=e.jumps.find((function(e){return e.id===t.lastJumpId}));if(null===p||!m)throw new Error("Internal error: crit="+p+" lastjump="+t.lastJumpId);var _=e.params[p];return{text:v(m.paramsChanges[p].critText||e.params[p].critValueString,e,t,n,void 0,a.random),paramsState:y(e,t,n,l),choices:_.type===r.i.Успешный?[{jumpId:s.b,text:c.goBackToShip,active:!0}]:[],gameState:_.type===r.i.Успешный?"running":_.type===r.i.Провальный?"fail":"dead",imageName:t.imageName,trackName:g(t.trackName),soundName:t.soundName}}if("jumpandnextcrit"===t.state){p=t.critParamId,m=e.jumps.find((function(e){return e.id===t.lastJumpId}));if(null===p||!m)throw new Error("Internal error: crit="+p+" lastjump="+t.lastJumpId);return{text:v(m.description,e,t,n,void 0,a.random),paramsState:y(e,t,n,l),choices:[{jumpId:s.d,text:c.next,active:!0}],gameState:"running",imageName:t.imageName,trackName:g(t.trackName),soundName:t.soundName}}if("critonlocationlastmessage"===t.state){p=t.critParamId;var w=e.locations.find((function(e){return e.id===t.locationId}));if(null===p)throw new Error("Internal error: no critId");if(!w)throw new Error("Internal error: no crit state location "+t.locationId);_=e.params[p];return{text:v(w.paramsChanges[p].critText||e.params[p].critValueString,e,t,n,void 0,a.random),paramsState:y(e,t,n,l),choices:_.type===r.i.Успешный?[{jumpId:s.b,text:c.goBackToShip,active:!0}]:[],gameState:_.type===r.i.Успешный?"running":_.type===r.i.Провальный?"fail":"dead",imageName:t.imageName,trackName:g(t.trackName),soundName:t.soundName}}return"returnedending"===t.state?{text:v(e.successText,e,t,n,void 0,a.random),paramsState:[],choices:[],gameState:"win",imageName:null,trackName:null,soundName:null}:Object(u.a)(t.state)}function w(e,t,n,i){for(var a=[],s=t,u=s.paramValues.slice(0,e.paramsCount),l=s.paramValues.slice(0,e.paramsCount),f=0;f<e.paramsCount;f++){var d=i[f];if(d.showingType===r.k.Показать)(h=s.paramShow.slice())[f]=!0,s=c(c({},s),{paramShow:h});else if(d.showingType===r.k.Скрыть){var h;(h=s.paramShow.slice())[f]=!1,s=c(c({},s),{paramShow:h})}d.isChangeValue?l[f]=d.change:d.isChangePercentage?l[f]=Math.round(u[f]*(100+d.change)/100):d.isChangeFormula?d.changingFormula&&(l[f]=Object(o.a)(d.changingFormula,u,n)):l[f]=u[f]+d.change;var p=e.params[f];l[f]>p.max&&(l[f]=p.max),l[f]<p.min&&(l[f]=p.min),l[f]!==u[f]&&p.type!==r.i.Обычный&&(p.critType===r.h.Максимум&&l[f]===p.max||p.critType===r.h.Минимум&&l[f]===p.min)&&a.push(f)}return{state:s=c(c({},s),{paramValues:l}),critParamsTriggered:a}}function E(e,t,n,r,o){void 0===r&&(r=(new Date).getTime()),void 0===o&&(o=!0);var a=new i(n.aleaState.slice()),s=a.random,u=h(h([],d(n.performedJumps)),[{dateUnix:r,jumpId:e}]),l=c(c({},n),{performedJumps:u});return l=x(e,t,l=c(c({},l),{soundName:null}),s,o),c(c({},l),{aleaState:a.exportState()})}function x(e,t,n,r,i){var o;if(e===s.b)return c(c({},n),{state:"returnedending"});var a=n,u=t.jumps.find((function(t){return t.id===e}));if("starting"===(a=c(c({},a),{imageName:(null==u?void 0:u.img)||a.imageName,trackName:g((null==u?void 0:u.track)||a.trackName),soundName:(null==u?void 0:u.sound)||a.soundName})).state)a=k(t,a=c(c({},a),{state:"location"}),r,i);else if("jump"===a.state){if(!(m=t.jumps.find((function(e){return e.id===a.lastJumpId}))))throw new Error("Internal error: no jump "+a.lastJumpId);a=k(t,a=c(c({},a),{locationId:m.toLocationId,state:"location"}),r,i)}else if("location"===a.state){if(!a.possibleJumps.find((function(t){return t.id===e})))throw new Error("Jump "+e+" is not in list in that location. Possible jumps="+a.possibleJumps.map((function(e){return e.id+"("+e.active+")"})).join(","));var l=t.jumps.find((function(t){return t.id===e}));if(!l)throw new Error('"Internal Error: no jump id='+e+" from possible jump list");a=c(c({},a),{lastJumpId:e}),l.dayPassed&&(a=c(c({},a),{daysPassed:a.daysPassed+1}));var f=w(t,a=c(c({},a),{jumpedCount:c(c({},a.jumpedCount),(o={},o[e]=(a.jumpedCount[e]||0)+1,o))}),r,l.paramsChanges);a=f.state;var d=f.critParamsTriggered,h=t.locations.find((function(e){return e.id===l.toLocationId}));if(!h)throw new Error("Internal error: no next location "+l.toLocationId);if(l.description)a=d.length>0?c(c({},a),{state:"jumpandnextcrit",critParamId:d[0]}):h.isEmpty?k(t,a=c(c({},a),{locationId:h.id,state:"location"}),r,i):c(c({},a),{state:"jump"});else if(d.length>0){var p=d[0];a=c(c({},a),{state:"critonjump",critParamId:p}),a=c(c({},a),{imageName:l.paramsChanges[p].img||t.params[p].img||a.imageName,trackName:g(l.paramsChanges[p].track||t.params[p].track||a.trackName),soundName:l.paramsChanges[p].sound||t.params[p].sound||a.soundName})}else a=k(t,a=c(c({},a),{locationId:h.id,state:"location"}),r,i)}else if("jumpandnextcrit"===a.state){a=c(c({},a),{state:"critonjump"});var m=t.jumps.find((function(e){return e.id===a.lastJumpId}));a=c(c({},a),{imageName:null!==a.critParamId&&(m&&m.paramsChanges[a.critParamId].img||t.params[a.critParamId].img)||a.imageName,trackName:g(null!==a.critParamId&&(m&&m.paramsChanges[a.critParamId].track||t.params[a.critParamId].track)||a.trackName),soundName:null!==a.critParamId&&(m&&m.paramsChanges[a.critParamId].sound||t.params[a.critParamId].sound)||a.soundName})}else{if("critonlocation"!==a.state)throw new Error("Unknown state "+a.state+" in performJump");a=c(c({},a),{state:"critonlocationlastmessage"})}return a}function k(e,t,n,i){var a,s,u,l,d;if("location"!==t.state)throw new Error('Internal error: expecting "location" state');var h=t;h=c(c({},h),{locationVisitCount:c(c({},h.locationVisitCount),(a={},a[h.locationId]=void 0!==h.locationVisitCount[h.locationId]?h.locationVisitCount[h.locationId]+1:0,a))});var p=e.locations.find((function(e){return e.id===h.locationId}));if(!p)throw new Error("Internal error: no state location "+h.locationId);var m=b(p,h,n,i);h=c(c({},h),{imageName:p.media[m]&&p.media[m].img||h.imageName,trackName:g(p.media[m]&&p.media[m].track||h.trackName),soundName:p.media[m]&&p.media[m].sound||h.soundName}),p.dayPassed&&(h=c(c({},h),{daysPassed:h.daysPassed+1}));var v=w(e,h,n,p.paramsChanges);h=v.state;var y=v.critParamsTriggered,_=e.header===r.d||e.header===r.e||e.header===r.f||e.header===r.c;function E(t){for(var r=function(n){if(e.params[n].active){if(h.paramValues[n]>t.paramsConditions[n].mustTo||h.paramValues[n]<t.paramsConditions[n].mustFrom)return{value:!1};if(t.paramsConditions[n].mustEqualValues.length>0){var r=t.paramsConditions[n].mustEqualValues.filter((function(e){return e===h.paramValues[n]}));if(t.paramsConditions[n].mustEqualValuesEqual&&0===r.length)return{value:!1};if(!t.paramsConditions[n].mustEqualValuesEqual&&0!==r.length)return{value:!1}}if(t.paramsConditions[n].mustModValues.length>0){var i=t.paramsConditions[n].mustModValues.filter((function(e){return h.paramValues[n]%e==0}));if(t.paramsConditions[n].mustModValuesMod&&0===i.length)return{value:!1};if(!t.paramsConditions[n].mustModValuesMod&&0!==i.length)return{value:!1}}}},i=0;i<e.paramsCount;i++){var a=r(i);if("object"==typeof a)return a.value}return(!t.formulaToPass||0!==Object(o.a)(t.formulaToPass,h.paramValues,n))&&!(t.jumpingCountLimit&&h.jumpedCount[t.id]>=t.jumpingCountLimit)}var k=function(e,t){for(var n=e.slice(),r=0;r<n.length;r++){for(var i=void 0,o=[],a=r;a<n.length;a++){var s=n[a];void 0===i||s.showingOrder<i?(i=s.showingOrder,o=[a]):s.showingOrder===i&&o.push(a)}var u=1===o.length?o[0]:o[t(o.length)],l=n[r];n[r]=n[u],n[u]=l}return n}(e.jumps.filter((function(e){return e.fromLocationId===h.locationId})).filter((function(t){var n=e.locations.find((function(e){return e.id===t.toLocationId}));if(n&&n.maxVisits&&h.locationVisitCount[t.toLocationId]+1>=n.maxVisits)return!1;if(_){var r=e.jumps.filter((function(e){return e.fromLocationId===t.toLocationId}));return 0===r.length||r.filter((function(e){return e.jumpingCountLimit&&h.jumpedCount[e.id]>=e.jumpingCountLimit})).length!==r.length}return!0})),n).map((function(e){return{jump:e,active:E(e)}})),S=[],C={},O=function(e){var t,r;if(!C[e.jump.text]){C[e.jump.text]=!0;var i=k.filter((function(t){return t.jump.text===e.jump.text}));if(1===i.length){if(e.jump.priority<1&&e.active){var o=1e3;e.active=n(o)<e.jump.priority*o}(e.active||e.jump.alwaysShow)&&S.push(e)}else{var a=i.filter((function(e){return e.active}));if(a.length>0){var s=a.reduce((function(e,t){return t.jump.priority>e?t.jump.priority:e}),0),u=a.filter((function(e){return 100*e.jump.priority>=s})),l=u.map((function(e){return e.jump.priority})).reduce((function(e,t){return t+e}),0),c=n(o=1e6)/o*l;try{for(var d=(t=void 0,f(u)),h=d.next();!h.done;h=d.next()){var p=h.value;if(p.jump.priority>=c||p===u.slice(-1).pop()){S.push(p);break}c-=p.jump.priority}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}}else{var m=i.filter((function(e){return e.jump.alwaysShow})).shift();m&&S.push(m)}}}};try{for(var T=f(k),N=T.next();!N.done;N=T.next()){O(N.value)}}catch(e){s={error:e}}finally{try{N&&!N.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}var j=S.filter((function(e){return e.jump.text})),P=S.filter((function(e){return e.active&&!e.jump.text})),I=P.length>0?[P[0]]:[],R=(j.length>0?j:I).map((function(e){return{active:e.active,id:e.jump.id}}));h=c(c({},h),{possibleJumps:R});try{for(var A=f(y),D=A.next();!D.done;D=A.next()){var M=D.value,L=(e.params[M].type===r.i.Провальный||e.params[M].type===r.i.Смертельный)&&h.possibleJumps.filter((function(e){return e.active})).length>0;if(_&&L);else{var F=e.jumps.find((function(e){return e.id===h.lastJumpId}));h=c(c({},h),{state:p.isEmpty?h.lastJumpId&&F&&F.description?"critonlocation":"critonlocationlastmessage":"critonlocation",critParamId:M}),h=c(c({},h),{imageName:p.paramsChanges[M].img||e.params[M].img||h.imageName,trackName:g(p.paramsChanges[M].track||e.params[M].track||h.trackName),soundName:p.paramsChanges[M].sound||e.params[M].sound||h.soundName})}}}catch(e){l={error:e}}finally{try{D&&!D.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}if("location"===h.state&&1===h.possibleJumps.length){var z=h.possibleJumps[0],B=e.jumps.find((function(e){return e.id===z.id}));if(!B)throw new Error("Unable to find jump id="+z.id);var U=e.jumps.find((function(e){return e.id===h.lastJumpId})),q=b(p,h,n,i),V=p.texts[q]||"";z.active&&!B.text&&(p.isEmpty?!U||!U.description:!V)&&(i&&console.info("Performinig autojump from loc="+h.locationId+" via jump="+B.id),h=x(B.id,e,h,n,i))}else if("critonlocation"===h.state){U=e.jumps.find((function(e){return e.id===h.lastJumpId})),q=b(p,h,n,i),V=p.texts[q]||"";(p.isEmpty?!U||!U.description:!V)&&(h=c(c({},h),{state:"critonlocationlastmessage"}))}return h}function S(e){return{aleaSeed:e.aleaSeed,performedJumps:e.performedJumps}}function C(e,t,n){var r,i;void 0===n&&(n=!1);var o=p(e,t.aleaSeed),a=function(t){if(!_(e,o,l.b,n).choices.find((function(e){return e.jumpId===t.jumpId})))return n&&console.info("Validate=false jumpId="+t.jumpId+" not found"),{value:!1};n&&console.info("Validate jumping jumpId="+t.jumpId),o=E(t.jumpId,e,o,t.dateUnix,n)};try{for(var s=f(t.performedJumps),u=s.next();!u.done;u=s.next()){var c=a(u.value);if("object"==typeof c)return c.value}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return"win"!==_(e,o,l.b).gameState?(n&&console.info("Validate=false, not a win state"),!1):(n&&console.info("Validate=true"),!0)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=!n(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(9),i=n(152),o=n(45),a=Object.defineProperty;t.f=n(20)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(47),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r,i=n(0),o=(n(413),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={entered:!1},t.mounted=!1,t}return o(t,e),t.prototype.componentWillMount=function(){this.setState({entered:!1})},t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,setTimeout((function(){e.mounted&&e.setState({entered:!0})}),10)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.tagName||"div";return i.createElement(e,{style:this.props.style,className:"fade-enter"+(this.state.entered?" fade-enter-active":"")+" "+(this.props.className||"")},this.props.children)},t}(i.Component),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return i.createElement(a,{className:"p-3 text-center"},i.createElement("i",{className:"fa fa-spinner fa-spin"}),this.props.text?i.createElement("span",null," ",this.props.text,"..."):null)},t}(i.Component),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){location.replace(this.props.to)},t.prototype.render=function(){return i.createElement(s,{text:"Redirecting to "+this.props.to})},t}(i.Component),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.error;return console.warn(e),i.createElement("div",{className:"text-center p-3 text-danger"},e instanceof Error?i.createElement("div",null,i.createElement("div",null,e.name,": ",e.message),i.createElement("div",null,e.stack)):i.createElement("span",null,e.toString()),i.createElement("div",null,this.props.children))},t}(i.Component)},function(e,t,n){"use strict";var r={mod:"mod keyword",div:"div keyword",to:"to keyword",in:"in keyword",and:"and keyword",or:"or keyword"};function i(e){var t,n,i,o=0,a=e.length;function s(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function u(e){return 1===e.length&&"0123456789".indexOf(e)>-1}function l(t){return void 0===t&&(t=1),o+t<a?e[o+t]:void 0}return t=e,n=function(){if(o>=a)return{kind:"end token",start:o,end:o,text:""};var t=e[o];if(s(t))return function(){for(var t=o;o<a&&s(e[o]);)o++;return{kind:"white space token",start:t,end:o,text:e.slice(t,o)}}();var n=l();if("."===t&&"."===n){var i={kind:"dotdot token",start:o,end:o+2,text:t+n};return o+=2,i}if("<"===t&&">"===n)return i={kind:"not equals token",start:o,end:o+2,text:t+n},o+=2,i;if(">"===t&&"="===n)return i={kind:"greater than eq token",start:o,end:o+2,text:t+n},o+=2,i;if("<"===t&&"="===n)return i={kind:"less than eq token",start:o,end:o+2,text:t+n},o+=2,i;if(">"===t&&"="!==n)return i={kind:"greater than token",start:o,end:o+1,text:t},o++,i;if("<"===t&&"="!==n)return i={kind:"less than token",start:o,end:o+1,text:t},o++,i;if(u(t))return function(){for(var t=!1,n=o,r=void 0;o<a;){var i=!1,s=e[o];if(u(s));else if("."===s||","===s){if(t)break;var c=l();if("."===c||","===c)break;t=!0}else{if(" "!==s)break;i=!0}i?void 0===r&&(r=o):r=void 0,o++}if(void 0!==r){if(!e.slice(r,o).match(/^\s*$/))throw new Error("Unknown internal state: trailingSpacesStartsAtPos is set but tail is not spaces");o=r}return{kind:"numeric literal",start:n,end:o,text:e.slice(n,o)}}();var c=function(e){return"("===e?"open brace token":")"===e?"close brace token":"["===e?"open paren token":"]"===e?"close paren token":"/"===e?"slash token":"*"===e?"asterisk token":"+"===e?"plus token":"-"===e?"minus token":"="===e?"equals token":";"===e?"semicolon token":void 0}(t);return void 0!==c?(i={kind:c,start:o,end:o+1,text:t},o++,i):function(){for(var t=o,n="",i=void 0;o<a&&"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM01234567890_".indexOf(e[o])>-1&&(o++,!(i=(n=e.slice(t,o))in r?r[n]:void 0)););var s=void 0!==i?i:"identifier";if(t===o)throw new Error("Unknown char "+e[o]);return{kind:s,start:t,end:o,text:n}}()},i="",function(){var e=n();if(e.end-e.start<=0&&"end token"!==e.kind)throw new Error("Scanner fail: end="+e.end+" start="+e.start+" str='"+t+"'");if(t.slice(e.start,e.end)!==e.text)throw new Error("Scanner fail: token slice differs");if("end token"!==e.kind)i+=e.text;else if(i!==t)throw new Error("Scanner fail: constructed string differs!");return e}}function o(e,t){switch(e){case 8:return"or keyword"===t?"or keyword":void 0;case 7:return"and keyword"===t?"and keyword":void 0;case 6:return"greater than eq token"===t?"greater than eq token":"less than eq token"===t?"less than eq token":"greater than token"===t?"greater than token":"less than token"===t?"less than token":"equals token"===t?"equals token":"not equals token"===t?"not equals token":"in keyword"===t?"in keyword":void 0;case 5:return;case 4:return"to keyword"===t?"to keyword":void 0;case 3:return"plus token"===t?"plus token":"minus token"===t?"minus token":void 0;case 2:return"asterisk token"===t?"asterisk token":"slash token"===t?"slash token":void 0;case 1:return"div keyword"===t?"div keyword":"mod keyword"===t?"mod keyword":void 0;default:throw new Error("Unknown presedence "+e)}}function a(e){var t=function(e){var t,n=function(){for(t=e();"white space token"===t.kind;)t=e()};return n(),{current:function(){return t},readNext:n}}(e);function n(){var e=t.current();if("numeric literal"===e.kind){var i={type:"number",value:parseFloat(e.text.replace(",",".").replace(/ /g,""))};return t.readNext(),i}if("open paren token"===e.kind)return function(){if(t.readNext(),"identifier"===t.current().kind){var e=t.current().text.match(/^p(\d+)$/);if(!e)throw new Error("Unknown parameter '"+t.current().text+"' at "+t.current().start);var n=e[1],i={type:"parameter",parameterId:parseInt(n)-1};if(t.readNext(),"close paren token"!==t.current().kind)throw new Error("Expected ], but got '"+t.current().text+"' at "+t.current().start);return t.readNext(),i}for(var o=[];;)if("semicolon token"!==t.current().kind){if("close paren token"===t.current().kind){t.readNext();break}var a=r();if("dotdot token"===t.current().kind){t.readNext();var s=r();o.push({from:a,to:s})}else{if("close paren token"!==t.current().kind&&"semicolon token"!==t.current().kind)throw new Error("Unexpected token inside paren '"+t.current().text+"' pos="+t.current().start+" ");o.push({from:a})}}else t.readNext();return{type:"range",ranges:o}}();if("open brace token"===e.kind){t.readNext();var o=r();if("close brace token"!==t.current().kind)throw new Error("Expected close brace token but got "+t.current().text+" at "+t.current().start);return t.readNext(),o}if("minus token"===e.kind)return t.readNext(),{type:"unary",expression:n(),operator:"minus token"};throw"end token"===t.current().kind?new Error("Expected value at "+t.current().start):new Error("Expecting primary value at "+t.current().start+" but got '"+t.current().text+"' kind="+t.current().kind)}function r(e){if(void 0===e&&(e=8),0===e)return n();for(var i=r(e-1);;){var a=t.current().kind;if("end token"===a)return i;var s=o(e,a);if(!s)return i;t.readNext(),i={type:"binary",operator:s,left:i,right:r(e-1)}}}var i=r();if("end token"!==t.current().kind)throw new Error("Unexpected data at "+t.current().start+": '"+t.current().text+"' kind="+t.current().kind);return i}var s=n(12),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function f(e){return Math.min(Math.max(e,-2e9),2e9)}function d(e){return e>0?Math.floor(e):Math.ceil(e)}function h(e,t){var n,r,i=t(e.reduce((function(e,t){return e+t.to-t.from+1}),0));try{for(var o=u(e),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.to-s.from+1;if(!(i>=l))return i+s.from;i-=l}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}throw new Error("Error in finding random value for "+JSON.stringify({ranges:e,rnd:i},null,4))}function p(e,t,n){void 0===t&&(t=[]);var r=function e(t,n,r){var i,o;function a(t){if("binary"!==t.type||"to keyword"!==t.operator)throw new Error("Wrong usage");var i=function(e){return[{from:e,to:e}]},o=t.left,a=t.right,s="range"===o.type?p(o):i(d(e(o,n,r))),u="range"===a.type?p(a):i(d(e(a,n,r))),f=Math.max.apply(Math,c(c([],l(s.map((function(e){return e.to})))),[0])),h=Math.max.apply(Math,c(c([],l(u.map((function(e){return e.to})))),[0])),m=Math.min.apply(Math,c(c([],l(s.map((function(e){return e.from})))),[2e9])),v=Math.min.apply(Math,c(c([],l(u.map((function(e){return e.from})))),[2e9])),y=Math.max(f,h);return[{from:Math.min(m,v),to:y}]}function p(t){if("range"!==t.type)throw new Error("Wrong usage");return t.ranges.map((function(t){var i=d(e(t.from,n,r)),o=t.to?d(e(t.to,n,r)):i,a=i>o;return{from:a?o:i,to:a?i:o}}))}if(void 0===n&&(n=[]),"number"===t.type)return t.value;if("parameter"===t.type){var m=n[t.parameterId];if(void 0===m)throw new Error("Parameter p"+(t.parameterId+1)+" is not defined");return m}if("binary"===t.type){if("plus token"===t.operator)return f((v=e(t.left,n,r))+(S=e(t.right,n,r)));if("minus token"===t.operator)return f((v=e(t.left,n,r))-(S=e(t.right,n,r)));if("slash token"===t.operator){var v=e(t.left,n,r);return f(0!==(S=e(t.right,n,r))?v/S:v>0?2e9:-2e9)}if("div keyword"===t.operator){var v=e(t.left,n,r);return 0!==(S=e(t.right,n,r))?f(d(v/S)):v>0?2e9:-2e9}if("mod keyword"===t.operator){var v=e(t.left,n,r);return f(0!==(S=e(t.right,n,r))?v%S:v>0?2e9:-2e9)}if("asterisk token"===t.operator)return f((v=e(t.left,n,r))*(S=e(t.right,n,r)));if("to keyword"===t.operator)return h(a(t),r);if("in keyword"===t.operator){var y="range"===t.left.type&&"range"!==t.right.type,g=y?t.right:t.left,b=y?t.left:t.right,_=f(e(g,n,r)),w="range"===b.type?p(b):"binary"===b.type&&"to keyword"===b.operator?a(b):void 0;if(w){try{for(var E=u(w),x=E.next();!x.done;x=E.next()){var k=x.value;if(_>=k.from&&_<=k.to)return 1}}catch(e){i={error:e}}finally{try{x&&!x.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}return 0}return _===f(e(t.right,n,r))?1:0}if("greater than eq token"===t.operator)return(v=e(t.left,n,r))>=(S=e(t.right,n,r))?1:0;if("greater than token"===t.operator)return(v=e(t.left,n,r))>(S=e(t.right,n,r))?1:0;if("less than eq token"===t.operator)return(v=e(t.left,n,r))<=(S=e(t.right,n,r))?1:0;if("less than token"===t.operator)return(v=e(t.left,n,r))<(S=e(t.right,n,r))?1:0;if("equals token"===t.operator)return(v=e(t.left,n,r))===(S=e(t.right,n,r))?1:0;if("not equals token"===t.operator)return(v=e(t.left,n,r))!==(S=e(t.right,n,r))?1:0;if("and keyword"===t.operator){v=e(t.left,n,r);var S=e(t.right,n,r);return v&&S?1:0}if("or keyword"===t.operator){v=e(t.left,n,r),S=e(t.right,n,r);return v||S?1:0}return Object(s.a)(t.operator)}return"unary"===t.type?"minus token"===t.operator?-e(t.expression,n,r):Object(s.a)(t):"range"===t.type?h(p(t),r):Object(s.a)(t)}(function(e){return a(i(e.replace(/\r|\n/g," ")))}(e),t,n);return Math.round(r)}n.d(t,"a",(function(){return p}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(46);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(0),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function o(e){r.useEffect((function(){return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[e])}function a(){var e=i(r.useState({width:window.innerWidth,height:window.innerHeight}),2),t=e[0],n=e[1];return r.useEffect((function(){var e=function(){n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={Ranger:"Греф",Player:"Греф",FromPlanet:"Земля",FromStar:"Солнечная",ToPlanet:"Боннасис",ToStar:"Процион",Money:"10000",lang:"rus",allowBackButton:!1},i={Ranger:"Ranger",Player:"Player",FromPlanet:"FromPlanet",FromStar:"FromStar",ToPlanet:"ToPlanet",ToStar:"ToStar",Money:"10000",lang:"eng",allowBackButton:!1}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(21),i=n(61);e.exports=n(20)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(11),i=n(31),o=n(34),a=n(62)("src"),s=Function.toString,u=(""+s).split("toString");n(41).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var r=n(2),i=n(14),o=n(46),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(81),i=n(46);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(82),i=n(61),o=n(35),a=n(45),s=n(34),u=n(152),l=Object.getOwnPropertyDescriptor;t.f=n(20)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(34),i=n(26),o=n(114)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){var t=e.position,n=e.headerText,i=e.onClose,o=e.children,a=e.wide;return r.createElement("div",{style:{position:t,left:0,right:0,top:0,bottom:0,padding:10,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},onClick:function(e){e.stopPropagation()}},r.createElement("div",{style:{width:a?"90%":void 0},className:"card"},r.createElement("h5",{className:"card-header d-flex flex-row justify-content-between"},r.createElement("span",null,n),r.createElement("i",{role:"button","aria-label":"Закрыть",className:"fa fa-times",style:{cursor:"pointer"},onClick:i})),r.createElement("div",{className:"card-body"},o)))}},function(e,t,n){"use strict";var r=n(50),i=n(6),o=n(0),a=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.n)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var s=!1;function u(){return s}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(e){return e.current?Object(i.h)(e.current):"<unknown>"}var d=[];function h(){var e=c(Object(o.useState)(0),2)[1];return Object(o.useCallback)((function(){e((function(e){return e+1}))}),[])}var p={};function m(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=p),u())return e();var r=(n.useForceUpdate||h)(),a=Object(o.useRef)(null);a.current||(a.current=new i.b("observer("+t+")",(function(){r()})));var s,l,c=function(){a.current&&!a.current.isDisposed&&(a.current.dispose(),a.current=null)};if(Object(o.useDebugValue)(a,f),function(e){Object(o.useEffect)((function(){return e}),d)}((function(){c()})),a.current.track((function(){try{s=e()}catch(e){l=e}})),l)throw c(),l;return s}function v(e,t){if(u())return e;var n,r,i,a=l({forwardRef:!1},t),s=e.displayName||e.name,c=function(t,n){return m((function(){return e(t,n)}),s)};return c.displayName=s,n=a.forwardRef?Object(o.memo)(Object(o.forwardRef)(c)):Object(o.memo)(c),r=e,i=n,Object.keys(r).forEach((function(e){r.hasOwnProperty(e)&&!y[e]&&Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=s,n}var y={$$typeof:!0,render:!0,compare:!0,type:!0};function g(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:m(r)}function b(e,t,n,r,i){var o="children"===t?"render":"children",a="function"==typeof e[t],s="function"==typeof e[o];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}g.propTypes={children:b,render:b},g.displayName="Observer";n.d(t,"a",(function(){return B}));var _=0,w={};function E(e){return w[e]||(w[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+_+")";return _++,t}(e)),w[e]}function x(e,t){if(k(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!k(e[n[i]],t[n[i]]))return!1;return!0}function k(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function S(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var C=E("patchMixins"),O=E("patchedDefinition");function T(e,t){for(var n=this,r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];t.locks++;try{var o;return null!=e&&(o=e.apply(this,r)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function N(e,t){return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];T.call.apply(T,[this,e,t].concat(n))}}function j(e,t,n){var r=function(e,t){var n=e[C]=e[C]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[O]){var o=function e(t,n,r,i,o){var a,s=N(o,i);return(a={})[O]=!0,a.get=function(){return s},a.set=function(o){if(this===t)s=N(o,i);else{var a=e(this,n,r,i,o);Object.defineProperty(this,n,a)}},a.configurable=!0,a.enumerable=r,a}(e,t,i?i.enumerable:void 0,r,e[t]);Object.defineProperty(e,t,o)}}var P=i.a||"$mobx",I=E("isUnmounted"),R=E("skipRender"),A=E("isForcingUpdate");function D(e,t){return u()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!x(this.props,e)}function M(e,t){var n=E("reactProp_"+t+"_valueHolder"),r=E("reactProp_"+t+"_atomHolder");function o(){return this[r]||S(this,r,Object(i.g)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[A]||x(this[n],e)?S(this,n,e):(S(this,n,e),S(this,R,!0),o.call(this).reportChanged(),S(this,R,!1))}})}var L="function"==typeof Symbol&&Symbol.for,F=L?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(){})).$$typeof,z=L?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(){})).$$typeof;function B(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),z&&e.$$typeof===z)throw new Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(F&&e.$$typeof===F){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(o.forwardRef)((function(){var e=arguments;return a.a.createElement(g,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(o.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==D)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=D;M(t,"props"),M(t,"state");var n=t.render;return t.render=function(){return function(e){var t=this;if(!0===u())return e.call(this);S(this,R,!1),S(this,A,!1);var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=e.bind(this),a=!1,s=new i.b(n+".render()",(function(){if(!a&&(a=!0,!0!==t[I])){var e=!0;try{S(t,A,!0),t[R]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{S(t,A,!1),e&&s.dispose()}}}));function l(){a=!1;var e=void 0,t=void 0;if(s.track((function(){try{t=Object(i.c)(!1,r)}catch(t){e=t}})),e)throw e;return t}return s.reactComponent=this,l[P]=s,this.render=l,l.call(this)}.call(this,n)},j(t,"componentWillUnmount",(function(){!0!==u()&&(this.render[P]&&this.render[P].dispose(),this[I]=!0)})),e}(e):v(e)}a.a.createContext({});E("disposeOnUnmountProto"),E("disposeOnUnmountInst");function U(e){function t(t,n,r,o,a,s){for(var u=[],l=arguments.length-6;l-- >0;)u[l]=arguments[l+6];return Object(i.q)((function(){return o=o||"<<anonymous>>",s=s||r,null==n[r]?t?new Error("The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+(null===n[r]?"null":"undefined")+"`."):null:e.apply(void 0,[n,r,o,a,s].concat(u))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function q(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function V(e,t){return U((function(n,r,o,a,s){return Object(i.q)((function(){if(e&&q(n[r])===t.toLowerCase())return null;var a;switch(t){case"Array":a=i.i;break;case"Object":a=i.k;break;case"Map":a=i.j;break;default:throw new Error("Unexpected mobxType: "+t)}var u=n[r];if(!a(u)){var l=function(e){var t=q(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(u),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+c+".")}return null}))}))}function W(e,t){return U((function(n,r,o,a,s){for(var u=[],l=arguments.length-5;l-- >0;)u[l]=arguments[l+5];return Object(i.q)((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var i=V(e,"Array")(n,r,o);if(i instanceof Error)return i;for(var l=n[r],c=0;c<l.length;c++)if((i=t.apply(void 0,[l,c,o,a,s+"["+c+"]"].concat(u)))instanceof Error)return i;return null}))}))}V(!1,"Array"),W.bind(null,!1),V(!1,"Map"),V(!1,"Object"),V(!0,"Array"),W.bind(null,!0),V(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!i.l)throw new Error("mobx-react requires mobx to be available");"function"==typeof r.unstable_batchedUpdates&&Object(i.f)({reactionScheduler:r.unstable_batchedUpdates})},function(e,t,n){"use strict";var r={};(0,n(27).assign)(r,n(141),n(144),n(88)),e.exports=r},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(30);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(2),i=n(41),o=n(14);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(42),i=n(81),o=n(26),a=n(22),s=n(131);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var m,v,y=o(t),g=i(y),b=r(s,p,3),_=a(g.length),w=0,E=n?h(t,_):u?h(t,0):void 0;_>w;w++)if((d||w in g)&&(v=b(m=g[w],w,y),e))if(n)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:E.push(m)}else if(c)return!1;return f?-1:l||c?c:E}}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(404)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(12),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o={hi:"Поздрав, путник!",menu:"Меню",quests:"Квесты",options:"Настројкы",installMode:"Приложение",installModeInstalling:"Загрузка",installModeNeedReload:"Готово обновление",login:"Войти",useown:"Загрузить .qm/.qmm",loginWith:"Войти через",authConnectedTo:"Привязан к",authConnectTo:"Привязать к",profile:"Профиль",loginInfo:"Вход в систему позволяет синхронизировать опции и пройденные квесты на разных устройствах",topplayers:"Чемпионы",logout:"Выйти",waitForFirebase:"Ждем ответа от firebase",firebaseSyncing:"Синхронизация с firebase",doFirebaseSync:"Выполнить синхронизацию с firebase",minutesShort:"мин.",ranger:"Рейнджер",fromPlanet:"С планеты",fromStar:"С системы",toPlanet:"Прилетел на планету",toStar:"В системе",defaultCompensation:"Награда за квест",enableBackButton:"Клавиша «Назад»",backButtonDisabled:"Изкључена",backButtonEnabled:"Вкључена (режим хытреца)",lang:"Азбука/Azbuka",rus:"Кирилица",eng:"Latinica",save:"Записати",saving:"Сохраняю",welcomeHeader:"Добродошли в онлајнову книгу-игру!",all:"Все",own:"Загруженные",search:"Исканје квестов",nothingFound:"Ничто не најдено",allQuestPassed:"Все квесты пройдены!",passed:"Пройден",startFromTheStart:"Начать сначала",startFromLastSave:"Загрузить сохранение",noLastSave:"Нет сохранения",loading:"Загрузка",loadingIndex:"Загрузка индекса",loadingLocalDatabase:"Загрузка локальной базы данных",reloading:"Перезагрузка",loadingQuest:"Загрузка квеста",restart:"Начать сначала",stepBack:"Шаг назад",reallyRestart:"Начать сначала?",toggleMusic:"Музыка",toggleFullscreen:"На весь экран",exit:"Выход",yes:"Да",no:"Нет",back:"Назад",backToList:"К списку квестов",installEngineNotStarted:"Ожидание регистрации оффлайн режима",installingEngine:"Установка оффлайн режима для приложения",installingEngineUpdate:"Идет фоновое обновление",installEngineError:"Приложение не установлено, оффлайн режим недоступен",engineInstalledNeedReload:"Приложение установлено, нажмите здесь для перезапуска в оффлайн режиме",engineUpdatedNeedReload:"Обновление установлено, нажмите здесь для перезапуска",engineInstalledAndInOfflineMode:"Приложение установлено и работает в оффлайн режиме",storageIsPersisted:"Хранилище устойчивое, браузер не удалит",storageIsNotPersisted:"Хранилище неустойчивое, браузер может удалить. Можно попробовать добавить приложение на главный экран или добавить в закладки",storePersistedIsUnknown:"Статус устойчивости хранилища неизвестен",cacheImagesMusicInfo:"По-умолчанию для оффлайн режима устанавливаются только код и текстовые квесты, это сделано для того, чтобы не занимать много места на устройстве. Картинки и музыку можно установить отдельно здесь",images:"Картинки",musicAndSound:"Музыка и звуки",installing:"Установка",installed:"Установлено",uninstall:"Удалить",notInstalled:"Не установлено",install:"Установить",storageUsed:"Использовано",storageUsedFrom:"из",storageUsageUnavailable:"Статус использования хранилища недоступен",about:"О приложении",builtAt:"Сборка",linkForBugreports:"Сообщения об ошибках можно оставлять в багтрекере Github-а или на Pikabu",validatingInfo:"Прохождения проверяются, это займёт какое-то время",validationComplete:"Проверка завершена. Показываются проверенные результаты",championsDisabled:"Таблица чемпионов временно не работает из-за лимитов firebase",championName:"Имя рейнджера",championWonGames:"Пройдено квестов",championGameNames:"Список пройденный квестов",championNoName:"<Имя не задано>",validatingQuest:"Проверяем прохождение",questValidationErrorsInfo:"Есть ошибки валидации. Это означает что квест был пройден на старой браузерозависимой версии движка и нужно пройти этот квест еще раз",championsTotal:"Загружено чемпионов:",championsLoading:"Загрузка списка чемпионов",pwaInstallHeader:"Веб-приложение",pwaInstallInfoLink:"Нажми здесь",pwaInstallInfoToAddToDesktop:" чтобы закончить установку и создать ярлык на рабочем столе",pwaInstallOk:"Установка приложения началась!",pwaInstallNotOk:"Не получилось установить",editor:"Редактор"},a={hi:"Pozdrav, putnik!",menu:"Menu",quests:"Kvesty",options:"Nastrojky",installMode:"Application",installModeInstalling:"Downloading",installModeNeedReload:"Update ready",login:"Log in",useown:"Upload .qm/.qmm",loginWith:"Log in with",authConnectedTo:"Connected to",authConnectTo:"Connect to",profile:"Profile",loginInfo:"The entry to the systems allows to synchronize options and quests completed between different devices",topplayers:"Champions",logout:"Log out",waitForFirebase:"Waiting for firebase",firebaseSyncing:"Synchronizing with firebase",doFirebaseSync:"Sync data with firebase",minutesShort:"min.",ranger:"Ranger",fromPlanet:"From the planet",fromStar:"From the system",toPlanet:"Arrived at the planet",toStar:"In the system",defaultCompensation:"Default compensation",enableBackButton:'Klaviša "Nazad"',backButtonDisabled:"Izključena",backButtonEnabled:"Vključena (režim hytreca)",lang:"Азбука/Azbuka",rus:"Кирилица",eng:"Latinica",save:"Zapisati",saving:"Saving",welcomeHeader:"Dobrodošli v onlajnovu knigu-igru!",all:"All",own:"Uploaded",search:"Iskanje kvestov",nothingFound:"Ničto ne najdeno",allQuestPassed:" All quests are completed!",passed:"Complete",startFromTheStart:"Start over",startFromLastSave:"Start saving",noLastSave:"No saving",loading:"Loading",loadingIndex:"Loading index",loadingLocalDatabase:"Loading local database",reloading:"Reloading",loadingQuest:"Quest loading",restart:"Restart",stepBack:"Step back",reallyRestart:"Really restart?",toggleMusic:"Music",toggleFullscreen:"Fullscreen",exit:"Exit",yes:"Yes",no:"No",back:"Back",backToList:"Back to quests",installEngineNotStarted:"Waiting for offline mode registration",installingEngine:"Offline application mode is being installed",installingEngineUpdate:"Background updating is underway",installEngineError:"The application is not installed, offline mode is unavailable",engineInstalledNeedReload:"The application is installed, click here to reload offline mode",engineUpdatedNeedReload:"The update is installed, click here to reload",engineInstalledAndInOfflineMode:"The application is installed and working in an offline mode",storageIsPersisted:"The storage is persisted, browser won't delete this",storageIsNotPersisted:"The storage is not persisted, browser may delete this. You can try to add the app to the main screen or add to bookmarks",storePersistedIsUnknown:"Storage persisted status is unknown",cacheImagesMusicInfo:"Only code and text quests are installed for offline mode by default. This has been done to save space on your device. Pics and music can be installed separately here",images:"Pictures",musicAndSound:"Music and sound",installing:"Installing",installed:"Installed",uninstall:"Uninstall",notInstalled:"Not installed",install:"Install",storageUsed:"Storage is using",storageUsedFrom:"from",storageUsageUnavailable:"Storage usage is unavailable",about:"About",builtAt:"Built at",linkForBugreports:"You can add a bugreport into Github bug tracker or into Pikabu",validatingInfo:"Quest game passing is validating. Please be patient",validationComplete:"Validation is complete. Only validated results are shown now",championsDisabled:"Championship table is temporarely disabled due to firebase limits",championName:"Ranger's name",championWonGames:"Amount of passed quests",championGameNames:"Список пройденный квестов",championNoName:"<Name is not set>",validatingQuest:"Checking passing",questValidationErrorsInfo:"Validation errors are present. This means that the quest was passed using old brower-depend engine and it needs to be passed again",championsTotal:"Loaded champions:",championsLoading:"Loading list of champions",pwaInstallHeader:"Web application",pwaInstallInfoLink:"Click here",pwaInstallInfoToAddToDesktop:" to finish installation and to add to homescreen",pwaInstallOk:"Application installation started!",pwaInstallNotOk:"Failed to install application",editor:"Redaktor"};function s(e){return"rus"===e?o:"eng"===e?a:Object(r.a)(e)}var u=function(){var e,t;if("undefined"==typeof navigator)return"rus";if(!(window.indexedDB&&!navigator.webdriver&&!/bot|google|baidu|bing|msn|teoma|slurp|yandex/i.test(navigator.userAgent)&&!/spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher/i.test(navigator.userAgent)&&!/Google-Read-Aloud|DuplexWeb-Google|googleweblight|duckduck|yahoo|ecosia|ia_archiver|facebook/i.test(navigator.userAgent)&&!/instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush/i.test(navigator.userAgent)))return"rus";var n=navigator.languages||[navigator.language||navigator.userLanguage||"ru"];console.info("languages="+(navigator.languages?navigator.languages.join(","):"null")+" language="+navigator.language+" userLanguage="+navigator.userLanguage+" browserLanguages="+n.join(","));try{for(var r=i(n),o=r.next();!o.done;o=r.next()){if(0===o.value.indexOf("ru"))return"rus"}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return window.indexedDB?"eng":"rus"}()},function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var l=n(1);n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}try{for(var r=a(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0],l=o[1],c=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:c});l.resolve(f)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(u(u([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=e.options,u=void 0===o?{}:o,l=this.normalizeInstanceIdentifier(i);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:l,options:u});try{for(var f=a(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var h=s(d.value,2),p=h[0],m=h[1];l===this.normalizeInstanceIdentifier(p)&&m.resolve(c)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(c,l),c},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=a(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";if(n(20)){var r=n(57),i=n(11),o=n(14),a=n(2),s=n(101),u=n(137),l=n(42),c=n(68),f=n(61),d=n(31),h=n(70),p=n(47),m=n(22),v=n(178),y=n(64),g=n(45),b=n(34),_=n(83),w=n(15),E=n(26),x=n(128),k=n(65),S=n(37),C=n(66).f,O=n(130),T=n(62),N=n(17),j=n(49),P=n(91),I=n(98),R=n(133),A=n(77),D=n(95),M=n(67),L=n(132),F=n(168),z=n(21),B=n(36),U=z.f,q=B.f,V=i.RangeError,W=i.TypeError,H=i.Uint8Array,Y=Array.prototype,G=u.ArrayBuffer,Q=u.DataView,$=j(0),X=j(2),K=j(3),J=j(4),Z=j(5),ee=j(6),te=P(!0),ne=P(!1),re=R.values,ie=R.keys,oe=R.entries,ae=Y.lastIndexOf,se=Y.reduce,ue=Y.reduceRight,le=Y.join,ce=Y.sort,fe=Y.slice,de=Y.toString,he=Y.toLocaleString,pe=N("iterator"),me=N("toStringTag"),ve=T("typed_constructor"),ye=T("def_constructor"),ge=s.CONSTR,be=s.TYPED,_e=s.VIEW,we=j(1,(function(e,t){return Ce(I(e,e[ye]),t)})),Ee=o((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),xe=!!H&&!!H.prototype.set&&o((function(){new H(1).set({})})),ke=function(e,t){var n=p(e);if(n<0||n%t)throw V("Wrong offset!");return n},Se=function(e){if(w(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ce=function(e,t){if(!w(e)||!(ve in e))throw W("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Te(I(e,e[ye]),t)},Te=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},Ne=function(e,t,n){U(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,d=O(s);if(null!=d&&!x(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=m(s.length),i=Ce(this,n);n>t;t++)i[t]=f?c(s[t],t):s[t];return i},Pe=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!H&&o((function(){he.call(new H(1))})),Re=function(){return he.apply(Ie?fe.call(Se(this)):Se(this),arguments)},Ae={copyWithin:function(e,t){return F.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Se(this),arguments)},filter:function(e){return Oe(this,X(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return we(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Se(this),arguments)},reduceRight:function(e){return ue.apply(Se(this),arguments)},reverse:function(){for(var e,t=Se(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return K(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Se(this),e)},subarray:function(e,t){var n=Se(this),r=n.length,i=y(e,r);return new(I(n,n[ye]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:y(t,r))-i))}},De=function(e,t){return Oe(this,fe.call(Se(this),e,t))},Me=function(e){Se(this);var t=ke(arguments[1],1),n=this.length,r=E(e),i=m(r.length),o=0;if(i+t>n)throw V("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Le={entries:function(){return oe.call(Se(this))},keys:function(){return ie.call(Se(this))},values:function(){return re.call(Se(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},ze=function(e,t){return Fe(e,t=g(t,!0))?f(2,e[t]):q(e,t)},Be=function(e,t,n){return!(Fe(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};ge||(B.f=ze,z.f=Be),a(a.S+a.F*!ge,"Object",{getOwnPropertyDescriptor:ze,defineProperty:Be}),o((function(){de.call({})}))&&(de=he=function(){return le.call(this)});var Ue=h({},Ae);h(Ue,Le),d(Ue,pe,Le.values),h(Ue,{slice:De,set:Me,constructor:function(){},toString:de,toLocaleString:Re}),Ne(Ue,"buffer","b"),Ne(Ue,"byteOffset","o"),Ne(Ue,"byteLength","l"),Ne(Ue,"length","e"),U(Ue,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var l=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,h="set"+e,p=i[l],y=p||{},g=p&&S(p),b=!p||!s.ABV,E={},x=p&&p.prototype,O=function(e,n){U(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,Ee)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*t+i.o,r,Ee)}(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,r,i){c(e,p,l,"_d");var o,a,s,u,f=0,h=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Te(p,n):je.call(p,n);o=n,h=ke(r,t);var y=n.byteLength;if(void 0===i){if(y%t)throw V("Wrong length!");if((a=y-h)<0)throw V("Wrong length!")}else if((a=m(i)*t)+h>y)throw V("Wrong length!");s=a/t}else s=v(n),o=new G(a=s*t);for(d(e,"_d",{b:o,o:h,l:a,e:s,v:new Q(o)});f<s;)O(e,f++)})),x=p.prototype=k(Ue),d(x,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&D((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return c(e,p,l),w(n)?n instanceof G||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new y(n,ke(r,t),i):void 0!==r?new y(n,ke(r,t)):new y(n):be in n?Te(p,n):je.call(p,n):new y(v(n))})),$(g!==Function.prototype?C(y).concat(C(g)):C(y),(function(e){e in p||d(p,e,y[e])})),p.prototype=x,r||(x.constructor=p));var T=x[pe],N=!!T&&("values"==T.name||null==T.name),j=Le.values;d(p,ve,!0),d(x,be,l),d(x,_e,!0),d(x,ye,p),(u?new p(1)[me]==l:me in x)||U(x,me,{get:function(){return l}}),E[l]=p,a(a.G+a.W+a.F*(p!=y),E),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){y.of.call(p,1)})),l,{from:je,of:Pe}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",t),a(a.P,l,Ae),M(l),a(a.P+a.F*xe,l,{set:Me}),a(a.P+a.F*!N,l,Le),r||x.toString==de||(x.toString=de),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:De}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){x.toLocaleString.call([1,2])}))),l,{toLocaleString:Re}),A[l]=N?T:j,r||N||d(x,pe,j)}}else e.exports=function(){}},function(e,t,n){var r=n(173),i=n(2),o=n(90)("metadata"),a=o.store||(o.store=new(n(176))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t,n){var r=n(62)("meta"),i=n(15),o=n(34),a=n(21).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(14)((function(){return u(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!o(e,r)&&c(e),e}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(17)("unscopables"),i=Array.prototype;null==i[r]&&n(31)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(138),i=n(139),o=n(140);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return q(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function x(e,t,n,r){return q(U(t),e,n,r)}function k(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function A(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(53))},function(e,t,n){"use strict";var r=n(5),i=n.n(r),o=n(0),a=n(12),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=["clr","clrEnd","/clr","fix","/fix","/format","/color"];function c(e){var t=function(e){var t,n,r,i,o=[],u=0,l=0,c=void 0,f=void 0;try{for(var d=s(e),h=d.next();!h.done;h=d.next()){var p=h.value;if("text"===p.type)p.text.split(/\r\n|\n/).forEach((function(e,t,n){var r=t!==n.length-1;o.push({type:"text",text:e,isClr:u>0||void 0,isFix:l>0||void 0,color:f}),r&&o.push({type:"newline",isFix:l>0||void 0})}));else if("format"===p.type)!c&&p.format&&(c={format:p.format,startedAt:o.length});else if("color"===p.type)!f&&p.color&&(f=p.color);else if("tag"===p.type){var m=p.tag;if("/color"===m)f=void 0;else if("/fix"===m)l--;else if("/format"===m){if(c){var v=0;try{for(var y=(r=void 0,s(o.slice(c.startedAt))),g=y.next();!g.done;g=y.next()){var b=g.value;v+="text"===b.type?b.text.length:0}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var _=Math.max(0,c.format.numberOfSpaces-v),w=_?"left"===c.format.kind?new Array(_).fill(" ").join(""):"center"===c.format.kind?new Array(Math.floor(_/2)).fill(" ").join(""):"":"",E=_?"right"===c.format.kind?new Array(_).fill(" ").join(""):"center"===c.format.kind?new Array(Math.ceil(_/2)).fill(" ").join(""):"":"";w&&o.splice(c.startedAt,0,{type:"text",isClr:u>0||void 0,isFix:l>0||void 0,text:w}),E&&o.push({type:"text",isClr:u>0||void 0,isFix:l>0||void 0,text:E})}c=void 0}else"clr"===m?u++:"clrEnd"===m||"/clr"===m?u--:"fix"===m?l++:Object(a.a)(m)}else Object(a.a)(p)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return o}(function(e){for(var t,n,r=[],i=0,o="",a=function(){o.length>0&&(r.push({type:"text",text:o}),o="")};i<e.length;){var s=!1;try{for(var c=(t=void 0,u(l)),f=c.next();!f.done;f=c.next()){var d=f.value,h="<"+d+">";e.slice(i,i+h.length)!==h||(a(),r.push({type:"tag",tag:d}),i+=h.length,s=!0)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(!s){var p=e.slice(i).match(/^\<format=?(left|right|center)?,?(\d+)?\>/);if(p){a(),i+=p[0].length;var m=p[1]||void 0,v=p[2]?parseInt(p[2]):void 0;r.push({type:"format",format:void 0!==m&&void 0!==v?{kind:m,numberOfSpaces:v}:void 0})}else{var y=e.slice(i).match(/^\<color=?(\d+)?,?(\d+)?,?(\d+)?\>/);if(y){a(),i+=y[0].length;var g=y[1]?parseInt(y[1]):void 0,b=y[2]?parseInt(y[2]):void 0,_=y[3]?parseInt(y[3]):void 0;r.push({type:"color",color:void 0!==g&&void 0!==b&&void 0!==_?{r:g,g:b,b:_}:void 0})}else i<e.length&&(o+=e[i],i++)}}}return a(),r}(e.str));return o.createElement(o.Fragment,null,o.createElement("span",{className:"game-text"}," "),t.map((function(e,t){return o.createElement("span",{key:t,className:i()("game-text",{"game-fix":e.isFix,"game-clr":"text"===e.type?e.isClr:void 0}),style:{color:"text"===e.type&&e.color?"rgb("+e.color.r+", "+e.color.g+", "+e.color.b+")":void 0}},"text"===e.type?e.text:o.createElement(o.Fragment,null,o.createElement("br",null)," "))})))}n.d(t,"a",(function(){return c}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(154),i=n(115);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(47),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(9),i=n(155),o=n(115),a=n(114)("IE_PROTO"),s=function(){},u=function(){var e,t=n(112)("iframe"),r=o.length;for(t.style.display="none",n(116).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(154),i=n(115).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(11),i=n(21),o=n(20),a=n(17)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(42),i=n(166),o=n(128),a=n(9),s=n(22),u=n(130),l={},c={};(t=e.exports=function(e,t,n,f,d){var h,p,m,v,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>b;b++)if((v=t?g(a(p=e[b])[0],p[1]):g(e[b]))===l||v===c)return v}else for(m=y.call(e);!(p=m.next()).done;)if((v=i(m,g,p.value,t))===l||v===c)return v}).BREAK=l,t.RETURN=c},function(e,t,n){var r=n(32);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(24),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o="<clr>",a="<clrEnd>",s=["Ranger","Player","FromPlanet","FromStar","ToPlanet","ToStar","Money","Date","Day","CurDate"];function u(e,t,n,l,c,f){var d,h,p,m;void 0!==f&&(e=e.replace(/<>/g,"[p"+(f+1)+"]"));for(var v=0;;){var y=e.indexOf("[d",v);if(-1===y)break;for(var g,b=y+2;;){var _=e[b];if(-1===["0","1","2","3","4","5","6","7","8","9"].indexOf(_))break;b++}if(""!==(g=e.substring(y+2,b))){var w=parseInt(g)-1,E=n[w];if(void 0!==E){if("]"===e[b])b++;else{if(":"!==e[b]){console.warn("Unknown symbol in '"+e+"' at "+b);break}for(var x=++b,k=x;" "===e[b];)b++;for(var S=0;;){if("["===e[b])S++;else if("]"===e[b]){if(0===S){k=b,b++;break}S--}if(++b>e.length){console.warn("No closing bracket found in '"+e+"' at "+x);break}}var C=e.substring(x,k),O=C,T=C.match(/\s*\{(.*)\}\s*/);T&&(O=T[1]),E=Object(r.a)(O,n,c)}try{for(var N=(d=void 0,i(l[w].showingInfo)),j=N.next();!j.done;j=N.next()){var P=j.value;if(E>=P.from&&E<=P.to){var I=u(P.str,t,n,l,c,f);e=e.slice(0,y)+o+I+a+e.slice(b);break}}}catch(e){d={error:e}}finally{try{j&&!j.done&&(h=N.return)&&h.call(N)}finally{if(d)throw d.error}}v=b}else b++,e=e.slice(0,y)+o+"UNKNOWN_PARAM"+a+e.slice(b)}else console.warn("No param index found in '"+e+"' at "+y),v=b}for(;;){var R=e.match(/{[^}]*}/);if(!R)break;var A=R[0],D=Object(r.a)(A.slice(1,A.length-1),n,c);e=e.replace(A,""+o+D+a)}try{for(var M=i(s),L=M.next();!L.done;L=M.next()){var F=L.value;e=e.split("<"+F+">").join(""+o+t[F]+a)}}catch(e){p={error:e}}finally{try{L&&!L.done&&(m=M.return)&&m.call(M)}finally{if(p)throw p.error}}for(var z=0;z<n.length;z++)for(;e.indexOf("[p"+(z+1)+"]")>-1;)e=e.replace("[p"+(z+1)+"]",""+o+n[z]+a);return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(e){var t,n;if(document.fullscreenElement||!1===e)document.exitFullscreen&&!0!==e&&document.exitFullscreen().catch((function(e){return console.warn(e)}));else{var i=document.documentElement;if(i.requestFullscreen)i.requestFullscreen().catch((function(e){return console.warn(e)}));else{var o=i;try{for(var a=r(["webkit","moz","ms","o"].map((function(e){return e+"RequestFullScreen"}))),s=a.next();!s.done;s=a.next()){var u=s.value;"function"==typeof o[u]&&o[u]()}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}}},function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){var r=n(21).f,i=n(34),o=n(17)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(2),i=n(46),o=n(14),a=n(118),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),u=i[e]=s?t(f):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},function(e,t){e.exports={}},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var i,o,a=n(1),s=n(52),u=n(74),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new a.b("app","Firebase",l),f=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),d=new u.b("@firebase/app"),h=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.k)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var p=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){var t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(a.h)(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.h)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.l)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var l=0,f=Object.keys(t);l<f.length;l++){var h=f[l];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(h);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.l)(t,e)},createSubscribe:a.j,ErrorFactory:a.b,deepExtend:a.l}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(a.p)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.s)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,e)};var g,b,_=p;(g=_).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new m(e)}),"PRIVATE")),g.registerVersion("@firebase/app","0.6.22",b),g.registerVersion("fire-js","");t.a=_},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(43);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(43),i=n(17)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(27),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if((o=a[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},,function(e,t,n){var r=n(41),i=n(11),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(57)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(35),i=n(22),o=n(64);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(43);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),i=n(43),o=n(17)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(17)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(9);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(31),i=n(32),o=n(14),a=n(46),s=n(17);e.exports=function(e,t,n){var u=s(e),l=n(a,u,""[e]),c=l[0],f=l[1];o((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}))&&(i(String.prototype,e,c),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var r=n(9),i=n(30),o=n(17)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(11).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(32),a=n(70),s=n(56),u=n(69),l=n(68),c=n(15),f=n(14),d=n(95),h=n(75),p=n(119);e.exports=function(e,t,n,m,v,y){var g=r[e],b=g,_=v?"set":"add",w=b&&b.prototype,E={},x=function(e){var t=w[e];o(w,e,"delete"==e||"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!f((function(){(new b).entries().next()})))){var k=new b,S=k[_](y?{}:-0,1)!=k,C=f((function(){k.has(1)})),O=d((function(e){new b(e)})),T=!y&&f((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));O||((b=t((function(t,n){l(t,b,e);var r=p(new g,t,b);return null!=n&&u(n,v,r[_],r),r}))).prototype=w,w.constructor=b),(C||T)&&(x("delete"),x("has"),v&&x("get")),(T||S)&&x(_),y&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,v,_),a(b.prototype,n),s.NEED=!0;return h(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=g),E),y||m.setStrong(b,e,v),b}},function(e,t,n){for(var r,i=n(11),o=n(31),a=n(62),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(57)||!n(14)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(11)[e]}))},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(2),i=n(30),o=n(42),a=n(69);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),null==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=n.n(r).a.createContext({})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=e.from([215,53,58,66,1,0,0,0,0,0,0,0,0,0,0,0,31,1,64,7,31,0,0,0,0,128,7,0,0,241,3,0,0,10,0,0,0,8,0,0,0,0,0,0,0,50,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,60,0,84,0,111,0,83,0,116,0,97,0,114,0,62,0,1,0,0,0,10,0,0,0,60,0,84,0,111,0,80,0,108,0,97,0,110,0,101,0,116,0,62,0,1,0,0,0,6,0,0,0,60,0,68,0,97,0,116,0,101,0,62,0,1,0,0,0,7,0,0,0,60,0,77,0,111,0,110,0,101,0,121,0,62,0,1,0,0,0,12,0,0,0,60,0,70,0,114,0,111,0,109,0,80,0,108,0,97,0,110,0,101,0,116,0,62,0,1,0,0,0,10,0,0,0,60,0,70,0,114,0,111,0,109,0,83,0,116,0,97,0,114,0,62,0,1,0,0,0,8,0,0,0,60,0,82,0,97,0,110,0,103,0,101,0,114,0,62,0,0,0,0,0,0,0,0,0,1,0,0,0,21,0,0,0,30,4,63,4,56,4,65,4,48,4,61,4,56,4,53,4,32,0,63,4,62,4,55,4,52,4,64,4,48,4,50,4,59,4,53,4,61,4,56,4,79,4,1,0,0,0,16,0,0,0,30,4,63,4,56,4,65,4,48,4,61,4,56,4,53,4,32,0,55,4,48,4,52,4,48,4,61,4,56,4,79,4])}).call(this,n(59).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(12),i=n(3),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function t(t){void 0===t&&(t=1048576),this.chunkSize=t,this.buf=e.alloc(this.chunkSize),this.pos=0}return t.prototype.ensure=function(t){this.pos+t>this.buf.length&&(this.buf=e.concat([this.buf,e.alloc(this.chunkSize)]))},t.prototype.export=function(){return this.buf.slice(0,this.pos)},t.prototype.int32=function(e){this.ensure(4),this.buf.writeInt32LE(e,this.pos),this.pos+=4},t.prototype.writeString=function(t){if(null==t)this.int32(0);else{this.int32(1);var n=e.from(t,"utf16le");if(n.length%2!=0)throw new Error("Internal error, utf16le is not even");var r=n.length/2;this.int32(r),this.ensure(n.length),n.copy(this.buf,this.pos),this.pos+=n.length}},t.prototype.byte=function(e){this.ensure(1),this.buf[this.pos]=e,this.pos+=1},t.prototype.float64=function(e){this.ensure(8),this.buf.writeDoubleLE(e,this.pos),this.pos+=8},t}();function s(e,t,n){e.int32(n+1),e.int32(t.change),e.byte(t.showingType);var r=t.isChangeFormula?i.j.Formula:t.isChangeValue?i.j.Value:t.isChangePercentage?i.j.Percentage:i.j.Summ;e.byte(r),e.writeString(t.changingFormula),e.writeString(t.critText),e.writeString(t.img),e.writeString(t.sound),e.writeString(t.track)}function u(e){return 0!==e.change||e.showingType!==i.k.НеТрогать||e.isChangeFormula||e.isChangeValue||e.isChangePercentage||!!e.changingFormula||!!e.critText||!!e.img||!!e.sound||!!e.track}function l(e,t){return e.mustFrom!==t.min||e.mustTo!==t.max||e.mustEqualValues.length>0||e.mustEqualValuesEqual||e.mustModValues.length>0||e.mustModValuesMod}function c(e){var t,n,c,f,d,h,p,m,v,y,g,b,_,w,E,x,k,S,C=new a;e.header===i.c||e.header===i.d||e.header===i.e||e.header===i.f?C.int32(i.c):e.header===i.b||e.header===i.a?C.int32(i.b):Object(r.a)(e.header),C.int32(void 0===e.majorVersion?1:e.majorVersion),C.int32(void 0===e.minorVersion?0:e.minorVersion),C.writeString(e.changeLogString),C.byte(e.givingRace),C.byte(e.whenDone),C.byte(e.planetRace),C.byte(e.playerCareer),C.byte(e.playerRace),C.int32(e.reputationChange),C.int32(e.screenSizeX),C.int32(e.screenSizeY),C.int32(e.widthSize),C.int32(e.heightSize),C.int32(e.defaultJumpCountLimit),C.int32(e.hardness),C.int32(e.params.length);try{for(var O=o(e.params),T=O.next();!T.done;T=O.next()){var N=T.value;C.int32(N.min),C.int32(N.max),C.byte(N.type),C.byte(0),C.byte(0),C.byte(0),C.byte(N.showWhenZero?1:0),C.byte(N.critType),C.byte(N.active?1:0),C.int32(N.showingInfo.length),C.byte(N.isMoney?1:0),C.writeString(N.name);try{for(var j=(c=void 0,o(N.showingInfo)),P=j.next();!P.done;P=j.next()){var I=P.value;C.int32(I.from),C.int32(I.to),C.writeString(I.str)}}catch(e){c={error:e}}finally{try{P&&!P.done&&(f=j.return)&&f.call(j)}finally{if(c)throw c.error}}C.writeString(N.critValueString),C.writeString(N.img),C.writeString(N.sound),C.writeString(N.track),C.writeString(N.starting)}}catch(e){t={error:e}}finally{try{T&&!T.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}C.writeString(e.strings.ToStar),C.writeString(e.strings.ToPlanet),C.writeString(e.strings.Date),C.writeString(e.strings.Money),C.writeString(e.strings.FromPlanet),C.writeString(e.strings.FromStar),C.writeString(e.strings.Ranger),C.int32(e.locations.length),C.int32(e.jumps.length),C.writeString(e.successText),C.writeString(e.taskText);try{for(var R=o(e.locations),A=R.next();!A.done;A=R.next()){var D=A.value;C.int32(D.dayPassed?1:0),C.int32(D.locX),C.int32(D.locY),C.int32(D.id),C.int32(D.maxVisits);var M=D.isStarting?i.g.Starting:D.isSuccess?i.g.Success:D.isEmpty?i.g.Empty:D.isFailyDeadly?i.g.Deadly:D.isFaily?i.g.Faily:i.g.Ordinary;C.byte(M);var L=D.paramsChanges.map((function(e,t){return{param:e,idx:t,keep:u(e)}})).filter((function(e){return e.keep}));C.int32(L.length);try{for(var F=(p=void 0,o(L)),z=F.next();!z.done;z=F.next()){var B=z.value;s(C,N=B.param,K=B.idx)}}catch(e){p={error:e}}finally{try{z&&!z.done&&(m=F.return)&&m.call(F)}finally{if(p)throw p.error}}C.int32(D.texts.length);for(var U=0;U<D.texts.length;U++){C.writeString(D.texts[U]);var q=D.media[U];C.writeString(null==q?void 0:q.img),C.writeString(null==q?void 0:q.sound),C.writeString(null==q?void 0:q.track)}C.byte(D.isTextByFormula?1:0),C.writeString(D.textSelectFormula)}}catch(e){d={error:e}}finally{try{A&&!A.done&&(h=R.return)&&h.call(R)}finally{if(d)throw d.error}}try{for(var V=o(e.jumps),W=V.next();!W.done;W=V.next()){var H=W.value;C.float64(H.priority),C.int32(H.dayPassed?1:0),C.int32(H.id),C.int32(H.fromLocationId),C.int32(H.toLocationId),C.byte(H.alwaysShow?1:0),C.int32(H.jumpingCountLimit),C.int32(H.showingOrder);var Y=H.paramsConditions.map((function(t,n){return{cond:t,idx:n,keep:l(t,e.params[n])}})).filter((function(e){return e.keep}));C.int32(Y.length);try{for(var G=(g=void 0,o(Y)),Q=G.next();!Q.done;Q=G.next()){var $=Q.value,X=$.cond,K=$.idx;C.int32(K+1),C.int32(X.mustFrom),C.int32(X.mustTo),C.int32(X.mustEqualValues.length),C.byte(X.mustEqualValuesEqual?1:0);try{for(var J=(_=void 0,o(X.mustEqualValues)),Z=J.next();!Z.done;Z=J.next()){var ee=Z.value;C.int32(ee)}}catch(e){_={error:e}}finally{try{Z&&!Z.done&&(w=J.return)&&w.call(J)}finally{if(_)throw _.error}}C.int32(X.mustModValues.length),C.byte(X.mustModValuesMod?1:0);try{for(var te=(E=void 0,o(X.mustModValues)),ne=te.next();!ne.done;ne=te.next()){ee=ne.value;C.int32(ee)}}catch(e){E={error:e}}finally{try{ne&&!ne.done&&(x=te.return)&&x.call(te)}finally{if(E)throw E.error}}}}catch(e){g={error:e}}finally{try{Q&&!Q.done&&(b=G.return)&&b.call(G)}finally{if(g)throw g.error}}L=H.paramsChanges.map((function(e,t){return{param:e,idx:t,keep:u(e)}})).filter((function(e){return e.keep}));C.int32(L.length);try{for(var re=(k=void 0,o(L)),ie=re.next();!ie.done;ie=re.next()){var oe=ie.value;s(C,N=oe.param,K=oe.idx)}}catch(e){k={error:e}}finally{try{ie&&!ie.done&&(S=re.return)&&S.call(re)}finally{if(k)throw k.error}}C.writeString(H.formulaToPass),C.writeString(H.text),C.writeString(H.description),C.writeString(H.img),C.writeString(H.sound),C.writeString(H.track)}}catch(e){v={error:e}}finally{try{W&&!W.done&&(y=V.return)&&y.call(V)}finally{if(v)throw v.error}}return C.export()}}).call(this,n(59).Buffer)},function(e,t,n){"use strict";var r=n(0),i=n(18),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(e,t,n){t&&(e[t]?e[t].push(n):e[t]=[n])}var s=n(16),u=n(29),l=(function(){function e(e,t){this.quest=e,this.lang=t,this.player="rus"===this.lang?u.b:u.a,this.state=Object(i.d)(this.quest,Math.random().toString(36))}e.prototype.start=function(){this.state=Object(i.d)(this.quest,Math.random().toString(36))},e.prototype.getState=function(){return Object(i.c)(this.quest,this.state,this.player)},e.prototype.performJump=function(e){this.state=Object(i.e)(e,this.quest,this.state)},e.prototype.getSaving=function(){return this.state},e.prototype.loadSaving=function(e){this.state=e}}(),n(23)),c=n(60),f=n(5),d=n.n(f),h=(n(424),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a});function p(e){return e[Math.floor(Math.random()*e.length)]}function m(e){var t=e.urls,n=r.useRef(null),i=t.filter((function(e){return e})),o=h(r.useState(p(i)),2),a=o[0],s=o[1],u=function(){var e=h(r.useState("hidden"===document.visibilityState),2),t=e[0],n=e[1];return r.useEffect((function(){var e=function(){n("hidden"===document.visibilityState)};return document.addEventListener("visibilitychange",e),function(){return document.removeEventListener("visibilitychange",e)}})),t}();return r.useEffect((function(){if(!u){var e=function(){n.current&&(n.current.volume=.8,n.current.play())};return document.addEventListener("click",e),document.addEventListener("touchstart",e),e(),function(){document.removeEventListener("click",e),document.removeEventListener("touchstart",e)}}n.current&&n.current.pause()}),[a,u]),a?r.createElement("audio",{autoPlay:!u,controls:!1,onEnded:function(){s(p(i))},src:a,ref:n}):null}var v=n(51);function y(e){var t=e.src,n=e.allImagesUrls;return t&&n.indexOf(t)<0&&console.warn("Image "+t+" is not found in allImagesUrls",n),r.createElement(r.Fragment,null,n.map((function(e){return e?r.createElement("img",{key:e,src:e,style:{width:"100%",position:"relative",display:e===t?void 0:"none"}}):null})))}function g(e){var t=e.src,n=e.allImagesUrls;return r.createElement("div",{style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},n.map((function(e){return e?r.createElement("div",{key:e,style:{width:"100%",position:"absolute",left:0,right:0,top:0,bottom:0,opacity:e===t?1:0,transition:"opacity 0.5s linear",backgroundImage:'url("'+e+'"',backgroundSize:"cover",backgroundPosition:"center center"}}):null})))}var b=n(13);function _(e,t){if(!e)return null;var n=e.toLowerCase();if(n.startsWith("http://")||n.startsWith("https://"))return e;var r={img:".jpg",track:".mp3",sound:".mp3"}[t],i={img:"img",track:"track",sound:"sound"}[t],o=n.endsWith(r)?"":r;return b.d+i+"/"+n+o}function w(e){var t=e.url,n=r.useRef(null);return r.useEffect((function(){n.current&&n.current.play()}),[t]),t?r.createElement("audio",{autoPlay:!0,controls:!1,onEnded:function(){},src:t,ref:n}):null}n(426);var E=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var x=function(e){var t=e.children,n=e.forceMeRecalculateHeight,i=r.useMemo((function(){return function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return document.body.removeChild(e),t-r}()+5}),[]),o=r.useRef(null),a=E(r.useState(null),2),s=a[0],u=a[1],l=E(r.useState(null),2),c=l[0],f=l[1],d=r.useCallback((function(){var e=o.current;if(e){var t=e.clientHeight/e.scrollHeight;f(t<1?Math.round(e.clientHeight*t):null)}}),[n]);r.useEffect((function(){return d()}),[d]);var h=r.useCallback((function(){var e=o.current;if(e){var t=e.scrollTop/e.scrollHeight;u(Math.round(e.clientHeight*t))}}),[]);r.useEffect((function(){return h()}),[h]),r.useEffect((function(){var e=function(){d(),h()};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[d,h]);var p=r.useRef(!1);return r.useEffect((function(){var e=function(){p.current=!1};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[]),r.useEffect((function(){var e=function(e){if(p.current){var t=o.current;if(t){var n=e.movementY*t.scrollHeight/t.clientHeight;t.scrollTop+=n}}};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}})),r.createElement("div",{style:{height:"100%",overflow:"hidden",position:"relative"}},r.createElement("div",{style:{height:"100%",width:"calc(100% + "+i+"px)",paddingRight:i+(null!==s&&null!==c?6:0),overflowY:"scroll"},onScroll:h,ref:o},t),null!==s&&null!==c&&r.createElement("div",{style:{position:"absolute",right:0,width:6,top:s,height:c,userSelect:"none"},className:"rcs-inner-handle",onMouseDown:function(e){p.current=!0}}))};function k(e){return{frameWidth:2*e.frameBorderX,frameHeight:2*e.frameBorderY}}var S=function(e){var t=e.children,n=e.frameBorderX,i=e.frameBorderY;return r.createElement("div",{className:"quest-play-frame",style:{position:"absolute",left:n,top:i,right:n,bottom:i,backgroundColor:"#a4967c"}},t)},C=function(e){var t=k({frameBorderX:e.frameBorderX,frameBorderY:e.frameBorderY}),n=t.frameWidth,i=t.frameHeight;return r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"absolute",left:0,top:0,width:n,height:3*i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:n,top:0,width:2*n,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:3*n,right:3*n,top:0,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",right:n,top:0,width:2*n,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",right:0,top:0,width:n,height:3*i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:0,top:3*i,bottom:3*i,width:n,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",right:0,top:3*i,bottom:3*i,width:n,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:n,height:3*i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:n,bottom:0,width:2*n,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",left:3*n,right:3*n,bottom:0,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",right:n,bottom:0,width:2*n,height:i,backgroundSize:"100% 100%"}}),r.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:n,height:3*i,backgroundSize:"100% 100%"}}))},O=function(e){var t=e.children,n=e.fitHeight,i=e.frameBorderX,o=e.frameBorderY;return r.createElement("div",{style:{width:"100%",height:n?"100%":void 0,position:"relative"}},r.createElement(S,{frameBorderX:i,frameBorderY:o}),r.createElement("div",{style:{paddingLeft:i,paddingTop:o,paddingRight:i,paddingBottom:o,height:n?"100%":void 0}},t),r.createElement(C,{frameBorderX:i,frameBorderY:o}))},T=function(e){var t=e.children,n=e.fitHeight,i=e.frameBorderX,o=e.frameBorderY,a=k({frameBorderX:i,frameBorderY:o}),s=a.frameWidth,u=a.frameHeight;return r.createElement("div",{style:{height:n?"100%":void 0,width:"100%",position:"relative",minHeight:100}},r.createElement(S,{frameBorderX:i,frameBorderY:o}),r.createElement(C,{frameBorderX:i,frameBorderY:o}),r.createElement("div",{style:{paddingLeft:s,paddingRight:s,paddingTop:u,paddingBottom:u,position:"relative",height:n?"100%":void 0}},t))},N=(n(428),function(e){var t=e.children,n=e.onClick,i=e.disabled,o=e.ariaLabel;return r.createElement("button",{className:"gameplay-button",onClick:n,disabled:i,"aria-label":o},r.createElement("div",{className:"gameplay-button-background"}),r.createElement("div",{className:d()("gameplay-button-content",{"gameplay-button-content-disabled":i})},t))});var j=n(73);n.d(t,"a",(function(){return A}));var P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},I=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function R(e,t){var n=Object(i.d)(e,Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2));return t?Object(i.e)(s.c,e,n,(new Date).getTime()):n}function A(e){var t,n=e.quest,s=e.gameState,u=e.setGameState,f=e.player,h=e.defaultMusicList,p=e.isMusic,E=e.setIsMusic,k=e.onExit,S=e.busySaving,C=e.showTaskInfoOnQuestStart,A=Object(v.b)(f.lang),D=P(r.useState(window.innerWidth),2),M=D[0],L=D[1];r.useEffect((function(){var e=function(){L(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r.useEffect((function(){var e=document.createElement("meta");return e.setAttribute("content","#000000"),e.setAttribute("name","theme-color"),document.head.appendChild(e),function(){document.head.removeChild(e)}}),[]);var F=P(r.useState(!1),2),z=F[0],B=F[1];r.useEffect((function(){return B(!1)}),[n,s,f]);var U=M<768;r.useEffect((function(){if(!s){var e=R(n,!C);u(e)}}),[s,u]);var q=function(e,t){var n=r.useRef({quest:e,states:[]});if(e!==n.current.quest&&(n.current={quest:e,states:[]}),!t)return n.current.states=[],null;if(n.current.states.slice(-1).shift()!==t&&n.current.states.push(t),1===n.current.states.length)return null;var i=n.current.states.indexOf(t);i<n.current.states.length-1&&n.current.states.splice(i);var o=n.current.states.slice(-2).shift();return void 0===o?null:o}(n,s),V=r.createElement("i",{className:"fa fa-fw fa-step-backward"}),W=r.useCallback((function(){q&&u(q)}),[q,u]),H=S?r.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}):r.createElement("i",{className:"fa fa-sign-out fa-fw"}),Y=r.createElement("i",{className:d()("fa fa-fw",p?"fa-volume-up":"fa-volume-off")}),G=r.useCallback((function(){E(!p)}),[p]),Q=r.createElement("i",{className:"fa fa-fast-backward fa-fw"}),$=r.useCallback((function(){if(s){var e=Object(i.c)(n,s,f);if(!e||"dead"===e.gameState||"fail"===e.gameState||"win"===e.gameState||z){var t=R(n,!1);u(t),B(!1)}else B(!0)}}),[s,n,f,C,z]),X=r.createElement("i",{className:"fa fa-arrows-alt fa-fw"}),K=r.useCallback((function(){Object(j.a)()}),[]);if(!s)return null;var J=Object(i.c)(n,s,f),Z=_(J.imageName,"img"),ee=Object.keys(function(e){var t,n,r={},i={},s={};e.params.forEach((function(e,t){a(r,e.img,"Param p"+t),a(i,e.track,"Param p"+t),a(s,e.sound,"Param p"+t)}));var u=function(e){e.media.map((function(e){return e.img})).forEach((function(t){return a(r,t,"Loc "+e.id)})),e.media.map((function(e){return e.track})).forEach((function(t){return a(i,t,"Loc "+e.id)})),e.media.map((function(e){return e.sound})).forEach((function(t){return a(s,t,"Loc "+e.id)})),e.paramsChanges.forEach((function(t,n){e.media.map((function(e){return e.img})).forEach((function(t){return a(r,t,"Loc "+e.id+" p"+(n+1))})),e.media.map((function(e){return e.track})).forEach((function(t){return a(i,t,"Loc "+e.id+" p"+(n+1))})),e.media.map((function(e){return e.sound})).forEach((function(t){return a(s,t,"Loc "+e.id+" p"+(n+1))}))}))};try{for(var l=o(e.locations),c=l.next();!c.done;c=l.next()){u(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return e.jumps.forEach((function(e){a(r,e.img,"Jump "+e.id),a(i,e.track,"Jump "+e.id),a(s,e.sound,"Jump "+e.id),e.paramsChanges.forEach((function(t,n){a(r,t.img,"Jump "+e.id+" p"+n),a(i,t.track,"Jump "+e.id+" p"+n),a(s,t.sound,"Jump "+e.id+" p"+n)}))})),{images:r,tracks:i,sounds:s}}(n).images).map((function(e){return _(e,"img")})),te=r.createElement(l.a,{key:J.text+"#"+s.performedJumps.length,style:{overflowX:"auto"}},r.createElement(c.a,{str:J.text})),ne=r.createElement(l.a,{key:"#"+s.performedJumps.length},J.choices.map((function(e){return r.createElement("div",{key:e.jumpId,className:U?"mb-4":"mb-3"},r.createElement("a",{href:location.href,onClick:function(t){if(t.preventDefault(),e.active){var r=Object(i.e)(e.jumpId,n,s);u(r),U&&setTimeout((function(){return window.scrollTo({left:0,top:58,behavior:"smooth"})}),10)}},className:e.active?"":"game-inactive"},r.createElement("i",{className:"fa fa-angle-double-right"})," ",r.createElement(c.a,{str:e.text})))}))),re=(t=[]).concat.apply(t,I([],P(J.paramsState.map((function(e){return e.split("<br>")}))))),ie=r.createElement(r.Fragment,null,function(e){for(var t=[],n=0;n<e.length;n++)e[n]?t.push(e[n]):n+1<e.length?e[n+1]&&t.push(e[n]):t.push(e[n]);return t}(re).map((function(e,t){return r.createElement(l.a,{key:e+"###"+t},r.createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"center",minHeight:"1em"}},r.createElement(c.a,{str:e})))}))),oe=r.createElement(r.Fragment,null,p?J.trackName?r.createElement(m,{urls:[_(J.trackName,"track")],key:J.trackName}):h?r.createElement(m,{urls:h.map((function(e){return b.d+e}))}):null:null,p&&J.soundName?r.createElement(w,{url:_(J.soundName,"sound")}):null),ae=U?10:15,se=U?10:15,ue=z?r.createElement(T,{fitHeight:!0,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}},r.createElement("div",{style:{marginBottom:10}},A.reallyRestart),r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement(N,{onClick:function(){var e=R(n,!1);u(e),B(!1)},ariaLabel:A.yes},A.yes),r.createElement(N,{onClick:function(){return B(!1)},ariaLabel:A.no},A.no)))):null;if(!U){var le=343+2*ae,ce=392+2*se;return r.createElement("div",{style:{height:"100vh",position:"relative",backgroundColor:"#a4967c",backgroundSize:"cover",display:"flex",justifyContent:"center",alignItems:"stretch"},className:"game-root"},oe,r.createElement("div",{style:{maxWidth:1300,width:"100%",height:"100%",position:"relative"}},r.createElement("div",{style:{position:"absolute",left:0,top:0,width:"calc(100% - "+le+"px)",height:"calc("+ce+"px)"}},r.createElement(T,{fitHeight:!0,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{padding:5,paddingBottom:10,height:"100%"}},r.createElement(x,{key:J.text},te)))),r.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"calc(100% - "+le+"px)",height:"calc(100% - "+ce+"px)"}},r.createElement(T,{fitHeight:!0,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{padding:5,paddingBottom:10,height:"100%"}},r.createElement(x,{key:J.choices.map((function(e){return e.text+" "+e.jumpId+" "+e.active})).join("#")},ne)))),r.createElement("div",{style:{position:"absolute",right:0,top:0,width:"calc("+le+"px)",height:"calc("+ce+"px)"}},r.createElement(O,{fitHeight:!0,frameBorderX:ae,frameBorderY:se},r.createElement(g,{src:Z,allImagesUrls:ee}))),r.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"calc("+le+"px)",height:"calc(100% - "+ce+"px)"}},r.createElement(T,{fitHeight:!0,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{position:"relative",padding:5,paddingBottom:60,height:"100%"}},r.createElement(x,{key:"params",forceMeRecalculateHeight:re},r.createElement("div",{style:{minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},ie,new Array(0).fill(0).map((function(e,t){return r.createElement("div",{style:{border:"1px solid green"}},t)})))),r.createElement("div",{className:"gameplay-buttons",style:{position:"absolute",right:16,bottom:4}},r.createElement(N,{ariaLabel:A.restart,onClick:$},Q),f.allowBackButton&&r.createElement(N,{disabled:null===q,onClick:W,ariaLabel:A.stepBack},V),r.createElement(N,{onClick:G,ariaLabel:A.toggleMusic},Y),r.createElement(N,{onClick:K,ariaLabel:A.toggleFullscreen},X),r.createElement(N,{onClick:k,ariaLabel:A.exit},H)))))),ue&&r.createElement("div",{style:{position:"absolute",right:"30%",left:"30%",bottom:"30%",top:"30%"}},ue))}return r.createElement("div",{style:{minHeight:"100vh",backgroundColor:"#a4967c",backgroundSize:"cover",backgroundPosition:"70% 0px"},className:"game-root"},oe,r.createElement("div",{style:{display:"flex",justifyContent:"center",padding:10}},r.createElement(N,{onClick:$,ariaLabel:A.restart},Q),f.allowBackButton&&r.createElement(N,{disabled:null===q,onClick:W,ariaLabel:A.stepBack},V),r.createElement(N,{onClick:G,ariaLabel:A.toggleMusic},Y),r.createElement(N,{onClick:K,ariaLabel:A.toggleFullscreen},X),r.createElement(N,{onClick:k,ariaLabel:A.exit},H)),r.createElement("div",{style:{display:Z?void 0:"none"}},r.createElement(O,{fitHeight:!1,frameBorderX:ae,frameBorderY:se},r.createElement(y,{src:Z,allImagesUrls:ee}))),r.createElement("div",{style:{}},r.createElement(T,{fitHeight:!1,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{padding:5}},te))),r.createElement("div",{style:{display:re.filter((function(e){return e.trim()})).length>0?void 0:"none"}},r.createElement(T,{fitHeight:!1,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{padding:5}},ie))),r.createElement("div",{style:{}},r.createElement(T,{fitHeight:!1,frameBorderX:ae,frameBorderY:se},r.createElement("div",{style:{padding:5}},ne))),ue&&r.createElement("div",{style:{position:"fixed",right:"5%",left:"5%",bottom:"30%",top:"30%"}},ue))}},function(e,t,n){"use strict";var r=s(n(417)),i=s(n(422)),o=s(n(190)),a=s(n(188));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(e,t,n){var r=n(15),i=n(11).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(11),i=n(41),o=n(57),a=n(153),s=n(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(90)("keys"),i=n(62);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(11).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(15),i=n(9),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(42)(Function.call,n(36).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(15),i=n(117).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(47),i=n(46);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(47),i=n(46);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(57),i=n(2),o=n(32),a=n(31),s=n(77),u=n(125),l=n(75),c=n(37),f=n(17)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,v,y){u(n,t,p);var g,b,_,w=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",x="values"==m,k=!1,S=e.prototype,C=S[f]||S["@@iterator"]||m&&S[m],O=C||w(m),T=m?x?w("entries"):O:void 0,N="Array"==t&&S.entries||C;if(N&&(_=c(N.call(new e)))!==Object.prototype&&_.next&&(l(_,E,!0),r||"function"==typeof _[f]||a(_,f,h)),x&&C&&"values"!==C.name&&(k=!0,O=function(){return C.call(this)}),r&&!y||!d&&!k&&S[f]||a(S,f,O),s[t]=O,s[E]=h,m)if(g={values:x?O:w("values"),keys:v?O:w("keys"),entries:T},y)for(b in g)b in S||o(S,b,g[b]);else i(i.P+i.F*(d||k),t,g);return g}},function(e,t,n){"use strict";var r=n(65),i=n(61),o=n(75),a={};n(31)(a,n(17)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(94),i=n(46);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(77),i=n(17)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(21),i=n(61);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(83),i=n(17)("iterator"),o=n(77);e.exports=n(41).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(292);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(26),i=n(64),o=n(22);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(58),i=n(169),o=n(77),a=n(35);e.exports=n(124)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,i,o,a=n(42),s=n(159),u=n(116),l=n(112),c=n(11),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete y[e]},"process"==n(43)(f)?r=function(e){f.nextTick(a(g,e,1))}:m&&m.now?r=function(e){m.now(a(g,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){var r=n(11),i=n(134).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(43)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(30);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";var r=n(11),i=n(20),o=n(57),a=n(101),s=n(31),u=n(70),l=n(14),c=n(68),f=n(47),d=n(22),h=n(178),p=n(66).f,m=n(21).f,v=n(132),y=n(75),g=r.ArrayBuffer,b=r.DataView,_=r.Math,w=r.RangeError,E=r.Infinity,x=g,k=_.abs,S=_.pow,C=_.floor,O=_.log,T=_.LN2,N=i?"_b":"buffer",j=i?"_l":"byteLength",P=i?"_o":"byteOffset";function I(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?S(2,-24)-S(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===E?(i=e!=e?1:0,r=u):(r=C(O(e)/T),e*(o=S(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?c/o:c*S(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*S(2,t),r+=l):(i=e*S(2,l-1)*S(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function R(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-E:E;r+=S(2,t),c-=a}return(l?-1:1)*r*S(2,c-t)}function A(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function D(e){return[255&e]}function M(e){return[255&e,e>>8&255]}function L(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function F(e){return I(e,52,8)}function z(e){return I(e,23,4)}function B(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function U(e,t,n,r){var i=h(+n);if(i+t>e[j])throw w("Wrong index!");var o=e[N]._b,a=i+e[P],s=o.slice(a,a+t);return r?s:s.reverse()}function q(e,t,n,r,i,o){var a=h(+n);if(a+t>e[j])throw w("Wrong index!");for(var s=e[N]._b,u=a+e[P],l=r(+i),c=0;c<t;c++)s[u+c]=l[o?c:t-c-1]}if(a.ABV){if(!l((function(){g(1)}))||!l((function(){new g(-1)}))||l((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var V,W=(g=function(e){return c(this,g),new x(h(e))}).prototype=x.prototype,H=p(x),Y=0;H.length>Y;)(V=H[Y++])in g||s(g,V,x[V]);o||(W.constructor=g)}var G=new b(new g(2)),Q=b.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||u(b.prototype,{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else g=function(e){c(this,g,"ArrayBuffer");var t=h(e);this._b=v.call(new Array(t),0),this[j]=t},b=function(e,t,n){c(this,b,"DataView"),c(e,g,"DataView");var r=e[j],i=f(t);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw w("Wrong length!");this[N]=e,this[P]=i,this[j]=n},i&&(B(g,"byteLength","_l"),B(b,"buffer","_b"),B(b,"byteLength","_l"),B(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return A(U(this,4,e,arguments[1]))},getUint32:function(e){return A(U(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(U(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(U(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){q(this,1,e,D,t)},setUint8:function(e,t){q(this,1,e,D,t)},setInt16:function(e,t){q(this,2,e,M,t,arguments[2])},setUint16:function(e,t){q(this,2,e,M,t,arguments[2])},setInt32:function(e,t){q(this,4,e,L,t,arguments[2])},setUint32:function(e,t){q(this,4,e,L,t,arguments[2])},setFloat32:function(e,t){q(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){q(this,8,e,F,t,arguments[2])}});y(g,"ArrayBuffer"),y(b,"DataView"),s(b.prototype,a.VIEW,!0),t.ArrayBuffer=g,t.DataView=b},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,f=0;f<c;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(142),i=n(27),o=n(86),a=n(71),s=n(87),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var r,i=n(27),o=n(143),a=n(84),s=n(85),u=n(71);function l(e,t){return e.msg=u[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function d(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,d(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,f=e.prev,d=e.strstart+258,h=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(r=258-(d-o),o=d-258,r>a){if(e.match_start=t,a=r,r>=s)break;h=l[o+a-1],p=l[o+a]}}}while((t=f[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function y(e){var t,n,r,o,u,l,c,f,d,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,f=e.strstart+e.lookahead,d=o,h=void 0,(h=l.avail_in)>d&&(h=d),n=0===h?0:(l.avail_in-=h,i.arraySet(c,l.input,l.next_in,h,f),1===l.state.wrap?l.adler=a(l.adler,c,h,f):2===l.state.wrap&&(l.adler=s(l.adler,c,h,f)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function g(e,t){for(var n,r;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(h(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):l(e,-2)}function x(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function k(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return l(e,-2);8===r&&(r=9);var u=new w;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,x(e)}r=[new _(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(y(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,h(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,g),new _(4,5,16,8,g),new _(4,6,32,32,g),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],t.deflateInit=function(e,t){return k(e,t,8,15,8,0)},t.deflateInit2=k,t.deflateReset=x,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var v=8+(i.w_bits-8<<4)<<8;v|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=32),v+=31-v%31,i.status=113,m(i,v),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&d(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(d(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var g=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(y(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(y(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==g&&4!==g||(i.status=666),1===g||3===g)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===g&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),d(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),d(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,u,l,c,d,h=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,h-n.w_size,n.w_size,0),t=d,h=n.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,y(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(27);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);i(l);var c=new Array(60);i(c);var f=new Array(512);i(f);var d=new Array(256);i(d);var h=new Array(29);i(h);var p,m,v,y=new Array(30);function g(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?f[e]:f[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function x(e,t,n){E(e,n[2*t],n[2*t+1])}function k(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=k(o[s]++,s))}}function C(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function T(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function N(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&T(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!T(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function j(e,t,n){var r,i,s,u,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?x(e,i,t):(x(e,(s=d[i])+256+1,t),0!==(u=o[s])&&E(e,i-=h[s],u),x(e,s=_(--r),n),0!==(u=a[s])&&E(e,r-=y[s],u))}while(l<e.last_lit);x(e,256,t)}function P(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)N(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,N(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=h&&(a=d[r-h]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),S(o,l,e.bl_count)}function I(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function R(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)do{x(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(x(e,i,e.bl_tree),s--),x(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),E(e,s-3,3)):(x(e,18,e.bl_tree),E(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}i(y);var A=!1;function D(e,t,n,i){E(e,0+(i?1:0),3),function(e,t,n,i){O(e),i&&(w(e,n),w(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){A||(!function(){var e,t,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(h[r]=n,e=0;e<1<<o[r];e++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(y[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,u[8]++;for(;e<=255;)l[2*e+1]=9,e++,u[9]++;for(;e<=279;)l[2*e+1]=7,e++,u[7]++;for(;e<=287;)l[2*e+1]=8,e++,u[8]++;for(S(l,287,u),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=k(e,5);p=new g(l,o,257,286,15),m=new g(c,a,0,30,15),v=new g(new Array(0),s,0,19,7)}(),A=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,C(e)},t._tr_stored_block=D,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?D(e,t,n,r):4===e.strategy||o===i?(E(e,2+(r?1:0),3),j(e,l,c)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*u[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),j(e,e.dyn_ltree,e.dyn_dtree)),C(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),x(e,256,l),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(145),i=n(27),o=n(86),a=n(88),s=n(71),u=n(87),l=n(148),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,l,f,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),l=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=l,h.avail_out=p-l,l&&i.arraySet(h.output,h.output,u,l,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,n){"use strict";var r=n(27),i=n(84),o=n(85),a=n(146),s=n(147);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function d(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function h(e,t){var n,r;return e?(r=new l,e.state=r,r.window=null,0!==(n=d(e,t))&&(e.state=null),n):-2}var p,m,v=!0;function y(e){if(v){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function g(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=d,t.inflateResetKeep=c,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var n,l,c,f,d,h,p,m,v,b,_,w,E,x,k,S,C,O,T,N,j,P,I,R,A=0,D=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,l=e.input,h=e.avail_in,m=n.hold,v=n.bits,b=h,_=p,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(2&n.wrap&&35615===m){n.check=0,D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0),m=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,j=8+(15&(m>>>=4)),0===n.wbits)n.wbits=j;else if(j>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<j,e.adler=n.check=1,n.mode=512&m?10:12,m=0,v=0;break;case 2:for(;v<16;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,D[2]=m>>>16&255,D[3]=m>>>24&255,n.check=o(n.check,D,4,0)),m=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>h&&(w=h),w&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,f,w,j)),512&n.flags&&(n.check=o(n.check,l,w,f)),h-=w,f+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;w=0;do{j=l[f+w++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&w<h);if(512&n.flags&&(n.check=o(n.check,l,w,f)),h-=w,f+=w,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;w=0;do{j=l[f+w++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&w<h);if(512&n.flags&&(n.check=o(n.check,l,w,f)),h-=w,f+=w,j)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}e.adler=n.check=u(m),m=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===t){m>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(w>h&&(w=h),w>p&&(w=p),0===w)break e;r.arraySet(c,l,f,w,d),h-=w,f+=w,p-=w,d+=w,n.length-=w;break}n.mode=12;break;case 17:for(;v<14;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.lens[M[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(A=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,C=65535&A,!((k=A>>>24)<=v);){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(C<16)m>>>=k,v-=k,n.lens[n.have++]=C;else{if(16===C){for(R=k+2;v<R;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(m>>>=k,v-=k,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}j=n.lens[n.have-1],w=3+(3&m),m>>>=2,v-=2}else if(17===C){for(R=k+3;v<R;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}v-=k,j=0,w=3+(7&(m>>>=k)),m>>>=3,v-=3}else{for(R=k+7;v<R;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}v-=k,j=0,w=11+(127&(m>>>=k)),m>>>=7,v-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=j}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(h>=6&&p>=258){e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,a(e,_),d=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,l=e.input,h=e.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(A=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,C=65535&A,!((k=A>>>24)<=v);){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(S&&0==(240&S)){for(O=k,T=S,N=C;S=(A=n.lencode[N+((m&(1<<O+T)-1)>>O)])>>>16&255,C=65535&A,!(O+(k=A>>>24)<=v);){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}m>>>=O,v-=O,n.back+=O}if(m>>>=k,v-=k,n.back+=k,n.length=C,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;v<R;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(A=n.distcode[m&(1<<n.distbits)-1])>>>16&255,C=65535&A,!((k=A>>>24)<=v);){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(0==(240&S)){for(O=k,T=S,N=C;S=(A=n.distcode[N+((m&(1<<O+T)-1)>>O)])>>>16&255,C=65535&A,!(O+(k=A>>>24)<=v);){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}m>>>=O,v-=O,n.back+=O}if(m>>>=k,v-=k,n.back+=k,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;v<R;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(w=_-p,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,E=n.wsize-w):E=n.wnext-w,w>n.length&&(w=n.length),x=n.window}else x=c,E=d-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{c[d++]=x[E++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[d++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===h)break e;h--,m|=l[f++]<<v,v+=8}if(_-=p,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,c,_,d-_):i(n.check,c,_,d-_)),_=p,(n.flags?m:u(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===h)break e;h--,m+=l[f++]<<v,v+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,v=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&g(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,c,_,e.next_out-_):i(n.check,c,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:g(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,l,c,f,d,h,p,m,v,y,g,b,_,w,E,x,k,S,C;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=m[h&y];t:for(;;){if(h>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))C[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(p<_&&(h+=S[r++]<<p,p+=8),w+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=v[h&g];n:for(;;){if(h>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=v[(65535&b)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&b,p<(_&=15)&&(h+=S[r++]<<p,(p+=8)<_&&(h+=S[r++]<<p,p+=8)),(E+=h&(1<<_)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=_,p-=_,E>(_=o-a)){if((_=E-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,k=d,0===f){if(x+=l-_,_<w){w-=_;do{C[o++]=d[x++]}while(--_);x=o-E,k=C}}else if(f<_){if(x+=l+f-_,(_-=f)<w){w-=_;do{C[o++]=d[x++]}while(--_);if(x=0,f<w){w-=_=f;do{C[o++]=d[x++]}while(--_);x=o-E,k=C}}}else if(x+=f-_,_<w){w-=_;do{C[o++]=d[x++]}while(--_);x=o-E,k=C}for(;w>2;)C[o++]=k[x++],C[o++]=k[x++],C[o++]=k[x++],w-=3;w&&(C[o++]=k[x++],w>1&&(C[o++]=k[x++]))}else{x=o-E;do{C[o++]=C[x++],C[o++]=C[x++],C[o++]=C[x++],w-=3}while(w>2);w&&(C[o++]=C[x++],w>1&&(C[o++]=C[x++]))}break}}break}}while(r<i&&o<s);r-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},function(e,t,n){"use strict";var r=n(27),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,f,d){var h,p,m,v,y,g,b,_,w,E=d.bits,x=0,k=0,S=0,C=0,O=0,T=0,N=0,j=0,P=0,I=0,R=null,A=0,D=new r.Buf16(16),M=new r.Buf16(16),L=null,F=0;for(x=0;x<=15;x++)D[x]=0;for(k=0;k<u;k++)D[t[n+k]]++;for(O=E,C=15;C>=1&&0===D[C];C--);if(O>C&&(O=C),0===C)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(S=1;S<C&&0===D[S];S++);for(O<S&&(O=S),j=1,x=1;x<=15;x++)if(j<<=1,(j-=D[x])<0)return-1;if(j>0&&(0===e||1!==C))return-1;for(M[1]=0,x=1;x<15;x++)M[x+1]=M[x]+D[x];for(k=0;k<u;k++)0!==t[n+k]&&(f[M[t[n+k]]++]=k);if(0===e?(R=L=f,g=19):1===e?(R=i,A-=257,L=o,F-=257,g=256):(R=a,L=s,g=-1),I=0,k=0,x=S,y=c,T=O,N=0,m=-1,v=(P=1<<O)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){b=x-N,f[k]<g?(_=0,w=f[k]):f[k]>g?(_=L[F+f[k]],w=R[A+f[k]]):(_=96,w=0),h=1<<x-N,S=p=1<<T;do{l[y+(I>>N)+(p-=h)]=b<<24|_<<16|w|0}while(0!==p);for(h=1<<x-1;I&h;)h>>=1;if(0!==h?(I&=h-1,I+=h):I=0,k++,0==--D[x]){if(x===C)break;x=t[n+f[k]]}if(x>O&&(I&v)!==m){for(0===N&&(N=O),y+=S,j=1<<(T=x-N);T+N<C&&!((j-=D[T+N])<=0);)T++,j<<=1;if(P+=1<<T,1===e&&P>852||2===e&&P>592)return 1;l[m=I&v]=O<<24|T<<16|y-c|0}}return 0!==I&&(l[y+I]=x-N<<24|64<<16|0),d.bits=O,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create},function(e,t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=i.test(e);return l||o.test(e)?a(e.slice(2),l?2:8):r.test(e)?NaN:+e}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bezier=void 0;const{abs:i,cos:o,sin:a,acos:s,atan2:u,sqrt:l,pow:c}=Math;function f(e){return e<0?-c(-e,1/3):c(e,1/3)}const d=Math.PI,h=2*d,p=d/2,m=Number.MAX_SAFE_INTEGER||9007199254740991,v=Number.MIN_SAFE_INTEGER||-9007199254740991,y={x:0,y:0,z:0},g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){const n=t(e);let r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),l(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];const r=t.length-1;if(1===e)return t[r].t=1,t[r];const i=1-e;let o=t;if(0===r)return t[0].t=e,t[0];if(1===r){const t={x:i*o[0].x+e*o[1].x,y:i*o[0].y+e*o[1].y,t:e};return n&&(t.z=i*o[0].z+e*o[1].z),t}if(r<4){let t,a,s,u=i*i,l=e*e,c=0;2===r?(o=[o[0],o[1],o[2],y],t=u,a=i*e*2,s=l):3===r&&(t=u*i,a=u*e*3,s=i*l*3,c=e*l);const f={x:t*o[0].x+a*o[1].x+s*o[2].x+c*o[3].x,y:t*o[0].y+a*o[1].y+s*o[2].y+c*o[3].y,t:e};return n&&(f.z=t*o[0].z+a*o[1].z+s*o[2].z+c*o[3].z),f}const a=JSON.parse(JSON.stringify(t));for(;a.length>1;){for(let t=0;t<a.length-1;t++)a[t]={x:a[t].x+(a[t+1].x-a[t].x)*e,y:a[t].y+(a[t+1].y-a[t].y)*e},void 0!==a[t].z&&(a[t]=a[t].z+(a[t+1].z-a[t].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,t,n,r){const i=1-e,o=n,a=t;let s,u=o[0],l=o[1],c=o[2],f=o[3];return u*=i,l*=e,2===a.length?(s=u+l,{x:(u*a[0].x+l*a[1].x)/s,y:(u*a[0].y+l*a[1].y)/s,z:!!r&&(u*a[0].z+l*a[1].z)/s,t:e}):(u*=i,l*=2*i,c*=e*e,3===a.length?(s=u+l+c,{x:(u*a[0].x+l*a[1].x+c*a[2].x)/s,y:(u*a[0].y+l*a[1].y+c*a[2].y)/s,z:!!r&&(u*a[0].z+l*a[1].z+c*a[2].z)/s,t:e}):(u*=i,l*=1.5*i,c*=3*i,f*=e*e*e,4===a.length?(s=u+l+c+f,{x:(u*a[0].x+l*a[1].x+c*a[2].x+f*a[3].x)/s,y:(u*a[0].y+l*a[1].y+c*a[2].y+f*a[3].y)/s,z:!!r&&(u*a[0].z+l*a[1].z+c*a[2].z+f*a[3].z)/s,t:e}):void 0))},derive:function(e,t){const n=[];for(let r=e,i=r.length,o=i-1;i>1;i--,o--){const e=[];for(let n,i=0;i<o;i++)n={x:o*(r[i+1].x-r[i].x),y:o*(r[i+1].y-r[i].y)},t&&(n.z=o*(r[i+1].z-r[i].z)),e.push(n);n.push(e),r=e}return n},between:function(e,t,n){return t<=e&&e<=n||g.approximately(e,t)||g.approximately(e,n)},approximately:function(e,t,n){return i(e-t)<=(n||1e-6)},length:function(e){const t=g.Tvalues.length;let n=0;for(let r,i=0;i<t;i++)r=.5*g.Tvalues[i]+.5,n+=g.Cvalues[i]*g.arcfn(r,e);return.5*n},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){const r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){let t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(g.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,a=n.y-e.y;return u(r*a-i*o,r*o+i*a)},round:function(e,t){const n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){const n=e.x-t.x,r=e.y-t.y;return l(n*n+r*r)},closest:function(e,t){let n,r,i=c(2,63);return e.forEach((function(e,o){r=g.dist(t,e),r<i&&(i=r,n=o)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=c(e,t)+c(1-e,t);return i((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=c(1-e,t);return n/(c(e,t)+n)},lli8:function(e,t,n,r,i,o,a,s){const u=(e-n)*(o-s)-(t-r)*(i-a);return 0!=u&&{x:((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,y:((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u}},lli4:function(e,t,n,r){const i=e.x,o=e.y,a=t.x,s=t.y,u=n.x,l=n.y,c=r.x,f=r.y;return g.lli8(i,o,a,s,u,l,c,f)},lli:function(e,t){return g.lli4(e,e.c,t,t.c)},makeline:function(e,t){const n=e.x,r=e.y,i=t.x,o=t.y,a=(i-n)/3,s=(o-r)/3;return new T(n,r,n+a,r+s,n+2*a,r+2*s,i,o)},findbbox:function(e){let t=m,n=m,r=v,i=v;return e.forEach((function(e){const o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!g.bboxoverlap(t,r))return[];const o=[],a=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return a.forEach((function(t){t.virtual||s.forEach((function(r){if(r.virtual)return;const a=t.intersects(r,i);a.length>0&&(a.c1=t,a.c2=r,a.s1=e,a.s2=n,o.push(a))}))})),o},makeshape:function(e,t,n){const r=t.points.length,i=e.points.length,o=g.makeline(t.points[r-1],e.points[0]),a=g.makeline(e.points[i-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:a,bbox:g.findbbox([o,e,t,a]),intersections:function(e){return g.shapeintersections(s,s.bbox,e,e.bbox,n)}};return s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};let r,i,o=m,a=v;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(let s=0,u=n.length;s<u;s++)r=n[s],i=e.get(r),i[t]<o&&(o=i[t]),i[t]>a&&(a=i[t]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(e,t){const n=t.p1.x,r=t.p1.y,i=-u(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*o(i)-(e.y-r)*a(i),y:(e.x-n)*a(i)+(e.y-r)*o(i)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,r=g.align(e,t),i=function(e){return 0<=e&&e<=1};if(2===n){const e=r[0].y,t=r[1].y,n=r[2].y,o=e-2*t+n;if(0!==o){const r=-l(t*t-e*n),a=-e+t;return[-(r+a)/o,-(-r+a)/o].filter(i)}return t!==n&&0===o?[(2*t-n)/(2*t-2*n)].filter(i):[]}const a=r[0].y,u=r[1].y,c=r[2].y;let d=3*u-a-3*c+r[3].y,p=3*a-6*u+3*c,m=-3*a+3*u,v=a;if(g.approximately(d,0)){if(g.approximately(p,0))return g.approximately(m,0)?[]:[-v/m].filter(i);const e=l(m*m-4*p*v),t=2*p;return[(e-m)/t,(-m-e)/t].filter(i)}p/=d,m/=d,v/=d;const y=(3*m-p*p)/3,b=y/3,_=(2*p*p*p-9*p*m+27*v)/27,w=_/2,E=w*w+b*b*b;let x,k,S,C,O;if(E<0){const e=-y/3,t=l(e*e*e),n=-_/(2*t),r=s(n<-1?-1:n>1?1:n),a=2*f(t);return S=a*o(r/3)-p/3,C=a*o((r+h)/3)-p/3,O=a*o((r+2*h)/3)-p/3,[S,C,O].filter(i)}if(0===E)return x=w<0?f(-w):-f(w),S=2*x-p/3,C=-x-p/3,[S,C].filter(i);{const e=l(E);return x=f(-w+e),k=f(w+e),[x-k-p/3].filter(i)}},droots:function(e){if(3===e.length){const t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){const e=-l(n*n-t*r),o=-t+n;return[-(e+o)/i,-(-e+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){const t=e[0],n=e[1];return t!==n?[t/(t-n)]:[]}return[]},curvature:function(e,t,n,r,o){let a,s,u,f,d=0,h=0;const p=g.compute(e,t),m=g.compute(e,n),v=p.x*p.x+p.y*p.y;if(r?(a=l(c(p.y*m.z-m.y*p.z,2)+c(p.z*m.x-m.z*p.x,2)+c(p.x*m.y-m.x*p.y,2)),s=c(v+p.z*p.z,1.5)):(a=p.x*m.y-p.y*m.x,s=c(v,1.5)),0===a||0===s)return{k:0,r:0};if(d=a/s,h=s/a,!o){const o=g.curvature(e-.001,t,n,r,!0).k,a=g.curvature(e+.001,t,n,r,!0).k;f=(a-d+(d-o))/2,u=(i(a-d)+i(d-o))/2}return{k:d,r:h,dk:f,adk:u}},inflections:function(e){if(e.length<4)return[];const t=g.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*n+2*r+3*i-t[3].x*t[2].y),a=18*(3*n-r-3*i),s=18*(i-n);if(g.approximately(o,0)){if(!g.approximately(a,0)){let e=-s/a;if(0<=e&&e<=1)return[e]}return[]}const u=a*a-4*o*s,l=Math.sqrt(u),c=2*o;return g.approximately(c,0)?[]:[(l-a)/c,-(a+l)/c].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){const n=["x","y"],r=n.length;for(let o,a,s,u,l=0;l<r;l++)if(o=n[l],a=e[o].mid,s=t[o].mid,u=(e[o].size+t[o].size)/2,i(a-s)>=u)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){const r=e.bbox(),i=t.bbox(),o=1e5,a=n||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];let s=e.split(.5),u=t.split(.5),l=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];l=l.filter((function(e){return g.bboxoverlap(e.left.bbox(),e.right.bbox())}));let c=[];return 0===l.length||(l.forEach((function(e){c=c.concat(g.pairiteration(e.left,e.right,a))})),c=c.filter((function(e,t){return c.indexOf(e)===t}))),c},getccenter:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,s=n.x-t.x,l=n.y-t.y,c=r*o(p)-i*a(p),f=r*a(p)+i*o(p),d=s*o(p)-l*a(p),m=s*a(p)+l*o(p),v=(e.x+t.x)/2,y=(e.y+t.y)/2,b=(t.x+n.x)/2,_=(t.y+n.y)/2,w=v+c,E=y+f,x=b+d,k=_+m,S=g.lli8(v,y,w,E,b,_,x,k),C=g.dist(S,e);let O,T=u(e.y-S.y,e.x-S.x),N=u(t.y-S.y,t.x-S.x),j=u(n.y-S.y,n.x-S.x);return T<j?((T>N||N>j)&&(T+=h),T>j&&(O=j,j=T,T=O)):j<N&&N<T?(O=j,j=T,T=O):j+=h,S.s=T,S.e=j,S.r=C,S},numberSort:function(e,t){return e-t}};class b{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map((function(e){return g.pointsToString(e.points)})).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var t=e[0].bbox(),n=1;n<e.length;n++)g.expandbox(t,e[n].bbox());return t}offset(e){const t=[];return this.curves.forEach((function(n){t.push(...n.offset(e))})),new b(t)}}const{abs:_,min:w,max:E,cos:x,sin:k,acos:S,sqrt:C}=Math,O=Math.PI;class T{constructor(e){let t=e&&e.forEach?e:Array.from(arguments).slice(),n=!1;if("object"==typeof t[0]){n=t.length;const e=[];t.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&e.push(t[n])}))})),t=e}let r=!1;const i=t.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(6!==i&&8!==i&&9!==i&&12!==i&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!r&&(9===i||12===i)||e&&e[0]&&void 0!==e[0].z,a=this.points=[];for(let e=0,n=o?3:2;e<i;e+=n){var s={x:t[e],y:t[e+1]};o&&(s.z=t[e+2]),a.push(s)}const u=this.order=a.length-1,l=this.dims=["x","y"];o&&l.push("z"),this.dimlen=l.length;const c=g.align(a,{p1:a[0],p2:a[u]});this._linear=!c.some(e=>_(e.y)>1e-4),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new T(t,t,n);if(1===r)return new T(e,t,t);const i=T.getABC(2,e,t,n,r);return new T(e,i.A,n)}static cubicFromPoints(e,t,n,r,i){void 0===r&&(r=.5);const o=T.getABC(3,e,t,n,r);void 0===i&&(i=g.dist(t,o.C));const a=i*(1-r)/r,s=g.dist(e,n),u=(n.x-e.x)/s,l=(n.y-e.y)/s,c=i*u,f=i*l,d=a*u,h=a*l,p=t.x-c,m=t.y-f,v=t.x+d,y=t.y+h,b=o.A,_=b.x+(p-b.x)/(1-r),w=b.y+(m-b.y)/(1-r),E=b.x+(v-b.x)/r,x=b.y+(y-b.y)/r,k={x:e.x+(_-e.x)/r,y:e.y+(w-e.y)/r},S={x:n.x+(E-n.x)/(1-r),y:n.y+(x-n.y)/(1-r)};return new T(e,k,S,n)}static getUtils(){return g}getUtils(){return T.getUtils()}static get PolyBezier(){return b}valueOf(){return this.toString()}toString(){return g.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"];for(let n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}update(){this._lut=[],this.dpoints=g.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,t=g.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}length(){return g.length(this.derivative.bind(this))}static getABC(e=2,t,n,r,i=.5){const o=g.projectionratio(i,e),a=1-o,s={x:o*t.x+a*r.x,y:o*t.y+a*r.y},u=g.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/u,y:n.y+(n.y-s.y)/u},B:n,C:s,S:t,E:r}}getABC(e,t){t=t||this.get(e);let n=this.points[0],r=this.points[this.order];return T.getABC(this.order,n,t,r,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(let t,n,r=0;r<e;r++)n=r/(e-1),t=this.compute(n),t.t=n,this._lut.push(t);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),i=[];for(let t,o=0,a=0;o<r.length;o++)t=r[o],g.dist(t,e)<n&&(i.push(t),a+=o/r.length);return!!i.length&&(t/=i.length)}project(e){const t=this.getLUT(),n=t.length-1,r=g.closest(t,e),i=r.mpos,o=(i-1)/n,a=(i+1)/n,s=.1/n;let u,l,c=r.mdist,f=o,d=f;for(c+=1;f<a+s;f+=s)u=this.compute(f),l=g.dist(e,u),l<c&&(c=l,d=f);return d=d<0?0:d>1?1:d,u=this.compute(d),u.t=d,u.d=c,u}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?g.computeWithRatios(e,this.points,this.ratios,this._3d):g.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,t=[e[0]],n=e.length;for(let r,i,o=1;o<n;o++)r=e[o],i=e[o-1],t[o]={x:(n-o)/n*r.x+o/n*i.x,y:(n-o)/n*r.y+o/n*i.y};return t[n]=e[n-1],new T(t)}derivative(e){return g.compute(e,this.dpoints[0])}dderivative(e){return g.compute(e,this.dpoints[1])}align(){let e=this.points;return new T(g.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return g.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return g.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const t=this.derivative(e),n=C(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}}__normal3(e){const t=this.derivative(e),n=this.derivative(e+.01),r=C(t.x*t.x+t.y*t.y+t.z*t.z),i=C(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;const o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},a=C(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;const s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}}hull(e){let t=this.points,n=[],r=[],i=0;for(r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],3===this.order&&(r[i++]=t[3]);t.length>1;){n=[];for(let o,a=0,s=t.length-1;a<s;a++)o=g.lerp(e,t[a],t[a+1]),r[i++]=o,n.push(o);t=n}return r}split(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;const n=this.hull(e),r={left:2===this.order?new T([n[0],n[3],n[5]]):new T([n[0],n[4],n[7],n[9]]),right:2===this.order?new T([n[5],n[4],n[2]]):new T([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=g.map(0,0,1,this._t1,this._t2),r.left._t2=g.map(e,0,1,this._t1,this._t2),r.right._t1=g.map(e,0,1,this._t1,this._t2),r.right._t2=g.map(1,0,1,this._t1,this._t2),t?(t=g.map(t,e,1,0,1),r.right.split(t).left):r}extrema(){const e={};let t=[];return this.dims.forEach(function(n){let r=function(e){return e[n]},i=this.dpoints[0].map(r);e[n]=g.droots(i),3===this.order&&(i=this.dpoints[1].map(r),e[n]=e[n].concat(g.droots(i))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(g.numberSort))}.bind(this)),e.values=t.sort(g.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}bbox(){const e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=g.getminmax(this,n,e[n])}.bind(this)),t}overlaps(e){const t=this.bbox(),n=e.bbox();return g.bboxoverlap(t,n)}offset(e,t){if(void 0!==t){const n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){const t=this.normal(0),n=this.points.map((function(n){const r={x:n.x+e*t.x,y:n.y+e*t.y};return n.z&&t.z&&(r.z=n.z+e*t.z),r}));return[new T(n)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))}simple(){if(3===this.order){const e=g.angle(this.points[0],this.points[3],this.points[1]),t=g.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}const e=this.normal(0),t=this.normal(1);let n=e.x*t.x+e.y*t.y;return this._3d&&(n+=e.z*t.z),_(S(n))<O/3}reduce(){let e,t,n=0,r=0,i=[],o=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),n=a[0],e=1;e<a.length;e++)r=a[e],t=this.split(n,r),t._t1=n,t._t2=r,i.push(t),n=r;return i.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+.01;r<=1.01;r+=.01)if(t=e.split(n,r),!t.simple()){if(r-=.01,_(n-r)<.01)return[];t=e.split(n,r),t._t1=g.map(n,0,1,e._t1,e._t2),t._t2=g.map(r,0,1,e._t1,e._t2),o.push(t),n=r;break}n<1&&(t=e.split(n,1),t._t1=g.map(n,0,1,e._t1,e._t2),t._t2=e._t2,o.push(t))})),o}scale(e){const t=this.order;let n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);const r=this.clockwise,i=n?n(0):e,o=n?n(1):e,a=[this.offset(0,10),this.offset(1,10)],s=this.points,u=[],l=g.lli4(a[0],a[0].c,a[1],a[1].c);if(!l)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){const n=u[e*t]=g.copy(s[e*t]);n.x+=(e?o:i)*a[e].n.x,n.y+=(e?o:i)*a[e].n.y})),n?([0,1].forEach((function(i){if(2!==t||!i){var o=s[i+1],a={x:o.x-l.x,y:o.y-l.y},c=n?n((i+1)/t):e;n&&!r&&(c=-c);var f=C(a.x*a.x+a.y*a.y);a.x/=f,a.y/=f,u[i+1]={x:o.x+c*a.x,y:o.y+c*a.y}}})),new T(u)):([0,1].forEach(e=>{if(2===t&&e)return;const n=u[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};u[e+1]=g.lli4(n,i,l,s[e+1])}),new T(u))}outline(e,t,n,r){t=void 0===t?e:t;const i=this.reduce(),o=i.length,a=[];let s,u=[],l=0,c=this.length();const f=void 0!==n&&void 0!==r;function d(e,t,n,r,i){return function(o){const a=r/n,s=(r+i)/n,u=t-e;return g.map(o,0,1,e+a*u,e+s*u)}}i.forEach((function(i){const o=i.length();f?(a.push(i.scale(d(e,n,c,l,o))),u.push(i.scale(d(-t,-r,c,l,o)))):(a.push(i.scale(e)),u.push(i.scale(-t))),l+=o})),u=u.map((function(e){return s=e.points,s[3]?e.points=[s[3],s[2],s[1],s[0]]:e.points=[s[2],s[1],s[0]],e})).reverse();const h=a[0].points[0],p=a[o-1].points[a[o-1].points.length-1],m=u[o-1].points[u[o-1].points.length-1],v=u[0].points[0],y=g.makeline(m,h),_=g.makeline(p,v),w=[y].concat(a).concat([_]).concat(u);return new b(w)}outlineshapes(e,t,n){t=t||e;const r=this.outline(e,t).curves,i=[];for(let e=1,t=r.length;e<t/2;e++){const o=g.makeshape(r[e],r[t-e],n);o.startcap.virtual=e>1,o.endcap.virtual=e<t/2-1,i.push(o)}return i}intersects(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof T&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)}lineIntersects(e){const t=w(e.p1.x,e.p2.x),n=w(e.p1.y,e.p2.y),r=E(e.p1.x,e.p2.x),i=E(e.p1.y,e.p2.y);return g.roots(this.points,e).filter(e=>{var o=this.get(e);return g.between(o.x,t,r)&&g.between(o.y,n,i)})}selfintersects(e){const t=this.reduce(),n=t.length-2,r=[];for(let i,o,a,s=0;s<n;s++)o=t.slice(s,s+1),a=t.slice(s+2),i=this.curveintersects(o,a,e),r.push(...i);return r}curveintersects(e,t,n){const r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));let i=[];return r.forEach((function(e){const t=g.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,t,n,r){const i=(r-n)/4,o=this.get(n+i),a=this.get(r-i),s=g.dist(e,t),u=g.dist(e,o),l=g.dist(e,a);return _(u-s)+_(l-s)}_iterate(e,t){let n,r=0,i=1;do{n=0,i=1;let o,a,s,u,l,c=this.get(r),f=!1,d=!1,h=i,p=1;do{if(d=f,u=s,h=(r+i)/2,o=this.get(h),a=this.get(i),s=g.getccenter(c,o,a),s.interval={start:r,end:i},f=this._error(s,c,r,i)<=e,l=d&&!f,l||(p=i),f){if(i>=1){if(s.interval.end=p=1,u=s,i>1){let e={x:s.x+s.r*x(s.e),y:s.y+s.r*k(s.e)};s.e+=g.angle({x:s.x,y:s.y},e,this.get(1))}break}i+=(i-r)/2}else i=h}while(!l&&n++<100);if(n>=100)break;u=u||s,t.push(u),r=p}while(i<1);return t}}n.Bezier=T},function(e,t,n){e.exports=!n(20)&&!n(14)((function(){return 7!=Object.defineProperty(n(112)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){t.f=n(17)},function(e,t,n){var r=n(34),i=n(35),o=n(91)(!1),a=n(114)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(21),i=n(9),o=n(63);e.exports=n(20)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(35),i=n(66).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(63),i=n(92),o=n(82),a=n(26),s=n(81),u=Object.assign;e.exports=!u||n(14)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,h=s(arguments[l++]),p=c?r(h).concat(c(h)):r(h),m=p.length,v=0;m>v;)f.call(h,d=p[v++])&&(n[d]=h[d]);return n}:u},function(e,t,n){"use strict";var r=n(30),i=n(15),o=n(159),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).parseInt,i=n(76).trim,o=n(118),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(11).parseFloat,i=n(76).trim;e.exports=1/r(n(118)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(43);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(15),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(121),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),l=r(e);return i<u?l*(i/u/a+1/o-1/o)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?l*(1/0):l*n}},function(e,t,n){var r=n(9);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(30),i=n(26),o=n(81),a=n(22);e.exports=function(e,t,n,s,u){r(t);var l=i(e),c=o(l),f=a(l.length),d=u?f-1:0,h=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var r=n(26),i=n(64),o=n(22);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(20)&&"g"!=/./g.flags&&n(21).f(RegExp.prototype,"flags",{configurable:!0,get:n(96)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(9),i=n(15),o=n(136);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(174),i=n(78);e.exports=n(100)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(21).f,i=n(65),o=n(70),a=n(42),s=n(68),u=n(69),l=n(124),c=n(169),f=n(67),d=n(20),h=n(56).fastKey,p=n(78),m=d?"_s":"size",v=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&u(r,n,e[l],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(174),i=n(78);e.exports=n(100)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(49)(0),o=n(32),a=n(56),s=n(157),u=n(177),l=n(15),c=n(14),f=n(78),d=a.getWeak,h=Object.isExtensible,p=u.ufstore,m={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},g=e.exports=n(100)("WeakMap",v,y,u,!0,!0);c((function(){return 7!=(new g).set((Object.freeze||Object)(m),7).get(m)}))&&(s((r=u.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=g.prototype,n=t[e];o(t,e,(function(t,i){if(l(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},function(e,t,n){"use strict";var r=n(70),i=n(56).getWeak,o=n(9),a=n(15),s=n(68),u=n(69),l=n(49),c=n(34),f=n(78),d=l(5),h=l(6),p=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=r&&u(r,n,e[o],e)}));return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=n(47),i=n(22);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(66),i=n(92),o=n(9),a=n(11).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(93),i=n(15),o=n(22),a=n(42),s=n(17)("isConcatSpreadable");e.exports=function e(t,n,u,l,c,f,d,h){for(var p,m,v=c,y=0,g=!!d&&a(d,h,3);y<l;){if(y in u){if(p=g?g(u[y],y,n):u[y],m=!1,i(p)&&(m=void 0!==(m=p[s])?!!m:r(p)),m&&f>0)v=e(t,n,p,o(p.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}y++}return v}},function(e,t,n){var r=n(22),i=n(120),o=n(46);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,l=void 0===n?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){var r=n(63),i=n(35),o=n(82).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var r=n(83),i=n(184);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(69);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(4)),i=s(n(0)),o=s(n(50)),a=n(105);n(189);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var u=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function l(){}u.contextTypes={transitionGroup:r.object},u.childContextTypes={transitionGroup:function(){}},u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var c=(0,a.polyfill)(u);t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(4))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(4)),i=s(n(0)),o=n(105),a=n(423);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(f);t.default=d,e.exports=t.default},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")(),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i.Symbol,l=u?u.toStringTag:void 0;function c(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=s.call(e);r&&(t?e[l]=n:delete e[l]);return i}(e):function(e){return s.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=c(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}}).call(this,n(53))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r,i=n(0),o=n(18),a=n(13),s=n(3),u=n(40),l=n(39),c=n(110),f=n(6),d=n(23),h=n(437),p=n(73),m=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={questLoadProgress:0},e}return m(n,t),n.prototype.componentDidMount=function(){var e=this;this.loadData().catch((function(t){return e.setState({error:t})}))},n.prototype.loadData=function(){return y(this,void 0,void 0,(function(){var t,n,r,i,o,l=this;return g(this,(function(c){switch(c.label){case 0:return(t=this.props.store.index.quests.find((function(e){return e.gameName===l.props.gameName})))?(this.setState({game:t}),[4,this.props.store.db.getConfigLocal("noMusic")]):(location.hash="#",[2]);case 1:return n=c.sent()||void 0,this.setState({noMusic:n}),[4,new Promise((function(e,n){var r=new XMLHttpRequest,i=a.d+t.filename;r.open("GET",i),r.responseType="arraybuffer",r.onload=function(t){r.status<=299?e(r.response):n(new Error("Url "+i+" "+r.status))},r.onerror=function(e){n(new Error(""+r.statusText))},r.onprogress=function(e){l.setState({questLoadProgress:e.loaded/e.total})},r.send()}))];case 2:return r=c.sent(),i=Object(s.m)(e.from(u.ungzip(e.from(r)))),[4,this.props.store.db.getLocalSaving(this.props.gameName)];case 3:return o=c.sent(),this.setState({quest:i,gameState:o}),[2]}}))}))},n.prototype.saveGame=function(e){var t=this;this.setState({thinkingSavingGame:!0}),this.props.store.db.saveGame(this.props.gameName,e).catch((function(e){return console.warn(e)})).then((function(){return t.setState({thinkingSavingGame:!1})})).catch((function(e){return console.error(e)}))},n.prototype.render=function(){var e=this,t=this.props.store,n=t.l,r=t.player,a=this.state.quest,s=this.state.gameState,u=this.state.game;if(this.state.error)return i.createElement(d.b,{error:this.state.error},i.createElement("a",{href:"#"},n.back));if(!a||!u||void 0===s){var l=Math.round(100*this.state.questLoadProgress);return i.createElement("div",{className:"my-3 container"},i.createElement("div",{className:"text-center"},n.loadingQuest," ",l,"%"),i.createElement(h.a,{value:l}))}return i.createElement(c.a,{quest:a,gameState:s,player:Object(f.o)(r),setGameState:function(t){e.saveGame(t),"win"===Object(o.c)(a,t,r).gameState&&(e.setState({thinkingSavingWin:!0}),e.props.store.db.setGamePassing(e.props.gameName,Object(o.b)(t)).then((function(){return e.props.store.loadWinProofsFromLocal()})).catch((function(e){return console.warn(e)})).then((function(){return e.setState({thinkingSavingWin:!1})})).catch((function(e){return console.warn(e)}))),e.setState({gameState:t})},defaultMusicList:this.props.store.defaultMusicList,isMusic:!this.state.noMusic,setIsMusic:function(t){e.setState({noMusic:!t},(function(){e.props.store.db.setConfigBoth("noMusic",!!e.state.noMusic).catch((function(e){return console.warn(e)}))}))},onExit:function(){Object(p.a)(!1),location.hash="/quests/"+e.props.gameName},busySaving:!!this.state.thinkingSavingWin,showTaskInfoOnQuestStart:!1})},n=v([l.a],n)}(i.Component)}).call(this,n(59).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=e.from([215,53,58,66,1,0,0,0,0,0,0,0,0,0,0,0,31,1,64,7,31,0,0,0,0,128,7,0,0,241,3,0,0,10,0,0,0,8,0,0,0,0,0,0,0,50,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,60,0,84,0,111,0,83,0,116,0,97,0,114,0,62,0,1,0,0,0,10,0,0,0,60,0,84,0,111,0,80,0,108,0,97,0,110,0,101,0,116,0,62,0,1,0,0,0,6,0,0,0,60,0,68,0,97,0,116,0,101,0,62,0,1,0,0,0,7,0,0,0,60,0,77,0,111,0,110,0,101,0,121,0,62,0,1,0,0,0,12,0,0,0,60,0,70,0,114,0,111,0,109,0,80,0,108,0,97,0,110,0,101,0,116,0,62,0,1,0,0,0,10,0,0,0,60,0,70,0,114,0,111,0,109,0,83,0,116,0,97,0,114,0,62,0,1,0,0,0,8,0,0,0,60,0,82,0,97,0,110,0,103,0,101,0,114,0,62,0,3,0,0,0,2,0,0,0,1,0,0,0,21,0,0,0,30,4,63,4,56,4,65,4,48,4,61,4,56,4,53,4,32,0,63,4,62,4,55,4,52,4,64,4,48,4,50,4,59,4,53,4,61,4,56,4,79,4,1,0,0,0,16,0,0,0,30,4,63,4,56,4,65,4,48,4,61,4,56,4,53,4,32,0,55,4,48,4,52,4,48,4,61,4,56,4,79,4,0,0,0,0,32,1,0,0,189,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,110,0,0,0,20,4,62,4,49,4,64,4,62,4,32,0,63,4,62,4,54,4,48,4,59,4,62,4,50,4,48,4,66,4,76,4,32,0,50,4,32,0,64,4,53,4,52,4,48,4,58,4,66,4,62,4,64,4,32,0,58,4,50,4,53,4,65,4,66,4,62,4,50,4,33,0,32,0,45,4,66,4,62,4,32,0,49,4,53,4,66,4,48,4,45,0,50,4,53,4,64,4,65,4,56,4,79,4,44,0,32,0,63,4,62,4,54,4,48,4,59,4,67,4,57,4,65,4,66,4,48,4,32,0,63,4,56,4,72,4,56,4,66,4,53,4,32,0,62,4,49,4,62,4,32,0,50,4,65,4,53,4,69,4,32,0,49,4,48,4,51,4,48,4,69,4,32,0,56,4,32,0,50,4,62,4,55,4,60,4,62,4,54,4,61,4,75,4,69,4,32,0,67,4,59,4,67,4,71,4,72,4,53,4,61,4,56,4,79,4,69,4,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,224,1,0,0,189,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,85,0,0,0,45,4,66,4,62,4,66,4,32,0,64,4,53,4,52,4,48,4,58,4,66,4,62,4,64,4,32,0,60,4,62,4,54,4,53,4,66,4,32,0,65,4,62,4,55,4,52,4,48,4,50,4,48,4,66,4,76,4,32,0,63,4,62,4,59,4,61,4,62,4,70,4,53,4,61,4,61,4,75,4,53,4,32,0,113,0,109,0,109,0,32,0,58,4,50,4,53,4,65,4,66,4,75,4,32,0,65,4,62,4,50,4,60,4,53,4,65,4,66,4,56,4,60,4,75,4,53,4,32,0,65,4,32,0,62,4,64,4,56,4,51,4,56,4,61,4,48,4,59,4,76,4,61,4,62,4,57,4,32,0,56,4,51,4,64,4,62,4,57,4,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,160,2,0,0,189,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,1,0,0,0,1,0,0,0,16,0,0,0,33,4,63,4,48,4,65,4,56,4,49,4,62,4,32,0,56,4,32,0,67,4,52,4,48,4,71,4,56,4,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,24,0,0,0,39,4,66,4,62,4,32,0,67,4,60,4,53,4,53,4,66,4,32,0,77,4,66,4,62,4,66,4,32,0,64,4,53,4,52,4,48,4,58,4,66,4,62,4,64,4,63,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,0,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,7,0,0,0,26,4,64,4,67,4,66,4,79,4,58,4,33,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}).call(this,n(59).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(40),i=n(0),o=n(10),a=n(3),s=n(13),u=n(28),l=n(38),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function d(e){return e.split("/").pop().replace(/\.qmm$/,"").replace(/\.qm$/,"").replace(/\.qmm.gz$/,"").replace(/\.qm.gz$/,"")}function h(t){var n,h=t.onClose,p=t.questsToLoad;Object(u.a)((function(e){"Escape"===e.key&&h(void 0)}));var m=f(i.useState(0),2),v=m[0],y=m[1],g=i.useCallback((function(){fetch(s.d+p[v].filename).then((function(e){return e.arrayBuffer()})).then((function(t){var n=Object(a.m)(e.from(r.ungzip(e.from(t))));h(c(c({},n),{filename:d(p[v].filename)}))})).catch((function(e){return Object(o.b)(e.message)}))}),[v,p,h]);return i.createElement(l.a,{wide:!0,position:"absolute",headerText:"Загрузка квеста",onClose:function(){return h(void 0)}},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-6"},i.createElement("label",null,"Загрузить квест из существующих"),i.createElement("select",{className:"form-control mb-1",value:v,size:20,onChange:function(e){return y(parseInt(e.target.value))},onDoubleClick:g},p.map((function(e,t){return i.createElement("option",{value:t,key:t},e.gameName," (",e.questOrigin,")")}))),i.createElement("button",{className:"btn btn-primary w-100",disabled:!p[v],onClick:g},"Загрузить ",(null===(n=p[v])||void 0===n?void 0:n.gameName)||"")),i.createElement("div",{className:"col-6"},i.createElement("label",null,"Загрузить квест из файла"),i.createElement("input",{type:"file",className:"form-control-file",accept:".qm,.qmm,.qmm.gz,.qm.gz",onChange:function(t){if(t.target.files){var n=t.target.files[0];n&&n.arrayBuffer().then((function(t){var i=n.name.endsWith(".gz")?e.from(r.ungzip(e.from(t))):e.from(t),o=Object(a.m)(i);h(c(c({},o),{filename:d(n.name)}))})).catch((function(e){return Object(o.b)(e.message)}))}}}))))}}).call(this,n(59).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(5),i=n.n(r),o=n(0),a=n(109),s=n(28),u=n(38),l=n(40),c=n(10),f=n(3),d=n(436),h=n(197),p=n(198),m=n(438),v=n(199),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function b(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}function _(t){var n=t.quest,r=t.onClose,_=t.saveCustomQuest,w=t.loadCustomQuest,E=t.getAllMyCustomQuests,x=t.getMyUserId;Object(s.a)((function(e){"Escape"===e.key&&r(void 0)}));var k=x(),S=g(o.useState(null),2),C=S[0],O=S[1],T=o.useCallback((function(){E().then((function(e){O(e||{})})).catch((function(e){O("Error: "+e.message)}))}),[]),N=g(o.useState(""),2),j=N[0],P=N[1];o.useEffect((function(){if(null!==C&&"object"==typeof C){var e=Object.keys(C)[0];e&&P(e)}}),[C]);var I=o.useCallback((function(){var t=null!==C&&"string"!=typeof C?C[j]:void 0;if(t){var n=Object(f.m)(e.from(l.ungzip(e.from(t.quest_qmm_gz_base64,"base64"))));r(y(y({},n),{filename:j,isPublic:t.isPublic}))}}),[j,C]),R=o.useCallback((function(){if(j){if(!confirm("Точно удалить?"))return;O(null),_(j,null).then((function(){return T()})).catch((function(e){Object(c.b)("Ошибка "+e.message)}))}}),[j]),A=g(o.useState(n.filename),2),D=A[0],M=A[1];o.useEffect((function(){M(n.filename)}),[n]);var L=g(o.useState(n.isPublic),2),F=L[0],z=L[1];o.useEffect((function(){z(n.isPublic)}),[n]);var B=g(o.useState(!1),2),U=B[0],q=B[1],V=o.useCallback((function(){D&&(q(!0),_(D,{quest_qmm_gz_base64:e.from(l.gzip(Object(a.a)(n))).toString("base64"),isPublic:!!F,updatedAt:Date.now()}).then((function(){q(!1),r(y(y({},n),{filename:D,isPublic:F})),Object(c.b)("Сохранено!")})).catch((function(e){q(!1),Object(c.b)("Ошибка: "+e.message)})))}),[U,_,D,F,n]),W=o.useCallback((function(e){return k?location.origin+"/#/userquest/"+k+"/"+encodeURIComponent(e):null}),[k]),H=F&&D?W(D):void 0,Y=g(o.useState("main"),2),G=Y[0],Q=Y[1];o.useEffect((function(){"list"===G&&T()}),[T,G]);var $=g(o.useState(""),2),X=$[0],K=$[1],J=o.useCallback((function(){var t=g(X.split("/").slice(-3),3),n=t[0],i=t[1],o=t[2];"userquest"===n&&i&&o?(q(!0),w(i,decodeURIComponent(o)).then((function(t){if(q(!1),t){var n=Object(f.m)(e.from(l.ungzip(e.from(t.quest_qmm_gz_base64,"base64"))));r(y(y({},n),{filename:decodeURIComponent(o),isPublic:!0}))}else Object(c.b)("Не найдено")})).catch((function(e){q(!1),Object(c.b)("Ошибка: "+e.message)}))):Object(c.b)("Неправильная ссылка")}),[X]);return o.createElement(u.a,{wide:!0,position:"absolute",headerText:"Загрузка и выгрузка в облако",onClose:function(){return r(void 0)}},o.createElement(d.a,{tabs:!0},o.createElement(h.a,null,o.createElement(p.a,{className:i()({active:"main"===G}),onClick:function(){return Q("main")}},"По ссылке")),o.createElement(h.a,null,o.createElement(p.a,{className:i()({active:"list"===G}),onClick:function(){return Q("list")}},"Список моих квестов"))),o.createElement(m.a,{activeTab:G},o.createElement(v.a,{tabId:"main",className:"pt-2"},o.createElement("div",null,o.createElement("label",null,"Сохранить в облако:"),o.createElement("input",{className:"form-control w-100",type:"text",value:D,onChange:function(e){return M(e.target.value)}}),o.createElement("label",{className:"form-check-label ml-4"},o.createElement("input",{className:"form-check-input",type:"checkbox",checked:!!F,onChange:function(e){return z(e.target.checked)}}),"Доступен для всех"),H?o.createElement("div",{onClick:function(){b(H),Object(c.b)("Скопировано в буфер!")},style:{cursor:"pointer"},className:"mt-1 mb-1"},H):null,o.createElement("button",{className:"btn btn-primary w-100 mt-2 mb-4",disabled:U,onClick:V},"Сохранить"),o.createElement("label",null,"Открыть квест из ссылки:"),o.createElement("input",{className:"form-control w-100",type:"text",value:X,onChange:function(e){return K(e.target.value)},title:"Ссылка на квест в облаке"}),o.createElement("button",{className:"btn btn-secondary w-100 mt-2 mb-4",disabled:U,onClick:J},"Открыть"))),o.createElement(v.a,{tabId:"list",className:"pt-2"},o.createElement("div",{className:"mb-3"},o.createElement("label",null,"Открыть из своих:"),null===C?o.createElement("div",null,"Загрузка..."):"string"==typeof C?o.createElement("div",{className:"text-danger"},C):o.createElement("div",null,o.createElement("select",{className:"form-control mb-1",value:j,size:20,onChange:function(e){return P(e.target.value)},onDoubleClick:I},Object.entries(C).sort((function(e,t){var n=g(e,2),r=(n[0],n[1]),i=g(t,2),o=(i[0],i[1]);return r.updatedAt-o.updatedAt})).map((function(e){var t=g(e,2),n=t[0],r=t[1];return o.createElement("option",{value:n,key:n},n," ",r.isPublic?" (публичный)":"")}))),j&&o.createElement(o.Fragment,null,o.createElement("div",{className:"mt-1 mb-3 text-center",onClick:function(){b(W(j)||""),Object(c.b)("Скопировано в буфер!")},style:{cursor:"pointer"}},W(j)),o.createElement("div",{className:"d-flex justify-content-center"},o.createElement("button",{className:"btn btn-primary mr-2",disabled:U,onClick:I},"Открыть ",j),o.createElement("button",{className:"btn btn-danger ml-2",disabled:U,onClick:R},"Удалить ",j))))))))}}).call(this,n(59).Buffer)},,function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(0),a=n.n(o),s=n(4),u=n.n(s),l=n(5),c=n.n(l),f=n(8),d={tag:f.g,active:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),l=Object(f.d)(c()(t,"nav-item",!!o&&"active"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l}))};h.propTypes=d,h.defaultProps={tag:"li"},t.a=h},function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(106),a=n(80),s=n(0),u=n.n(s),l=n(4),c=n.n(l),f=n(5),d=n.n(f),h=n(8),p={tag:h.g,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),disabled:c.a.bool,active:c.a.bool,className:c.a.string,cssModule:c.a.object,onClick:c.a.func,href:c.a.any},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.active,a=e.tag,s=e.innerRef,l=Object(i.a)(e,["className","cssModule","active","tag","innerRef"]),c=Object(h.d)(d()(t,"nav-link",{disabled:l.disabled,active:o}),n);return u.a.createElement(a,Object(r.a)({},l,{ref:s,onClick:this.onClick,className:c}))},t}(u.a.Component);m.propTypes=p,m.defaultProps={tag:"a"},t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(19),i=n(25),o=n(0),a=n.n(o),s=n(4),u=n.n(s),l=n(5),c=n.n(l),f=n(107),d=n(8),h={tag:d.g,className:u.a.string,cssModule:u.a.object,tabId:u.a.any};function p(e){var t=e.className,n=e.cssModule,o=e.tabId,s=e.tag,u=Object(i.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(d.d)(c()("tab-pane",t,{active:o===e}),n)};return a.a.createElement(f.a.Consumer,null,(function(e){var t=e.activeTabId;return a.a.createElement(s,Object(r.a)({},u,{className:l(t)}))}))}p.propTypes=h,p.defaultProps={tag:"div"}},function(e,t,n){"use strict";(function(e){if(n(201),n(398),n(399),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&t(Array,e,Function.call.bind([][e]))}))}).call(this,n(53))},function(e,t,n){n(202),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(282),n(283),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(133),n(306),n(307),n(170),n(308),n(309),n(310),n(311),n(312),n(173),n(175),n(176),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),e.exports=n(41)},function(e,t,n){"use strict";var r=n(11),i=n(34),o=n(20),a=n(2),s=n(32),u=n(56).KEY,l=n(14),c=n(90),f=n(75),d=n(62),h=n(17),p=n(153),m=n(113),v=n(203),y=n(93),g=n(9),b=n(15),_=n(35),w=n(45),E=n(61),x=n(65),k=n(156),S=n(36),C=n(21),O=n(63),T=S.f,N=C.f,j=k.f,P=r.Symbol,I=r.JSON,R=I&&I.stringify,A=h("_hidden"),D=h("toPrimitive"),M={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),z=c("op-symbols"),B=Object.prototype,U="function"==typeof P,q=r.QObject,V=!q||!q.prototype||!q.prototype.findChild,W=o&&l((function(){return 7!=x(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(B,t);r&&delete B[t],N(e,t,n),r&&e!==B&&N(B,t,r)}:N,H=function(e){var t=F[e]=x(P.prototype);return t._k=e,t},Y=U&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},G=function(e,t,n){return e===B&&G(z,t,n),g(e),t=w(t,!0),g(n),i(F,t)?(n.enumerable?(i(e,A)&&e[A][t]&&(e[A][t]=!1),n=x(n,{enumerable:E(0,!1)})):(i(e,A)||N(e,A,E(1,{})),e[A][t]=!0),W(e,t,n)):N(e,t,n)},Q=function(e,t){g(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},$=function(e){var t=M.call(this,e=w(e,!0));return!(this===B&&i(F,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,A)&&this[A][e])||t)},X=function(e,t){if(e=_(e),t=w(t,!0),e!==B||!i(F,t)||i(z,t)){var n=T(e,t);return!n||!i(F,t)||i(e,A)&&e[A][t]||(n.enumerable=!0),n}},K=function(e){for(var t,n=j(_(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==A||t==u||r.push(t);return r},J=function(e){for(var t,n=e===B,r=j(n?z:_(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(B,t)||o.push(F[t]);return o};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(z,n),i(this,A)&&i(this[A],e)&&(this[A][e]=!1),W(this,e,E(1,n))};return o&&V&&W(B,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",(function(){return this._k})),S.f=X,C.f=G,n(66).f=k.f=K,n(82).f=$,n(92).f=J,o&&!n(57)&&s(B,"propertyIsEnumerable",$,!0),p.f=function(e){return H(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=O(h.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=P(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?x(e):Q(x(e),t)},defineProperty:G,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:K,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!U||l((function(){var e=P();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,R.apply(I,r)}}),P.prototype[D]||n(31)(P.prototype,D,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(63),i=n(92),o=n(82);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(2);r(r.S,"Object",{create:n(65)})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(20),"Object",{defineProperty:n(21).f})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(20),"Object",{defineProperties:n(155)})},function(e,t,n){var r=n(35),i=n(36).f;n(48)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=n(26),i=n(37);n(48)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(26),i=n(63);n(48)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){n(48)("getOwnPropertyNames",(function(){return n(156).f}))},function(e,t,n){var r=n(15),i=n(56).onFreeze;n(48)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(15),i=n(56).onFreeze;n(48)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(15),i=n(56).onFreeze;n(48)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(15);n(48)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(15);n(48)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(15);n(48)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(157)})},function(e,t,n){var r=n(2);r(r.S,"Object",{is:n(219)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(117).set})},function(e,t,n){"use strict";var r=n(83),i={};i[n(17)("toStringTag")]="z",i+""!="[object z]"&&n(32)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(2);r(r.P,"Function",{bind:n(158)})},function(e,t,n){var r=n(21).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(20)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(15),i=n(37),o=n(17)("hasInstance"),a=Function.prototype;o in a||n(21).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(2),i=n(160);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(2),i=n(161);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(11),i=n(34),o=n(43),a=n(119),s=n(45),u=n(14),l=n(66).f,c=n(36).f,f=n(21).f,d=n(76).trim,h=r.Number,p=h,m=h.prototype,v="Number"==o(n(65)(m)),y="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(v?u((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new p(g(t)),n,h):g(t)};for(var b,_=n(20)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(p,b=_[w])&&!i(h,b)&&f(h,b,c(p,b));h.prototype=m,m.constructor=h,n(32)(r,"Number",h)}},function(e,t,n){"use strict";var r=n(2),i=n(47),o=n(162),a=n(120),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(14)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=i(e),m="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*p(2,69,1))-69)<0?u*p(2,-t,1):u/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=h()}else f(0,n),f(1<<-t,0),v=h()+a.call("0",l);return v=l>0?m+((s=v.length)<=l?"0."+a.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):m+v}})},function(e,t,n){"use strict";var r=n(2),i=n(14),o=n(162),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(2),i=n(11).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{isInteger:n(163)})},function(e,t,n){var r=n(2);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(2),i=n(163),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(2),i=n(161);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(2),i=n(160);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(2),i=n(164),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(2),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(2),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(2),i=n(121);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(2),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(2),i=n(122);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(2);r(r.S,"Math",{fround:n(165)})},function(e,t,n){var r=n(2),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(2),i=Math.imul;r(r.S+r.F*n(14)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log1p:n(164)})},function(e,t,n){var r=n(2);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{sign:n(121)})},function(e,t,n){var r=n(2),i=n(122),o=Math.exp;r(r.S+r.F*n(14)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(2),i=n(122),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(2),i=n(64),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(2),i=n(35),o=n(22);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(76)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){"use strict";var r=n(123)(!0);n(124)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(2),i=n(123)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(2),i=n(22),o=n(126),a="".endsWith;r(r.P+r.F*n(127)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(2),i=n(126);r(r.P+r.F*n(127)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(2);r(r.P,"String",{repeat:n(120)})},function(e,t,n){"use strict";var r=n(2),i=n(22),o=n(126),a="".startsWith;r(r.P+r.F*n(127)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(33)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(33)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){"use strict";n(33)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){"use strict";n(33)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){"use strict";n(33)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){"use strict";n(33)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){"use strict";n(33)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){"use strict";n(33)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){"use strict";n(33)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";n(33)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){"use strict";n(33)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){"use strict";n(33)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){"use strict";n(33)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(2),i=n(26),o=n(45);r(r.P+r.F*n(14)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(2),i=n(281);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(14),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(32)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,t,n){var r=n(17)("toPrimitive"),i=Date.prototype;r in i||n(31)(i,r,n(284))},function(e,t,n){"use strict";var r=n(9),i=n(45);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(93)})},function(e,t,n){"use strict";var r=n(42),i=n(2),o=n(26),a=n(166),s=n(128),u=n(22),l=n(129),c=n(130);i(i.S+i.F*!n(95)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,y=0,g=c(d);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),null==g||h==Array&&s(g))for(n=new h(t=u(d.length));t>y;y++)l(n,y,v?m(d[y],y):d[y]);else for(f=g.call(d),n=new h;!(i=f.next()).done;y++)l(n,y,v?a(f,m,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(2),i=n(129);r(r.S+r.F*n(14)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(2),i=n(35),o=[].join;r(r.P+r.F*(n(81)!=Object||!n(44)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(2),i=n(116),o=n(43),a=n(64),s=n(22),u=[].slice;r(r.P+r.F*n(14)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),l=a(t,n),c=s(l-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(2),i=n(30),o=n(26),a=n(14),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(44)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(2),i=n(49)(0),o=n(44)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(15),i=n(93),o=n(17)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(2),i=n(49)(1);r(r.P+r.F*!n(44)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(49)(2);r(r.P+r.F*!n(44)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(49)(3);r(r.P+r.F*!n(44)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(49)(4);r(r.P+r.F*!n(44)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(167);r(r.P+r.F*!n(44)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(2),i=n(167);r(r.P+r.F*!n(44)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(2),i=n(91)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(44)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),i=n(35),o=n(47),a=n(22),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(44)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(2);r(r.P,"Array",{copyWithin:n(168)}),n(58)("copyWithin")},function(e,t,n){var r=n(2);r(r.P,"Array",{fill:n(132)}),n(58)("fill")},function(e,t,n){"use strict";var r=n(2),i=n(49)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("find")},function(e,t,n){"use strict";var r=n(2),i=n(49)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)(o)},function(e,t,n){n(67)("Array")},function(e,t,n){var r=n(11),i=n(119),o=n(21).f,a=n(66).f,s=n(94),u=n(96),l=r.RegExp,c=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(20)&&(!p||n(14)((function(){return h[n(17)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(p?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:f,l)};for(var m=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},v=a(c),y=0;v.length>y;)m(v[y++]);f.constructor=l,l.prototype=f,n(32)(r,"RegExp",l)}n(67)("RegExp")},function(e,t,n){"use strict";n(170);var r=n(9),i=n(96),o=n(20),a=/./.toString,s=function(e){n(32)(RegExp.prototype,"toString",e,!0)};n(14)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){n(97)("match",1,(function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))},function(e,t,n){n(97)("replace",2,(function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}))},function(e,t,n){n(97)("search",1,(function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))},function(e,t,n){n(97)("split",2,(function(e,t,r){"use strict";var i=n(94),o=r,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var u=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,l,c,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,p+"g");for(u||(r=new RegExp("^"+y.source+"$(?!\\s)",p));(l=y.exec(n))&&!((c=l.index+l[0][s])>m&&(h.push(n.slice(m,l.index)),!u&&l[s]>1&&l[0].replace(r,(function(){for(d=1;d<arguments[s]-2;d++)void 0===arguments[d]&&(l[d]=void 0)})),l[s]>1&&l.index<n[s]&&a.apply(h,l.slice(1)),f=l[0][s],m=c,h[s]>=v));)y.lastIndex===l.index&&y.lastIndex++;return m===n[s]?!f&&y.test("")||h.push(""):h.push(n.slice(m)),h[s]>v?h.slice(0,v):h}}else"0".split(void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]}))},function(e,t,n){"use strict";var r,i,o,a,s=n(57),u=n(11),l=n(42),c=n(83),f=n(2),d=n(15),h=n(30),p=n(68),m=n(69),v=n(98),y=n(134).set,g=n(135)(),b=n(136),_=n(171),w=n(99),E=n(172),x=u.TypeError,k=u.process,S=k&&k.versions,C=S&&S.v8||"",O=u.Promise,T="process"==c(k),N=function(){},j=i=b.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(17)("species")]=function(e){e(N,N)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(N)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&M(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?l(x("Promise-chain cycle")):(o=I(n))?o.call(n,u,l):u(n)):l(r)}catch(e){c&&!a&&c.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&A(e)}))}},A=function(e){y.call(u,(function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=_((function(){T?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){y.call(u,(function(){var t;T?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=I(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(L,r,1))}catch(e){L.call(r,e)}})):(n._v=e,n._s=1,R(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};P||(O=function(e){p(this,O,"Promise","_h"),h(e),r.call(this);try{e(l(F,this,1),l(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(70)(O.prototype,{then:function(e,t){var n=j(v(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(L,e,1)},b.f=j=function(e){return e===O||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!P,{Promise:O}),n(75)(O,"Promise"),n(67)("Promise"),a=n(41).Promise,f(f.S+f.F*!P,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(e){return E(s&&this===a?O:this,e)}}),f(f.S+f.F*!(P&&n(95)((function(e){O.all(e).catch(N)}))),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(177),i=n(78);n(100)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(2),i=n(101),o=n(137),a=n(9),s=n(64),u=n(22),l=n(15),c=n(11).ArrayBuffer,f=n(98),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&c.isView,m=d.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(14)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),l=new h(this),c=new h(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(67)("ArrayBuffer")},function(e,t,n){var r=n(2);r(r.G+r.W+r.F*!n(101).ABV,{DataView:n(137).DataView})},function(e,t,n){n(54)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(54)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(54)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(2),i=n(30),o=n(9),a=(n(11).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(14)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(2),i=n(65),o=n(30),a=n(9),s=n(15),u=n(14),l=n(158),c=(n(11).Reflect||{}).construct,f=u((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),d=!u((function(){c((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,h=i(s(u)?u:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},function(e,t,n){var r=n(21),i=n(2),o=n(9),a=n(45);i(i.S+i.F*n(14)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(2),i=n(36).f,o=n(9);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(2),i=n(9),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(125)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(36),i=n(37),o=n(34),a=n(2),s=n(15),u=n(9);a(a.S,"Reflect",{get:function e(t,n){var a,l,c=arguments.length<3?t:arguments[2];return u(t)===c?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(t))?e(l,n,c):void 0}})},function(e,t,n){var r=n(36),i=n(2),o=n(9);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(2),i=n(37),o=n(9);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(2),i=n(9),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(179)})},function(e,t,n){var r=n(2),i=n(9),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(21),i=n(36),o=n(37),a=n(34),s=n(2),u=n(61),l=n(9),c=n(15);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,h=arguments.length<4?t:arguments[3],p=i.f(l(t),n);if(!p){if(c(d=o(t)))return e(d,n,s,h);p=u(0)}if(a(p,"value")){if(!1===p.writable||!c(h))return!1;if(f=i.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(h,n,f)}else r.f(h,n,u(0,s));return!0}return void 0!==p.set&&(p.set.call(h,s),!0)}})},function(e,t,n){var r=n(2),i=n(117);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(2),i=n(91)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("includes")},function(e,t,n){"use strict";var r=n(2),i=n(180),o=n(26),a=n(22),s=n(30),u=n(131);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(58)("flatMap")},function(e,t,n){"use strict";var r=n(2),i=n(180),o=n(26),a=n(22),s=n(47),u=n(131);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(58)("flatten")},function(e,t,n){"use strict";var r=n(2),i=n(123)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(2),i=n(181),o=n(99);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(2),i=n(181),o=n(99);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(76)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){"use strict";n(76)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){"use strict";var r=n(2),i=n(46),o=n(22),a=n(94),s=n(96),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(125)(l,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){n(113)("asyncIterator")},function(e,t,n){n(113)("observable")},function(e,t,n){var r=n(2),i=n(179),o=n(35),a=n(36),s=n(129);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,t=l[f++]))&&s(c,t,n);return c}})},function(e,t,n){var r=n(2),i=n(182)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(2),i=n(182)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(2),i=n(26),o=n(30),a=n(21);n(20)&&r(r.P+n(102),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),i=n(26),o=n(30),a=n(21);n(20)&&r(r.P+n(102),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),i=n(26),o=n(45),a=n(37),s=n(36).f;n(20)&&r(r.P+n(102),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(2),i=n(26),o=n(45),a=n(37),s=n(36).f;n(20)&&r(r.P+n(102),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(183)("Map")})},function(e,t,n){var r=n(2);r(r.P+r.R,"Set",{toJSON:n(183)("Set")})},function(e,t,n){n(103)("Map")},function(e,t,n){n(103)("Set")},function(e,t,n){n(103)("WeakMap")},function(e,t,n){n(103)("WeakSet")},function(e,t,n){n(104)("Map")},function(e,t,n){n(104)("Set")},function(e,t,n){n(104)("WeakMap")},function(e,t,n){n(104)("WeakSet")},function(e,t,n){var r=n(2);r(r.G,{global:n(11)})},function(e,t,n){var r=n(2);r(r.S,"System",{global:n(11)})},function(e,t,n){var r=n(2),i=n(43);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(2),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(2),i=n(185),o=n(165);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(2),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(2);r(r.S,"Math",{scale:n(185)})},function(e,t,n){var r=n(2);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(2),i=n(41),o=n(11),a=n(98),s=n(172);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(2),i=n(136),o=n(171);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(55),i=n(9),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(55),i=n(9),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(55),i=n(9),o=n(37),a=r.has,s=r.get,u=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):void 0};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(175),i=n(184),o=n(55),a=n(9),s=n(37),u=o.keys,l=o.key,c=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=c(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,n){var r=n(55),i=n(9),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(55),i=n(9),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(55),i=n(9),o=n(37),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(55),i=n(9),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(55),i=n(9),o=n(30),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){var r=n(2),i=n(135)(),o=n(11).process,a="process"==n(43)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(2),i=n(11),o=n(41),a=n(135)(),s=n(17)("observable"),u=n(30),l=n(9),c=n(68),f=n(70),d=n(31),h=n(69),p=h.RETURN,m=function(e){return null==e?void 0:u(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},g=function(e){y(e)||(e._o=void 0,v(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}y(this)&&v(this)};b.prototype=f({},{unsubscribe:function(){g(this)}});var _=function(e){this._s=e};_.prototype=f({},{next:function(e){var t=this._s;if(!y(t)){var n=t._o;try{var r=m(n.next);if(r)return r.call(n,e)}catch(e){try{g(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var n=t._o;t._o=void 0;try{var r=m(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!y(t)){var n=t._o;t._o=void 0;try{var r=m(n.complete);e=r?r.call(n,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=u(e)};f(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)((function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})}))}}),f(w,{from:function(e){var t="function"==typeof this?this:w,n=m(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}return new t((function(t){var n=!1;return a((function(){if(!n){try{if(h(e,!1,(function(e){if(t.next(e),n)return p}))===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}})),function(){n=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)((function(e){var t=!1;return a((function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}})),function(){t=!0}}))}}),d(w.prototype,s,(function(){return this})),r(r.G,{Observable:w}),n(67)("Observable")},function(e,t,n){var r=n(11),i=n(2),o=n(99),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(2),i=n(134);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(133),i=n(63),o=n(32),a=n(11),s=n(31),u=n(77),l=n(17),c=l("iterator"),f=l("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),m=0;m<p.length;m++){var v,y=p[m],g=h[y],b=a[y],_=b&&b.prototype;if(_&&(_[c]||s(_,c,d),_[f]||s(_,f,y),u[y]=d,g))for(v in r)_[v]||o(_,v,r[v],!0)}},function(e,t,n){(function(t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=m;var c={},f={};f[o]=function(){return this};var d=Object.getPrototypeOf,h=d&&d(d(C([])));h&&h!==n&&r.call(h,o)&&(f=h);var p=b.prototype=y.prototype=Object.create(f);g.prototype=p.constructor=b,b.constructor=g,b[s]=g.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(p),e},l.awrap=function(e){return{__await:e}},_(w.prototype),w.prototype[a]=function(){return this},l.AsyncIterator=w,l.async=function(e,t,n,r){var i=new w(m(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(p),p[s]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function m(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=v(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function y(){}function g(){}function b(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){function n(t,i,o,a){var s=v(e[t],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(l).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}var i;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function r(){return new Promise((function(r,i){n(e,t,r,i)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=v(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(53))},function(e,t,n){n(400),e.exports=n(41).RegExp.escape},function(e,t,n){var r=n(2),i=n(401)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];E.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,i){var o=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new E(i,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=g(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),l.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(186),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function g(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(e=Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);g(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||_}function x(){}function k(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=E.prototype;var S=k.prototype=new x;S.constructor=k,r(S,E.prototype),S.isPureReactComponent=!0;var C={current:null},O={current:null},T=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:O.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,R=[];function A(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+L(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+L(s=t[l],l);u+=e(s,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+L(s,l++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),M(e,z,t=A(t,o,r,i)),D(t)}function U(){var e=C.current;return null===e&&b("321"),e}var q={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,F,t=A(null,null,t,n)),D(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){return P(e)||b("143"),e}},createRef:function(){return{current:null}},Component:E,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:s,StrictMode:u,Suspense:p,createElement:j,cloneElement:function(e,t,n){null==e&&b("267",e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=O.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)T.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(e){var t=j.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:O,assign:r}},V={default:q},W=V&&q||V;e.exports=W.default||W},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(186),o=n(405);function a(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(e=Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}r||s("227");var l=!1,c=null,f=!1,d=null,h={onError:function(e){l=!0,c=e}};function p(e,t,n,r,i,o,a,s,f){l=!1,c=null,u.apply(h,arguments)}var m=null,v={};function y(){if(m)for(var e in v){var t=v[e],n=m.indexOf(e);if(-1<n||s("96",e),!b[n])for(var r in t.extractEvents||s("97",e),b[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,u=r;_.hasOwnProperty(u)&&s("99",u),_[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&g(l[i],a,u);i=!0}else o.registrationName?(g(o.registrationName,a,u),i=!0):i=!1;i||s("98",r,e)}}}function g(e,t,n){w[e]&&s("100",e),w[e]=t,E[e]=t.eventTypes[n].dependencies}var b=[],_={},w={},E={},x=null,k=null,S=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,r,i,o,a,u,h){if(p.apply(this,arguments),l){if(l){var m=c;l=!1,c=null}else s("198"),m=void 0;f||(f=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var N=null;function j(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var P={injectEventPluginOrder:function(e){m&&s("101"),m=Array.prototype.slice.call(e),y()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];v.hasOwnProperty(t)&&v[t]===r||(v[t]&&s("102",t),v[t]=r,n=!0)}n&&y()}};function I(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&s("231",t,typeof n),n)}function R(e){if(null!==e&&(N=O(N,e)),e=N,N=null,e&&(T(e,j),N&&s("95"),f))throw e=d,f=!1,d=null,e}var A=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+A,M="__reactEventHandlers$"+A;function L(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function F(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e}function z(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function B(e){return e[M]||null}function U(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function q(e,t,n){(t=I(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function V(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)q(n[t],"captured",e);for(t=0;t<n.length;t++)q(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=I(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function Y(e){T(e,V)}var G=!("undefined"==typeof window||!window.document||!window.document.createElement);function Q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},X={},K={};function J(e){if(X[e])return X[e];if(!$[e])return e;var t,n=$[e];for(t in n)if(n.hasOwnProperty(t)&&t in K)return X[e]=n[t];return e}G&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);var Z=J("animationend"),ee=J("animationiteration"),te=J("animationstart"),ne=J("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,ae=null;function se(){if(ae)return ae;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ae=i.slice(e,1<t?1-t:void 0)}function ue(){return!0}function le(){return!1}function ce(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:le,this.isPropagationStopped=le,this}function fe(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function de(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=fe,e.release=de}i(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:le,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=le,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,he(n),n},he(ce);var pe=ce.extend({data:null}),me=ce.extend({data:null}),ve=[9,13,27,32],ye=G&&"CompositionEvent"in window,ge=null;G&&"documentMode"in document&&(ge=document.documentMode);var be=G&&"TextEvent"in window&&!ge,_e=G&&(!ye||ge&&8<ge&&11>=ge),we=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function ke(e,t){switch(e){case"keyup":return-1!==ve.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ce=!1;var Oe={eventTypes:Ee,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"compositionstart":i=Ee.compositionStart;break e;case"compositionend":i=Ee.compositionEnd;break e;case"compositionupdate":i=Ee.compositionUpdate;break e}i=void 0}else Ce?ke(e,n)&&(i=Ee.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Ee.compositionStart);return i?(_e&&"ko"!==n.locale&&(Ce||i!==Ee.compositionStart?i===Ee.compositionEnd&&Ce&&(o=se()):(oe="value"in(ie=r)?ie.value:ie.textContent,Ce=!0)),i=pe.getPooled(i,t,n,r),o?i.data=o:null!==(o=Se(n))&&(i.data=o),Y(i),o=i):o=null,(e=be?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(xe=!0,we);case"textInput":return(e=t.data)===we&&xe?null:e;default:return null}}(e,n):function(e,t){if(Ce)return"compositionend"===e||!ye&&ke(e,t)?(e=se(),ae=oe=ie=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _e&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Ee.beforeInput,t,n,r)).data=e,Y(t)):t=null,null===o?t:null===t?o:[o,t]}},Te=null,Ne=null,je=null;function Pe(e){if(e=k(e)){"function"!=typeof Te&&s("280");var t=x(e.stateNode);Te(e.stateNode,e.type,t)}}function Ie(e){Ne?je?je.push(e):je=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=je;if(je=Ne=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ae(e,t){return e(t)}function De(e,t,n){return e(t,n)}function Me(){}var Le=!1;function Fe(e,t){if(Le)return e(t);Le=!0;try{return Ae(e,t)}finally{Le=!1,(null!==Ne||null!==je)&&(Me(),Re())}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ze[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function qe(e){if(!G)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=Ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ve(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ye=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ye.hasOwnProperty("ReactCurrentDispatcher")||(Ye.ReactCurrentDispatcher={current:null});var Ge=/^(.*)[\\\/]/,Qe="function"==typeof Symbol&&Symbol.for,$e=Qe?Symbol.for("react.element"):60103,Xe=Qe?Symbol.for("react.portal"):60106,Ke=Qe?Symbol.for("react.fragment"):60107,Je=Qe?Symbol.for("react.strict_mode"):60108,Ze=Qe?Symbol.for("react.profiler"):60114,et=Qe?Symbol.for("react.provider"):60109,tt=Qe?Symbol.for("react.context"):60110,nt=Qe?Symbol.for("react.concurrent_mode"):60111,rt=Qe?Symbol.for("react.forward_ref"):60112,it=Qe?Symbol.for("react.suspense"):60113,ot=Qe?Symbol.for("react.memo"):60115,at=Qe?Symbol.for("react.lazy"):60116,st="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function lt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case Ke:return"Fragment";case Xe:return"Portal";case Ze:return"Profiler";case Je:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return lt(e.type);case at:if(e=1===e._status?e._result:null)return lt(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=lt(e.type);n=null,r&&(n=lt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ge,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,ht={},pt={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){vt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];vt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){vt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){vt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){vt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){vt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){vt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){vt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){vt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var yt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=vt.hasOwnProperty(t)?vt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.call(pt,e)||!dt.call(ht,e)&&(ft.test(e)?pt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function _t(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function wt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Et(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_t(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function kt(e,t){xt(e,t);var n=_t(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,_t(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ct(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){vt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var Ot={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Tt(e,t,n){return(e=ce.getPooled(Ot.change,e,t,n)).type="change",Ie(n),Y(e),e}var Nt=null,jt=null;function Pt(e){R(e)}function It(e){if(He(z(e)))return e}function Rt(e,t){if("change"===e)return t}var At=!1;function Dt(){Nt&&(Nt.detachEvent("onpropertychange",Mt),jt=Nt=null)}function Mt(e){"value"===e.propertyName&&It(jt)&&Fe(Pt,e=Tt(jt,e,Ue(e)))}function Lt(e,t,n){"focus"===e?(Dt(),jt=n,(Nt=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Dt()}function Ft(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(jt)}function zt(e,t){if("click"===e)return It(t)}function Bt(e,t){if("input"===e||"change"===e)return It(t)}G&&(At=qe("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:Ot,_isInputEventSupported:At,extractEvents:function(e,t,n,r){var i=t?z(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Rt:Be(i)?At?o=Bt:(o=Ft,a=Lt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=zt),o&&(o=o(e,t)))return Tt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},qt=ce.extend({view:null,detail:null}),Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function Ht(){return Wt}var Yt=0,Gt=0,Qt=!1,$t=!1,Xt=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Yt;return Yt=e.screenX,Qt?"mousemove"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gt;return Gt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Kt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?L(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Jt.mouseLeave,u=Jt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Kt,s=Jt.pointerLeave,u=Jt.pointerEnter,l="pointer");var c=null==o?i:z(o);if(i=null==t?i:z(t),(e=a.getPooled(s,o,n,r)).type=l+"leave",e.target=c,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=t,o&&r)e:{for(i=r,l=0,a=t=o;a;a=U(a))l++;for(a=0,u=i;u;u=U(u))a++;for(;0<l-a;)t=U(t),l--;for(;0<a-l;)i=U(i),a--;for(;l--;){if(t===i||t===i.alternate)break e;t=U(t),i=U(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)t.push(o),o=U(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=U(r);for(r=0;r<t.length;r++)W(t[r],"bubbled",e);for(r=o.length;0<r--;)W(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&s("188")}function an(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&s("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return on(i),e;if(a===r)return on(i),t;a=a.sibling}s("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}a||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var sn=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ln=qt.extend({relatedTarget:null});function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=qt.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Xt.extend({dataTransfer:null}),mn=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),vn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Z,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},_n={};function wn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,_n[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){wn(e,!0)})),gn.forEach((function(e){wn(e,!1)}));var En={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=_n[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=_n[e];if(!i)return null;switch(e){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":e=hn;break;case"blur":case"focus":e=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case Z:case ee:case te:e=sn;break;case ne:e=vn;break;case"scroll":e=qt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kt;break;default:e=ce}return Y(t=e.getPooled(i,t,n,r)),t}},xn=En.isInteractiveTopLevelEventType,kn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=L(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ue(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<b.length;s++){var u=b[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=O(a,u))}R(a)}}var Cn=!0;function On(e,t){if(!t)return null;var n=(xn(e)?Nn:jn).bind(null,e);t.addEventListener(e,n,!1)}function Tn(e,t){if(!t)return null;var n=(xn(e)?Nn:jn).bind(null,e);t.addEventListener(e,n,!0)}function Nn(e,t){De(jn,e,t)}function jn(e,t){if(Cn){var n=Ue(t);if(null===(n=L(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),kn.length){var r=kn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Fe(Sn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>kn.length&&kn.push(e)}}}var Pn={},In=0,Rn="_reactListenersID"+(""+Math.random()).slice(2);function An(e){return Object.prototype.hasOwnProperty.call(e,Rn)||(e[Rn]=In++,Pn[e[Rn]]={}),Pn[e[Rn]]}function Dn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Fn(){for(var e=window,t=Dn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Dn((e=t.contentWindow).document)}return t}function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Bn(e){var t=Fn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&zn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ln(n,o);var a=Ln(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Un=G&&"documentMode"in document&&11>=document.documentMode,qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Wn=null,Hn=null,Yn=!1;function Gn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yn||null==Vn||Vn!==Dn(n)?null:("selectionStart"in(n=Vn)&&zn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&nn(Hn,n)?null:(Hn=n,(e=ce.getPooled(qn.select,Wn,e,t)).type="select",e.target=Vn,Y(e),e))}var Qn={eventTypes:qn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=An(o),i=E.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?z(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Vn=o,Wn=t,Hn=null);break;case"blur":Hn=Wn=Vn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Gn(n,r);case"selectionchange":if(Un)break;case"keydown":case"keyup":return Gn(n,r)}return null}};function $n(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:_t(n)}}function Zn(e,t){var n=_t(t.value),r=_t(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function er(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=B,k=F,S=z,P.injectEventPluginsByName({SimpleEventPlugin:En,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:Ut,SelectEventPlugin:Qn,BeforeInputEventPlugin:Oe});var tr="http://www.w3.org/1999/xhtml",nr="http://www.w3.org/2000/svg";function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var or=void 0,ar=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==nr||"innerHTML"in e)e.innerHTML=t;else{for((or=or||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ur={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];function cr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function fr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=cr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ur).forEach((function(e){lr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]}))}));var dr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(e,t){t&&(dr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!=typeof t.style&&s("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function mr(e,t){var n=An(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Tn("scroll",e);break;case"focus":case"blur":Tn("focus",e),Tn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":qe(i)&&Tn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&On(i,e)}n[i]=!0}}}function vr(){}var yr=null,gr=null;function br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wr="function"==typeof setTimeout?setTimeout:void 0,Er="function"==typeof clearTimeout?clearTimeout:void 0,xr=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback;function Sr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Cr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Or=[],Tr=-1;function Nr(e){0>Tr||(e.current=Or[Tr],Or[Tr]=null,Tr--)}function jr(e,t){Tr++,Or[Tr]=e.current,e.current=t}var Pr={},Ir={current:Pr},Rr={current:!1},Ar=Pr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!=(e=e.childContextTypes)}function Lr(e){Nr(Rr),Nr(Ir)}function Fr(e){Nr(Rr),Nr(Ir)}function zr(e,t,n){Ir.current!==Pr&&s("168"),jr(Ir,t),jr(Rr,n)}function Br(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||s("108",lt(t)||"Unknown",o);return i({},n,r)}function Ur(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Pr,Ar=Ir.current,jr(Ir,t),jr(Rr,Rr.current),!0}function qr(e,t,n){var r=e.stateNode;r||s("169"),n?(t=Br(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=t,Nr(Rr),Nr(Ir),jr(Ir,t)):Nr(Rr),jr(Rr,n)}var Vr=null,Wr=null;function Hr(e){return function(t){try{return e(t)}catch(e){}}}function Yr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gr(e,t,n,r){return new Yr(e,t,n,r)}function Qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=Gr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xr(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Qr(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ke:return Kr(n.children,i,o,t);case nt:return Jr(n,3|i,o,t);case Je:return Jr(n,2|i,o,t);case Ze:return(e=Gr(12,n,t,4|i)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case it:return(e=Gr(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:a=10;break e;case tt:a=9;break e;case rt:a=11;break e;case ot:a=14;break e;case at:a=16,r=null;break e}s("130",null==e?e:typeof e,"")}return(t=Gr(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Kr(e,t,n,r){return(e=Gr(7,e,r,t)).expirationTime=n,e}function Jr(e,t,n,r){return e=Gr(8,e,r,t),t=0==(1&t)?Je:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function Zr(e,t,n){return(e=Gr(6,e,null,t)).expirationTime=n,e}function ei(e,t,n){return(t=Gr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ti(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ii(t,e)}function ni(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ii(t,e)}function ri(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ii(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function oi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ai=(new r.Component).refs;function si(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ui={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=vs(),i=qo(r=Ua(r,e));i.payload=t,null!=n&&(i.callback=n),Da(),Wo(e,i),Ha(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=vs(),i=qo(r=Ua(r,e));i.tag=Lo,i.payload=t,null!=n&&(i.callback=n),Da(),Wo(e,i),Ha(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=vs(),r=qo(n=Ua(n,e));r.tag=Fo,null!=t&&(r.callback=t),Da(),Wo(e,r),Ha(e,n)}};function li(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function ci(e,t,n){var r=!1,i=Pr,o=t.contextType;return"object"==typeof o&&null!==o?o=Mo(o):(i=Mr(t)?Ar:Ir.current,o=(r=null!=(r=t.contextTypes))?Dr(e,i):Pr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function di(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ai;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Mo(o):(o=Mr(t)?Ar:Ir.current,i.context=Dr(e,o)),null!==(o=e.updateQueue)&&(Qo(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(si(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ui.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Qo(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var hi=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ai&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function mi(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=$r(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Xr(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ei(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Kr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Zr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=Xr(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case Xe:return(t=ei(t,e.mode,n)).return=e,t}if(hi(t)||ut(t))return(t=Kr(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===Ke?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case Xe:return n.key===i?c(e,t,n,r):null}if(hi(n)||ut(n))return null!==i?null:f(e,t,n,r,null);mi(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===Ke?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case Xe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(hi(r)||ut(r))return f(t,e=e.get(n)||null,r,i,null);mi(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=h(i,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)(f=d(i,s[m],u))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,a,u,l){var c=ut(u);"function"!=typeof c&&s("150"),null==(u=c.call(u))&&s("151");for(var f=c=null,m=a,v=a=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=h(i,m,g.value,l);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,v),null===f?c=b:f.sibling=b,f=b,m=y}if(g.done)return n(i,m),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=d(i,g.value,l))&&(a=o(g,a,v),null===f?c=g:f.sibling=g,f=g);return c}for(m=r(i,m);!g.done;v++,g=u.next())null!==(g=p(m,i,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),a=o(g,a,v),null===f?c=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===Ke&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case $e:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===Ke:l.elementType===o.type){n(e,l.sibling),(r=i(l,o.type===Ke?o.props.children:o.props)).ref=pi(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===Ke?((r=Kr(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Xr(o.type,o.key,o.props,null,e.mode,u)).ref=pi(e,r,o),u.return=e,e=u)}return a(e);case Xe:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ei(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zr(o,e.mode,u)).return=e,e=r),a(e);if(hi(o))return m(e,r,o,u);if(ut(o))return v(e,r,o,u);if(c&&mi(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:s("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var yi=vi(!0),gi=vi(!1),bi={},_i={current:bi},wi={current:bi},Ei={current:bi};function xi(e){return e===bi&&s("174"),e}function ki(e,t){jr(Ei,t),jr(wi,e),jr(_i,bi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:t=ir(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Nr(_i),jr(_i,t)}function Si(e){Nr(_i),Nr(wi),Nr(Ei)}function Ci(e){xi(Ei.current);var t=xi(_i.current),n=ir(t,e.type);t!==n&&(jr(wi,e),jr(_i,n))}function Oi(e){wi.current===e&&(Nr(_i),Nr(wi))}var Ti=Ye.ReactCurrentDispatcher,Ni=0,ji=null,Pi=null,Ii=null,Ri=null,Ai=null,Di=null,Mi=0,Li=null,Fi=0,zi=!1,Bi=null,Ui=0;function qi(){s("321")}function Vi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,i,o){if(Ni=o,ji=t,Ii=null!==e?e.memoizedState:null,Ti.current=null===Ii?ro:io,t=n(r,i),zi){do{zi=!1,Ui+=1,Ii=null!==e?e.memoizedState:null,Di=Ri,Li=Ai=Pi=null,Ti.current=io,t=n(r,i)}while(zi);Bi=null,Ui=0}return Ti.current=no,(e=ji).memoizedState=Ri,e.expirationTime=Mi,e.updateQueue=Li,e.effectTag|=Fi,e=null!==Pi&&null!==Pi.next,Ni=0,Di=Ai=Ri=Ii=Pi=ji=null,Mi=0,Li=null,Fi=0,e&&s("300"),t}function Hi(){Ti.current=no,Ni=0,Di=Ai=Ri=Ii=Pi=ji=null,Mi=0,Li=null,Fi=0,zi=!1,Bi=null,Ui=0}function Yi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ai?Ri=Ai=e:Ai=Ai.next=e,Ai}function Gi(){if(null!==Di)Di=(Ai=Di).next,Ii=null!==(Pi=Ii)?Pi.next:null;else{null===Ii&&s("310");var e={memoizedState:(Pi=Ii).memoizedState,baseState:Pi.baseState,queue:Pi.queue,baseUpdate:Pi.baseUpdate,next:null};Ai=null===Ai?Ri=e:Ai.next=e,Ii=Pi.next}return Ai}function Qi(e,t){return"function"==typeof t?t(e):t}function $i(e){var t=Gi(),n=t.queue;if(null===n&&s("311"),n.lastRenderedReducer=e,0<Ui){var r=n.dispatch;if(null!==Bi){var i=Bi.get(n);if(void 0!==i){Bi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(vo=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var u=i=null,l=r,c=!1;do{var f=l.expirationTime;f<Ni?(c||(c=!0,u=a,i=o),f>Mi&&(Mi=f)):o=l.eagerReducer===e?l.eagerState:e(o,l.action),a=l,l=l.next}while(null!==l&&l!==r);c||(u=a,i=o),en(o,t.memoizedState)||(vo=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Li?(Li={lastEffect:null}).lastEffect=e.next=e:null===(t=Li.lastEffect)?Li.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Li.lastEffect=e),e}function Ki(e,t,n,r){var i=Yi();Fi|=e,i.memoizedState=Xi(t,n,void 0,void 0===r?null:r)}function Ji(e,t,n,r){var i=Gi();r=void 0===r?null:r;var o=void 0;if(null!==Pi){var a=Pi.memoizedState;if(o=a.destroy,null!==r&&Vi(r,a.deps))return void Xi(0,n,o,r)}Fi|=e,i.memoizedState=Xi(t,n,o,r)}function Zi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(){}function to(e,t,n){25>Ui||s("301");var r=e.alternate;if(e===ji||null!==r&&r===ji)if(zi=!0,e={expirationTime:Ni,action:n,eagerReducer:null,eagerState:null,next:null},null===Bi&&(Bi=new Map),void 0===(n=Bi.get(t)))Bi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Da();var i=vs(),o={expirationTime:i=Ua(i,e),action:n,eagerReducer:null,eagerState:null,next:null},a=t.last;if(null===a)o.next=o;else{var u=a.next;null!==u&&(o.next=u),a.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=r(l,n);if(o.eagerReducer=r,o.eagerState=c,en(c,l))return}catch(e){}Ha(e,i)}}var no={readContext:Mo,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi},ro={readContext:Mo,useCallback:function(e,t){return Yi().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:function(e,t){return Ki(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ki(4,36,Zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4,36,e,t)},useMemo:function(e,t){var n=Yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=to.bind(null,ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yi().memoizedState=e},useState:function(e){var t=Yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e}).dispatch=to.bind(null,ji,e),[t.memoizedState,e]},useDebugValue:eo},io={readContext:Mo,useCallback:function(e,t){var n=Gi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Vi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Mo,useEffect:function(e,t){return Ji(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ji(4,36,Zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4,36,e,t)},useMemo:function(e,t){var n=Gi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Vi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:$i,useRef:function(){return Gi().memoizedState},useState:function(e){return $i(Qi)},useDebugValue:eo},oo=null,ao=null,so=!1;function uo(e,t){var n=Gr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function co(e){if(so){var t=ao;if(t){var n=t;if(!lo(e,t)){if(!(t=Sr(n))||!lo(e,t))return e.effectTag|=2,so=!1,void(oo=e);uo(oo,n)}oo=e,ao=Cr(t)}else e.effectTag|=2,so=!1,oo=e}}function fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;oo=e}function ho(e){if(e!==oo)return!1;if(!so)return fo(e),so=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_r(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=Sr(t);return fo(e),ao=oo?Sr(e.stateNode):null,!0}function po(){ao=oo=null,so=!1}var mo=Ye.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?gi(t,null,n,r):yi(t,e.child,n,r)}function go(e,t,n,r,i){n=n.render;var o=t.ref;return Do(t,i),r=Wi(e,t,n,r,o,i),null===e||vo?(t.effectTag|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Oo(e,t,i))}function bo(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Qr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_o(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Oo(e,t,o):(t.effectTag|=1,(e=$r(a,r)).ref=t.ref,e.return=t,t.child=e)}function _o(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(vo=!1,i<o)?Oo(e,t,o):Eo(e,t,n,r,o)}function wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Eo(e,t,n,r,i){var o=Mr(n)?Ar:Ir.current;return o=Dr(t,o),Do(t,i),n=Wi(e,t,n,r,o,i),null===e||vo?(t.effectTag|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Oo(e,t,i))}function xo(e,t,n,r,i){if(Mr(n)){var o=!0;Ur(t)}else o=!1;if(Do(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ci(t,n,r),di(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=Mo(l):l=Dr(t,l=Mr(n)?Ar:Ir.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&fi(t,a,r,l),zo=!1;var d=t.memoizedState;u=a.state=d;var h=t.updateQueue;null!==h&&(Qo(t,h,r,a,i),u=t.memoizedState),s!==r||d!==u||Rr.current||zo?("function"==typeof c&&(si(t,n,c,r),u=t.memoizedState),(s=zo||li(t,n,s,r,d,u,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:oi(t.type,s),u=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Dr(t,l=Mr(n)?Ar:Ir.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&fi(t,a,r,l),zo=!1,u=t.memoizedState,d=a.state=u,null!==(h=t.updateQueue)&&(Qo(t,h,r,a,i),d=t.memoizedState),s!==r||u!==d||Rr.current||zo?("function"==typeof c&&(si(t,n,c,r),d=t.memoizedState),(c=zo||li(t,n,s,r,u,d,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ko(e,t,n,r,o,i)}function ko(e,t,n,r,i,o){wo(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&qr(t,n,!1),Oo(e,t,o);r=t.stateNode,mo.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=yi(t,e.child,null,o),t.child=yi(t,null,s,o)):yo(e,t,s,o),t.memoizedState=r.state,i&&qr(t,n,!0),t.child}function So(e){var t=e.stateNode;t.pendingContext?zr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zr(0,t.context,!1),ki(e,t.containerInfo)}function Co(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=i.fallback;e=Kr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Kr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=gi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=i.fallback,i=$r(r,r.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=$r(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=yi(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,(i=Kr(null,r,0,null)).child=s,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Kr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=yi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Oo(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=$r(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function To(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Rr.current)vo=!0;else if(r<n){switch(vo=!1,t.tag){case 3:So(t),po();break;case 5:Ci(t);break;case 1:Mr(t.type)&&Ur(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:Ro(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Co(e,t,n):null!==(t=Oo(e,t,n))?t.sibling:null}return Oo(e,t,n)}}else vo=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Dr(t,Ir.current);if(Do(t,n),i=Wi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Hi(),Mr(r)){var o=!0;Ur(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"==typeof a&&si(t,r,a,e),i.updater=ui,t.stateNode=i,i._reactInternalFiber=t,di(t,r,e,n),t=ko(null,t,r,!0,o,n)}else t.tag=0,yo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Qr(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=oi(e,o),a=void 0,i){case 0:a=Eo(null,t,e,o,n);break;case 1:a=xo(null,t,e,o,n);break;case 11:a=go(null,t,e,o,n);break;case 14:a=bo(null,t,e,oi(e.type,o),r,n);break;default:s("306",e,"")}return a;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 3:return So(t),null===(r=t.updateQueue)&&s("282"),i=null!==(i=t.memoizedState)?i.element:null,Qo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(po(),t=Oo(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ao=Cr(t.stateNode.containerInfo),oo=t,i=so=!0),i?(t.effectTag|=2,t.child=gi(t,null,r,n)):(yo(e,t,r,n),po()),t=t.child),t;case 5:return Ci(t),null===e&&co(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,_r(r,i)?a=null:null!==o&&_r(r,o)&&(t.effectTag|=16),wo(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(yo(e,t,a,n),t=t.child),t;case 6:return null===e&&co(t),null;case 13:return Co(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yi(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,go(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,Ro(t,o=i.value),null!==a){var u=a.value;if(0===(o=en(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Rr.current){t=Oo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.contextDependencies;if(null!==l){a=u.child;for(var c=l.first;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=qo(n)).tag=Fo,Wo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var f=u.return;null!==f;){var d=f.alternate;if(f.childExpirationTime<c)f.childExpirationTime=c,null!==d&&d.childExpirationTime<c&&(d.childExpirationTime=c);else{if(!(null!==d&&d.childExpirationTime<c))break;d.childExpirationTime=c}f=f.return}l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Do(t,n),r=r(i=Mo(i,o.unstable_observedBits)),t.effectTag|=1,yo(e,t,r,n),t.child;case 14:return o=oi(i=t.type,t.pendingProps),bo(e,t,i,o=oi(i.type,o),r,n);case 15:return _o(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:oi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,Ur(t)):e=!1,Do(t,n),ci(t,r,i),di(t,r,i,n),ko(null,t,r,!0,e,n)}s("156")}var No={current:null},jo=null,Po=null,Io=null;function Ro(e,t){var n=e.type._context;jr(No,n._currentValue),n._currentValue=t}function Ao(e){var t=No.current;Nr(No),e.type._context._currentValue=t}function Do(e,t){jo=e,Io=Po=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(vo=!0),e.contextDependencies=null}function Mo(e,t){return Io!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Po?(null===jo&&s("308"),Po=t,jo.contextDependencies={first:t,expirationTime:0}):Po=Po.next=t),e._currentValue}var Lo=1,Fo=2,zo=!1;function Bo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Uo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qo(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Vo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Wo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Bo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Bo(e.memoizedState),i=n.updateQueue=Bo(n.memoizedState)):r=e.updateQueue=Uo(i):null===i&&(i=n.updateQueue=Uo(r));null===i||r===i?Vo(r,t):null===r.lastUpdate||null===i.lastUpdate?(Vo(r,t),Vo(i,t)):(Vo(r,t),i.lastUpdate=t)}function Ho(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Bo(e.memoizedState):Yo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Yo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Uo(t)),t}function Go(e,t,n,r,o,a){switch(n.tag){case Lo:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case Fo:zo=!0}return r}function Qo(e,t,n,r,i){zo=!1;for(var o=(t=Yo(e,t)).baseState,a=null,s=0,u=t.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===a&&(a=u,o=l),s<c&&(s=c)):(l=Go(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===c&&(c=u,null===a&&(o=l)),s<f&&(s=f)):(l=Go(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=l}function $o(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Xo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&s("191",n),n.call(r)}e=e.nextEffect}}function Ko(e,t){return{value:e,source:t,stack:ct(t)}}function Jo(e){e.effectTag|=4}var Zo,ea,ta;Zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ea=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(xi(_i.current),e=null,n){case"input":a=wt(s,a),r=wt(s,r),e=[];break;case"option":a=$n(s,a),r=$n(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Kn(s,a),r=Kn(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=vr)}hr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(w.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(e||(e=[]),e.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(n,""+c)):"children"===n?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(w.hasOwnProperty(n)?(null!=c&&mr(o,n),e||l===c||(e=[])):(e=e||[]).push(n,c))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&Jo(t)}},ta=function(e,t,n,r){n!==r&&Jo(t)};var na="function"==typeof WeakSet?WeakSet:Set;function ra(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ct(n)),null!==n&&lt(n.type),t=t.value,null!==e&&1===e.tag&&lt(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ia(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ba(e,t)}else t.current=null}function oa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function aa(e){switch("function"==typeof Wr&&Wr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Ba(i,e)}}n=n.next}while(n!==t)}break;case 1:if(ia(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ba(e,t)}break;case 5:ia(e);break;case 4:la(e)}}function sa(e){return 5===e.tag||3===e.tag||4===e.tag}function ua(e){e:{for(var t=e.return;null!==t;){if(sa(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(sr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||sa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,a=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else t.insertBefore(i.stateNode,n);else r?(a=t,u=i.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(u,a):(o=a).appendChild(u),null!=(a=a._reactRootContainer)||null!==o.onclick||(o.onclick=vr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function la(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(aa(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(aa(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ca(e,t){switch(t.tag){case 0:case 11:case 14:case 15:oa(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[M]=i,"input"===n&&"radio"===i.type&&null!=i.name&&xt(e,i),pr(n,r),r=pr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?fr(e,s):"dangerouslySetInnerHTML"===a?ar(e,s):"children"===a?sr(e,s):bt(e,a,s,r)}switch(n){case"input":kt(e,i);break;case"textarea":Zn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Xn(e,!!i.multiple,i.defaultValue,!0):Xn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=vs())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=cr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var a=t.stateNode;null===a&&(a=t.stateNode=new na),n.forEach((function(e){var n=Va.bind(null,t,e);a.has(e)||(a.add(e),e.then(n,n))}))}break;case 17:break;default:s("163")}}var fa="function"==typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=qo(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs(r),ra(e,t)},n}function ha(e,t,n){(n=qo(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Na?Na=new Set([this]):Na.add(this));var n=t.value,i=t.stack;ra(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function pa(e){switch(e.tag){case 1:Mr(e.type)&&Lr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Si(),Fr(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Oi(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Si(),null;case 10:return Ao(e),null;default:return null}}var ma=Ye.ReactCurrentDispatcher,va=Ye.ReactCurrentOwner,ya=1073741822,ga=!1,ba=null,_a=null,wa=0,Ea=-1,xa=!1,ka=null,Sa=!1,Ca=null,Oa=null,Ta=null,Na=null;function ja(){if(null!==ba)for(var e=ba.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Lr();break;case 3:Si(),Fr();break;case 5:Oi(t);break;case 4:Si();break;case 10:Ao(t)}e=e.return}_a=null,wa=0,Ea=-1,xa=!1,ba=null}function Pa(){for(;null!==ka;){var e=ka.effectTag;if(16&e&&sr(ka.stateNode,""),128&e){var t=ka.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ua(ka),ka.effectTag&=-3;break;case 6:ua(ka),ka.effectTag&=-3,ca(ka.alternate,ka);break;case 4:ca(ka.alternate,ka);break;case 8:la(e=ka),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}ka=ka.nextEffect}}function Ia(){for(;null!==ka;){if(256&ka.effectTag)e:{var e=ka.alternate,t=ka;switch(t.tag){case 0:case 11:case 15:oa(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:oi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}ka=ka.nextEffect}}function Ra(e,t){for(;null!==ka;){var n=ka.effectTag;if(36&n){var r=ka.alternate,i=ka,o=t;switch(i.tag){case 0:case 11:case 15:oa(16,32,i);break;case 1:var a=i.stateNode;if(4&i.effectTag)if(null===r)a.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:oi(i.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&$o(0,r,a);break;case 3:if(null!==(r=i.updateQueue)){if(a=null,null!==i.child)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}$o(0,r,a)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&br(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}128&n&&(null!==(i=ka.ref)&&(o=ka.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Ca=e),ka=ka.nextEffect}}function Aa(e,t){Ta=Oa=Ca=null;var n=Ka;Ka=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;oa(128,0,o),oa(0,64,o)}catch(e){r=!0,i=e}r&&Ba(t,i)}t=t.nextEffect}while(null!==t);Ka=n,0!==(n=e.expirationTime)&&ys(e,n),rs||Ka||Es(1073741823,!1)}function Da(){null!==Oa&&kr(Oa),null!==Ta&&Ta()}function Ma(e,t){Sa=ga=!0,e.current===t&&s("177");var n=e.pendingCommitExpirationTime;0===n&&s("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ti(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ti(e,t)):t>n&&ti(e,t)}ii(0,e)}(e,i>r?i:r),va.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,yr=Cn,gr=function(){var e=Fn();if(zn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,l=0,c=e,f=null;t:for(;;){for(var d;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++l===n&&(s=o),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Cn=!1,ka=r;null!==ka;){i=!1;var a=void 0;try{Ia()}catch(e){i=!0,a=e}i&&(null===ka&&s("178"),Ba(ka,a),null!==ka&&(ka=ka.nextEffect))}for(ka=r;null!==ka;){i=!1,a=void 0;try{Pa()}catch(e){i=!0,a=e}i&&(null===ka&&s("178"),Ba(ka,a),null!==ka&&(ka=ka.nextEffect))}for(Bn(gr),gr=null,Cn=!!yr,yr=null,e.current=t,ka=r;null!==ka;){i=!1,a=void 0;try{Ra(e,n)}catch(e){i=!0,a=e}i&&(null===ka&&s("178"),Ba(ka,a),null!==ka&&(ka=ka.nextEffect))}if(null!==r&&null!==Ca){var u=Aa.bind(null,e,r);Oa=o.unstable_runWithPriority(o.unstable_NormalPriority,(function(){return xr(u)})),Ta=u}ga=Sa=!1,"function"==typeof Vr&&Vr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Na=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function La(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){ba=e;e:{var o=t,a=wa,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&Lr();break;case 3:Si(),Fr(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(ho(t),t.effectTag&=-3);break;case 5:Oi(t);var l=xi(Ei.current);if(a=t.type,null!==o&&null!=t.stateNode)ea(o,t,a,u,l),o.ref!==t.ref&&(t.effectTag|=128);else if(u){var c=xi(_i.current);if(ho(t)){o=(u=t).stateNode;var f=u.type,d=u.memoizedProps,h=l;switch(o[D]=u,o[M]=d,a=void 0,l=f){case"iframe":case"object":On("load",o);break;case"video":case"audio":for(f=0;f<re.length;f++)On(re[f],o);break;case"source":On("error",o);break;case"img":case"image":case"link":On("error",o),On("load",o);break;case"form":On("reset",o),On("submit",o);break;case"details":On("toggle",o);break;case"input":Et(o,d),On("invalid",o),mr(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},On("invalid",o),mr(h,"onChange");break;case"textarea":Jn(o,d),On("invalid",o),mr(h,"onChange")}for(a in hr(l,d),f=null,d)d.hasOwnProperty(a)&&(c=d[a],"children"===a?"string"==typeof c?o.textContent!==c&&(f=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(f=["children",""+c]):w.hasOwnProperty(a)&&null!=c&&mr(h,a));switch(l){case"input":We(o),St(o,d,!0);break;case"textarea":We(o),er(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=vr)}a=f,u.updateQueue=a,(u=null!==a)&&Jo(t)}else{d=t,h=a,o=u,f=9===l.nodeType?l:l.ownerDocument,c===tr&&(c=rr(h)),c===tr?"script"===h?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"==typeof o.is?f=f.createElement(h,{is:o.is}):(f=f.createElement(h),"select"===h&&(h=f,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):f=f.createElementNS(c,h),(o=f)[D]=d,o[M]=u,Zo(o,t),h=o;var p=l,m=pr(f=a,d=u);switch(f){case"iframe":case"object":On("load",h),l=d;break;case"video":case"audio":for(l=0;l<re.length;l++)On(re[l],h);l=d;break;case"source":On("error",h),l=d;break;case"img":case"image":case"link":On("error",h),On("load",h),l=d;break;case"form":On("reset",h),On("submit",h),l=d;break;case"details":On("toggle",h),l=d;break;case"input":Et(h,d),l=wt(h,d),On("invalid",h),mr(p,"onChange");break;case"option":l=$n(h,d);break;case"select":h._wrapperState={wasMultiple:!!d.multiple},l=i({},d,{value:void 0}),On("invalid",h),mr(p,"onChange");break;case"textarea":Jn(h,d),l=Kn(h,d),On("invalid",h),mr(p,"onChange");break;default:l=d}hr(f,l),c=void 0;var v=f,y=h,g=l;for(c in g)if(g.hasOwnProperty(c)){var b=g[c];"style"===c?fr(y,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&ar(y,b):"children"===c?"string"==typeof b?("textarea"!==v||""!==b)&&sr(y,b):"number"==typeof b&&sr(y,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(w.hasOwnProperty(c)?null!=b&&mr(p,c):null!=b&&bt(y,c,b,m))}switch(f){case"input":We(h),St(h,d,!1);break;case"textarea":We(h),er(h);break;case"option":null!=d.value&&h.setAttribute("value",""+_t(d.value));break;case"select":(l=h).multiple=!!d.multiple,null!=(h=d.value)?Xn(l,!!d.multiple,h,!1):null!=d.defaultValue&&Xn(l,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof l.onClick&&(h.onclick=vr)}(u=br(a,u))&&Jo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:o&&null!=t.stateNode?ta(0,t,o.memoizedProps,u):("string"!=typeof u&&(null===t.stateNode&&s("166")),o=xi(Ei.current),xi(_i.current),ho(t)?(a=(u=t).stateNode,o=u.memoizedProps,a[D]=u,(u=a.nodeValue!==o)&&Jo(t)):(a=t,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[D]=t,a.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a,ba=t;break e}u=null!==u,a=null!==o&&null!==o.memoizedState,null!==o&&!u&&a&&(null!==(o=o.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Si();break;case 10:Ao(t);break;case 9:case 14:break;case 17:Mr(t.type)&&Lr();break;case 18:break;default:s("156")}ba=null}if(t=e,1===wa||1!==t.childExpirationTime){for(u=0,a=t.child;null!==a;)(o=a.expirationTime)>u&&(u=o),(l=a.childExpirationTime)>u&&(u=l),a=a.sibling;t.childExpirationTime=u}if(null!==ba)return ba;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=pa(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Fa(e){var t=To(e.alternate,e,wa);return e.memoizedProps=e.pendingProps,null===t&&(t=La(e)),va.current=null,t}function za(e,t){ga&&s("243"),Da(),ga=!0;var n=ma.current;ma.current=no;var r=e.nextExpirationTimeToWorkOn;r===wa&&e===_a&&null!==ba||(ja(),wa=r,ba=$r((_a=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==ba&&!_s();)ba=Fa(ba);else for(;null!==ba;)ba=Fa(ba)}catch(t){if(Io=Po=jo=null,Hi(),null===ba)i=!0,Cs(t);else{null===ba&&s("271");var o=ba,a=o.return;if(null!==a){e:{var u=e,l=a,c=o,f=t;if(a=wa,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==f&&"object"==typeof f&&"function"==typeof f.then){var d=f;f=l;var h=-1,p=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=f.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}f=f.return}while(null!==f);f=l;do{if((m=13===f.tag)&&(m=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),m){if(null===(l=f.updateQueue)?((l=new Set).add(d),f.updateQueue=l):l.add(d),0==(1&f.mode)){f.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((a=qo(1073741823)).tag=Fo,Wo(c,a))),c.expirationTime=1073741823;break e}l=a;var v=(c=u).pingCache;null===v?(v=c.pingCache=new fa,m=new Set,v.set(d,m)):void 0===(m=v.get(d))&&(m=new Set,v.set(d,m)),m.has(l)||(m.add(l),c=qa.bind(null,c,d,l),d.then(c,c)),-1===h?u=1073741823:(-1===p&&(p=10*(1073741822-ri(u,a))-5e3),u=p+h),0<=u&&Ea<u&&(Ea=u),f.effectTag|=2048,f.expirationTime=a;break e}f=f.return}while(null!==f);f=Error((lt(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(c))}xa=!0,f=Ko(f,c),u=l;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=a,Ho(u,a=da(u,f,a));break e;case 1:if(h=f,p=u.type,c=u.stateNode,0==(64&u.effectTag)&&("function"==typeof p.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===Na||!Na.has(c)))){u.effectTag|=2048,u.expirationTime=a,Ho(u,a=ha(u,h,a));break e}}u=u.return}while(null!==u)}ba=La(o);continue}i=!0,Cs(t)}}break}if(ga=!1,ma.current=n,Io=Po=jo=null,Hi(),i)_a=null,e.finishedWork=null;else if(null!==ba)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&s("281"),_a=null,xa){if(i=e.latestPendingTime,o=e.latestSuspendedTime,a=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==a&&a<r)return ni(e,r),void ps(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void ps(e,n,r,t,-1)}t&&-1!==Ea?(ni(e,r),(t=10*(1073741822-ri(e,r)))<Ea&&(Ea=t),t=10*(1073741822-vs()),t=Ea-t,ps(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Ba(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Na||!Na.has(r)))return Wo(n,e=ha(n,e=Ko(t,e),1073741823)),void Ha(n,1073741823);break;case 3:return Wo(n,e=da(n,e=Ko(t,e),1073741823)),void Ha(n,1073741823)}n=n.return}3===e.tag&&(Wo(e,n=da(e,n=Ko(t,e),1073741823)),Ha(e,1073741823))}function Ua(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(ga&&!Sa)r=wa;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:s("313")}null!==_a&&r===wa&&--r}return n===o.unstable_UserBlockingPriority&&(0===es||r<es)&&(es=r),r}function qa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==_a&&wa===n?_a=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ii(n,e),0!==(n=e.expirationTime)&&ys(e,n)))}function Va(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=Wa(e,t=Ua(t=vs(),e)))&&(ti(e,t),0!==(t=e.expirationTime)&&ys(e,t))}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ha(e,t){null!==(e=Wa(e,t))&&(!ga&&0!==wa&&t>wa&&ja(),ti(e,t),ga&&!Sa&&_a===e||ys(e,e.expirationTime),cs>ls&&(cs=0,s("185")))}function Ya(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var Ga=null,Qa=null,$a=0,Xa=void 0,Ka=!1,Ja=null,Za=0,es=0,ts=!1,ns=null,rs=!1,is=!1,os=null,as=o.unstable_now(),ss=1073741822-(as/10|0),us=ss,ls=50,cs=0,fs=null;function ds(){ss=1073741822-((o.unstable_now()-as)/10|0)}function hs(e,t){if(0!==$a){if(t<$a)return;null!==Xa&&o.unstable_cancelCallback(Xa)}$a=t,e=o.unstable_now()-as,Xa=o.unstable_scheduleCallback(ws,{timeout:10*(1073741822-t)-e})}function ps(e,t,n,r,i){e.expirationTime=r,0!==i||_s()?0<i&&(e.timeoutHandle=wr(ms.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ms(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ds(),us=ss,xs(e,n)}function vs(){return Ka||(gs(),0!==Za&&1!==Za||(ds(),us=ss)),us}function ys(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Qa?(Ga=Qa=e,e.nextScheduledRoot=e):(Qa=Qa.nextScheduledRoot=e).nextScheduledRoot=Ga):t>e.expirationTime&&(e.expirationTime=t),Ka||(rs?is&&(Ja=e,Za=1073741823,ks(e,1073741823,!1)):1073741823===t?Es(1073741823,!1):hs(e,t))}function gs(){var e=0,t=null;if(null!==Qa)for(var n=Qa,r=Ga;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Qa)&&s("244"),r===r.nextScheduledRoot){Ga=Qa=r.nextScheduledRoot=null;break}if(r===Ga)Ga=i=r.nextScheduledRoot,Qa.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Qa){(Qa=n).nextScheduledRoot=Ga,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===Qa)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}Ja=t,Za=e}var bs=!1;function _s(){return!!bs||!!o.unstable_shouldYield()&&(bs=!0)}function ws(){try{if(!_s()&&null!==Ga){ds();var e=Ga;do{var t=e.expirationTime;0!==t&&ss<=t&&(e.nextExpirationTimeToWorkOn=ss),e=e.nextScheduledRoot}while(e!==Ga)}Es(0,!0)}finally{bs=!1}}function Es(e,t){if(gs(),t)for(ds(),us=ss;null!==Ja&&0!==Za&&e<=Za&&!(bs&&ss>Za);)ks(Ja,Za,ss>Za),gs(),ds(),us=ss;else for(;null!==Ja&&0!==Za&&e<=Za;)ks(Ja,Za,!1),gs();if(t&&($a=0,Xa=null),0!==Za&&hs(Ja,Za),cs=0,fs=null,null!==os)for(e=os,os=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ts||(ts=!0,ns=e)}}if(ts)throw e=ns,ns=null,ts=!1,e}function xs(e,t){Ka&&s("253"),Ja=e,Za=t,ks(e,t,!1),Es(1073741823,!1)}function ks(e,t,n){if(Ka&&s("245"),Ka=!0,n){var r=e.finishedWork;null!==r?Ss(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),za(e,n),null!==(r=e.finishedWork)&&(_s()?e.finishedWork=r:Ss(e,r,t)))}else null!==(r=e.finishedWork)?Ss(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),za(e,n),null!==(r=e.finishedWork)&&Ss(e,r,t));Ka=!1}function Ss(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===os?os=[r]:os.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===fs?cs++:(fs=e,cs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){Ma(e,t)}))}function Cs(e){null===Ja&&s("246"),Ja.expirationTime=0,ts||(ts=!0,ns=e)}function Os(e,t){var n=rs;rs=!0;try{return e(t)}finally{(rs=n)||Ka||Es(1073741823,!1)}}function Ts(e,t){if(rs&&!is){is=!0;try{return e(t)}finally{is=!1}}return e(t)}function Ns(e,t,n){rs||Ka||0===es||(Es(es,!1),es=0);var r=rs;rs=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(rs=r)||Ka||Es(1073741823,!1)}}function js(e,t,n,r,i){var o=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Mr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var u=n.type;if(Mr(u)){n=Br(n,u,a);break e}}n=a}else n=Pr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=qo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Da(),Wo(o,i),Ha(o,r),r}function Ps(e,t,n,r){var i=t.current;return js(e,t,n,i=Ua(vs(),i),r)}function Is(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Rs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function As(e){var t=1073741822-25*(1+((1073741822-vs()+500)/25|0));t>=ya&&(t=ya-1),this._expirationTime=ya=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ds(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ms(e,t,n){e={current:t=Gr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Ls(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fs(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Is(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ms(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Is(o._internalRoot);s.call(e)}}Ts((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}))}return Is(o._internalRoot)}function zs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ls(t)||s("200"),Rs(e,t,null,n)}Te=function(e,t,n){switch(t){case"input":if(kt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=B(r);i||s("90"),He(r),kt(r,i)}}}break;case"textarea":Zn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},As.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ds;return js(e,t,null,n,r._onCommit),r},As.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},As.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,xs(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},As.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ds.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ds.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&s("191",n),n()}}},Ms.prototype.render=function(e,t){var n=this._internalRoot,r=new Ds;return null!==(t=void 0===t?null:t)&&r.then(t),Ps(e,n,null,r._onCommit),r},Ms.prototype.unmount=function(e){var t=this._internalRoot,n=new Ds;return null!==(e=void 0===e?null:e)&&n.then(e),Ps(null,t,null,n._onCommit),n},Ms.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Ds;return null!==(n=void 0===n?null:n)&&i.then(n),Ps(t,r,e,i._onCommit),i},Ms.prototype.createBatch=function(){var e=new As(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ae=Os,De=Ns,Me=function(){Ka||0===es||(Es(es,!1),es=0)};var Bs,Us,qs={createPortal:zs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=an(t))?null:e.stateNode},hydrate:function(e,t,n){return Ls(t)||s("200"),Fs(null,e,t,!0,n)},render:function(e,t,n){return Ls(t)||s("200"),Fs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Ls(n)||s("200"),(null==e||void 0===e._reactInternalFiber)&&s("38"),Fs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Ls(e)||s("40"),!!e._reactRootContainer&&(Ts((function(){Fs(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return zs.apply(void 0,arguments)},unstable_batchedUpdates:Os,unstable_interactiveUpdates:Ns,flushSync:function(e,t){Ka&&s("187");var n=rs;rs=!0;try{return Ya(e,t)}finally{rs=n,Es(1073741823,!1)}},unstable_createRoot:function(e,t){return Ls(e)||s("299","unstable_createRoot"),new Ms(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs=!0;try{Ya(e)}finally{(rs=t)||Ka||Es(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,z,B,P.injectEventPluginsByName,_,Y,function(e){T(e,H)},Ie,Re,jn,R]}};Us=(Bs={findFiberByHostInstance:L,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vr=Hr((function(e){return t.onCommitFiberRoot(n,e)})),Wr=Hr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}}(i({},Bs,{overrideProps:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=an(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Us?Us(e):null}}));var Vs={default:qs},Ws=Vs&&qs||Vs;e.exports=Ws.default||Ws},function(e,t,n){"use strict";e.exports=n(406)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,u=!1;function l(){if(!s){var e=n.expirationTime;u?x():u=!0,E(d,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var u=r()}finally{i=o,a=s}if("function"==typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=u,l()),(t=r.previous).next=r.previous=u,u.next=r,u.previous=t}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?l():u=!1}}}function d(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!k())}finally{s=!1,r=i,null!==n?l():u=!1,f()}}var h,p,m=Date,v="function"==typeof setTimeout?setTimeout:void 0,y="function"==typeof clearTimeout?clearTimeout:void 0,g="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){h=g((function(t){y(p),e(t)})),p=v((function(){b(h),e(t.unstable_now())}),100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var E,x,k,S=null;if("undefined"!=typeof window?S=window:void 0!==e&&(S=e),S&&S._schedMock){var C=S._schedMock;E=C[0],x=C[1],k=C[2],t.unstable_now=C[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var O=null,T=function(e){if(null!==O)try{O(e)}finally{O=null}};E=function(e){null!==O?setTimeout(E,0,e):(O=e,setTimeout(T,0,!1))},x=function(){O=null},k=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,j=!1,P=-1,I=!1,R=!1,A=0,D=33,M=33;k=function(){return A<=t.unstable_now()};var L=new MessageChannel,F=L.port2;L.port1.onmessage=function(){j=!1;var e=N,n=P;N=null,P=-1;var r=t.unstable_now(),i=!1;if(0>=A-r){if(!(-1!==n&&n<=r))return I||(I=!0,_(z)),N=e,void(P=n);i=!0}if(null!==e){R=!0;try{e(i)}finally{R=!1}}};var z=function(e){if(null!==N){_(z);var t=e-A+M;t<M&&D<M?(8>t&&(t=8),M=t<D?D:t):D=t,A=e+M,j||(j=!0,F.postMessage(void 0))}else I=!1};E=function(e,t){N=e,P=t,R||0>t?F.postMessage(void 0):I||(I=!0,_(z))},x=function(){N=null,j=!1,P=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,f()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,f()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,l();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,l()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,f()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||k())},t.unstable_continueExecution=function(){null!==n&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(53))},function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";(function(e,t){var r=n(79),i=n(52),o=n(1),a=n(7),s=n(74),u="";function l(e){u=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c,f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.C)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.w)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.h)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(e){}return new d},p=h("localStorage"),m=h("sessionStorage"),v=new s.b("@firebase/database"),y=(c=1,function(){return c++}),g=function(e){var t=Object(o.B)(e),n=new o.c;n.update(t);var r=n.digest();return o.f.encodeByteArray(r)},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=b.apply(null,i):n+="object"==typeof i?Object(o.C)(i):i,n+=" "}return n},_=null,w=!0,E=function(e,t){Object(o.d)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.a.VERBOSE,_=v.log.bind(v),t&&m.set("logging_enabled",!0)):"function"==typeof e?_=e:(_=null,m.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===_&&!0===m.get("logging_enabled")&&E(!0)),_){var n=b.apply(null,e);_(n)}},k=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,Object(a.f)([e],Object(a.e)(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,Object(a.f)([],Object(a.e)(e)));throw v.error(n),new Error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.warn(n)},T=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",j="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===N||t===j)return-1;if(t===N||e===j)return 1;var n=z(e),r=z(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},I=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.C)(t))},A=function(e){if("object"!=typeof e||null===e)return Object(o.C)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Object(o.C)(t[i]),r+=":",r+=A(e[t[i]]);return r+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){Object(o.d)(!T(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),z=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},B=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw O("Exception was thrown by user callback.",t),e}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),V=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function G(e,t,n){var r;if(Object(o.d)("string"==typeof t,"typeof type must == string"),Object(o.d)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.h)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.k)(this.counters_)},e}(),$={},X={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){var t=e.toString();return $[t]||($[t]=new Q),$[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var J=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Z=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(e),this.stats_=K(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),G(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new J(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.t)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ee((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.t)()&&(!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.C)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.g)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.t)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.C)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ee=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.t)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){x("frame writing exception"),e.stack&&x(e.stack),x(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.t)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),te=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?te=MozWebSocket:"undefined"!=typeof WebSocket&&(te=WebSocket);var ne=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=K(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={v:"5"};return!Object(o.t)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),G(e,"websocket",i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(Object(o.t)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+u+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?a.headers.Authorization=this.authToken||"":a.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var s=e.env,l=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;l&&(a.proxy={origin:l}),this.mySock=new te(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new te(this.connURL,[],a)}}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==te&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.w)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.C)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),re=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Z,ne]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ne&&ne.isAvailable(),o=i&&!ne.previouslyFailed();if(t.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ne];else{var s=this.transports_=[];try{for(var u=Object(a.g)(e.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ie=function(){function e(e,t,n,r,i,o,a,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new re(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),oe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ae=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.d)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.f)([],Object(a.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.d)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),se=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.r)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ae),ue=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(){return new ue("")}function ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fe(e){return e.pieces_.length-e.pieceNum_}function de(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ue(e.pieces_,t)}function he(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function me(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ue(t,0)}function ve(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ue)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ue(n,0)}function ye(e){return e.pieceNum_>=e.pieces_.length}function ge(e,t){var n=ce(e),r=ce(t);if(null===n)return t;if(n===r)return ge(de(e),de(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function be(e,t){for(var n=pe(e,0),r=pe(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function _e(e,t){if(fe(e)!==fe(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function we(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(fe(e)>fe(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ee=function(e,t){this.errorPrefix_=t,this.parts_=pe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.A)(this.parts_[n]);xe(this)};function xe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ce,Oe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ae),Te=function(e){function t(n,r,i,a,s,u,l,c){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=l,f.authOverride_=c,f.id=t.nextPersistentConnectionId_++,f.log_=k("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=1e3,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,c&&!Object(o.t)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Oe.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&se.getInstance().on("online",f.onOnline_,f),f}return Object(a.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.C)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.d)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(o.h)(e,"w")){var n=Object(o.z)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.o)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.v)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.d)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.C)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+Object(o.C)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a.b)(this,void 0,void 0,(function(){var e,n,r,i,s,u,l,c,f,d,h,p,m,v,y=this;return Object(a.d)(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())},f=function(e){Object(o.d)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return h=a.e.apply(void 0,[g.sent(),2]),p=h[0],m=h[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,l=new ie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){O(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),[3,4];case 3:return v=g.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&O(v),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.q)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return A(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ue(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.g)(s.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.t)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(o.r)()?e["framework.cordova"]=1:Object(o.u)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=se.getInstance().currentlyOnline();return Object(o.q)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(oe),Ne=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ne(N,e),r=new Ne(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ne.MIN},e}(),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Se},set:function(e){Se=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return new Ne(j,Se)},t.prototype.makePost=function(e,t){return Object(o.d)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ne(e,Se)},t.prototype.toString=function(){return".key"},t}(je),Ie=new Pe,Re=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ae=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ae(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Re(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Re(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new De,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Le(e,t){return P(e.name,t.name)}function Fe(e,t){return P(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Be,Ue,qe=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Ve=function(e){if(e.isLeafNode()){var t=e.val();Object(o.d)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(o.h)(t,".sv"),"Priority must be a string or number.")}else Object(o.d)(e===Ce||e.isEmpty(),"priority of unexpected type.");Object(o.d)(e===Ce||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},We=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ve(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return ze},set:function(e){ze=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ye(t)?this:".priority"===ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ce(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===fe(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.d)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var He,Ye,Ge=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return new Ne(j,new We("[PRIORITY-POST]",Ue))},t.prototype.makePost=function(e,t){var n=Be(e);return new Ne(t,new We("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je)),Qe=Math.log(2),$e=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Qe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Xe=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ae(a,o.node,Ae.BLACK,null,null);var u=parseInt(s/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],a=n?n(o):o,new Ae(a,o.node,Ae.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],f=n?n(c):c;u(new Ae(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Ae.BLACK):(s(f,Ae.BLACK),s(f,Ae.RED))}return o}(new $e(e.length));return new Me(r||t,o)},Ke={},Je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.d)(Ke&&Ge,"ChildrenNode.ts has not been loaded"),He=He||new e({".priority":Ke},{".priority":Ge})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.z)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return Object(o.h)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.d)(t!==Ie,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Ne.Wrap),l=u.getNext();l;)s=s||t.isDefinedOn(l.node),i.push(l),l=u.getNext();r=s?Xe(i,t.getCompare()):Ke;var c=t.toString(),f=Object(a.a)({},this.indexSet_);f[c]=t;var d=Object(a.a)({},this.indexes_);return d[c]=r,new e(d,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.x)(this.indexes_,(function(e,i){var a=Object(o.z)(r.indexSet_,i);if(Object(o.d)(a,"Missing index implementation for "+i),e===Ke){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ne.Wrap),l=u.getNext();l;)l.name!==t.name&&s.push(l),l=u.getNext();return s.push(t),Xe(s,a.getCompare())}return Ke}var c=n.get(t.name),f=e;return c&&(f=f.remove(new Ne(t.name,c))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.x)(this.indexes_,(function(e){if(e===Ke)return e;var r=n.get(t.name);return r?e.remove(new Ne(t.name,r)):e})),this.indexSet_)},e}(),Ze=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ve(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ye||(Ye=new e(new Me(Fe),null,Je.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ye},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ye:t},e.prototype.getChild=function(e){var t=ce(e);return null===t?this:this.getImmediateChild(t).getChild(de(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ne(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ye:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ce(e);if(null===n)return t;Object(o.d)(".priority"!==ce(e)||1===fe(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(de(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ge,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+qe(this.getPriority().val())+":"),this.forEachChild(Ge,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ne(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ne(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ne(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ne.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===et?-1:0},e.prototype.withIndex=function(t){if(t===Ie||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ie||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ge),r=t.getIterator(Ge),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ie?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),et=new(function(e){function t(){return e.call(this,new Me(Fe),Ze.EMPTY_NODE,Je.Default)||this}return Object(a.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ze.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ze));Object.defineProperties(Ne,{MIN:{value:new Ne(N,Ze.EMPTY_NODE)},MAX:{value:new Ne(j,et)}}),Pe.__EMPTY_NODE=Ze.EMPTY_NODE,We.__childrenNodeConstructor=Ze,Ce=et,function(e){Ue=e}(et);function tt(e,t){if(void 0===t&&(t=null),null===e)return Ze.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.d)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new We(e,tt(t));if(e instanceof Array){var n=Ze.EMPTY_NODE;return M(e,(function(t,r){if(Object(o.h)(e,t)&&"."!==t.substring(0,1)){var i=tt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(tt(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=tt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ne(e,n)))}})),0===r.length)return Ze.EMPTY_NODE;var a=Xe(r,Le,(function(e){return e.name}),Fe);if(i){var s=Xe(r,Ge.getCompare());return new Ze(a,tt(t),new Je({".priority":s},{".priority":Ge}))}return new Ze(a,tt(t),Je.Default)}!function(e){Be=e}(tt);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nt,rt,it=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.d)(!ye(t)&&".priority"!==ce(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=tt(e),r=Ze.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ne(t,r)},t.prototype.maxPost=function(){var e=Ze.EMPTY_NODE.updateChild(this.indexPath_,et);return new Ne(j,e)},t.prototype.toString=function(){return pe(this.indexPath_,0).join("/")},t}(je),ot=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return Ne.MAX},t.prototype.makePost=function(e,t){var n=tt(e);return new Ne(t,n)},t.prototype.toString=function(){return".value"},t}(je)),at="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",st=(nt=0,rt=[],function(e){var t,n=e===nt;nt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=at.charAt(e%64),e=Math.floor(e/64);Object(o.d)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===rt[t];t--)rt[t]=0;rt[t]++}else for(t=0;t<12;t++)rt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=at.charAt(rt[t]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),ut=function(e){if("2147483647"===e)return"-";var t=z(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return j;var o=n[i],a=at.charAt(at.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},lt=function(e){if("-2147483648"===e)return N;var t=z(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=at.charAt(at.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ct(e){return{type:"value",snapshotNode:e}}function ft(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function dt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ht(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.d)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(dt(t,s)):Object(o.d)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ft(t,n)):a.trackChildChange(ht(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ge,(function(e,r){t.hasChild(e)||n.trackChildChange(dt(e,r))})),t.isLeafNode()||t.forEachChild(Ge,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ht(t,r,i))}else n.trackChildChange(ft(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),mt=function(){function e(t){this.indexedFilter_=new pt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ne(t,n))||(n=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ze.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ze.EMPTY_NODE);var i=this;return t.forEachChild(Ge,(function(e,t){i.matches(new Ne(e,t))||(r=r.updateImmediateChild(e,Ze.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vt=function(){function e(e){this.rangedFilter_=new mt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ne(t,n))||(n=Ze.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ze.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ze.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ze.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&l(s,a)<=0&&(f=!0),f&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.d)(u.numChildren()===this.limit_,"");var l=new Ne(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:a(h,l);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ht(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(dt(t,d));var m=u.updateImmediateChild(t,Ze.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(ft(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}return n.isEmpty()?e:f&&a(c,l)>=0?(null!=i&&(i.trackChildChange(dt(c.name,c.node)),i.trackChildChange(ft(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,Ze.EMPTY_NODE)):e},e}(),yt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ge},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function bt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function _t(e,t){var n=e.copy();return n.index_=t,n}function wt(e){var t,n={};return e.isDefault()||(e.index_===Ge?t="$priority":e.index_===ot?t="$value":e.index_===Ie?t="$key":(Object(o.d)(e.index_ instanceof it,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.C)(t),e.startSet_&&(n.startAt=Object(o.C)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.C)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.C)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.C)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Et(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ge&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return Object(a.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.d)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=wt(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.z)(a.listens_,u)===l)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=wt(e._queryParams),r=e._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=Object(a.e)(i,2),u=s[0],l=s[1];u&&u.accessToken&&(t.auth=u.accessToken),l&&l.token&&(t.ac=l.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.y)(t);r.log_("Sending REST request for "+c);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=Object(o.w)(f.responseText)}catch(e){O("Failed to parse JSON response for "+c+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&O("Got unsuccessful REST response for "+c+" Status: "+f.status),n(f.status);n=null}},f.open("GET",c,!0),f.send()}))},t}(oe),kt=function(){function e(){this.rootNode_=Ze.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function St(){return{value:null,children:new Map}}function Ct(e,t,n){if(ye(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ce(t);e.children.has(r)||e.children.set(r,St()),Ct(e.children.get(r),t=de(t),n)}}function Ot(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){Ot(r,new ue(t.toString()+"/"+e),n)}))}var Tt,Nt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Nt(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&Object(o.h)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Tt||(Tt={}));var It,Rt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Tt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ye(this.path)){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ue(t));return new e(le(),n,this.revert)}return Object(o.d)(ce(this.path)===t,"operationForChild called for unrelated child."),new e(de(this.path),this.affectedTree,this.revert)},e}(),At=function(){function e(e,t){this.source=e,this.path=t,this.type=Tt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,le()):new e(this.source,de(this.path))},e}(),Dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Tt.OVERWRITE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,le(),this.snap.getImmediateChild(t)):new e(this.source,de(this.path),this.snap)},e}(),Mt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Tt.MERGE}return e.prototype.operationForChild=function(t){if(ye(this.path)){var n=this.children.subtree(new ue(t));return n.isEmpty()?null:n.value?new Dt(this.source,le(),n.value):new e(this.source,le(),n)}return Object(o.d)(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,de(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Lt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;var t=ce(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ft=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.e)("Should only compare child_ events.");var r=new Ne(t.childName,t.snapshotNode),i=new Ne(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Bt(e,t){return{eventCache:e,serverCache:t}}function Ut(e,t,n,r){return Bt(new Lt(t,n,r),e.serverCache)}function qt(e,t,n,r){return Bt(e.eventCache,new Lt(t,n,r))}function Vt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Wt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function e(e,t){void 0===t&&(It||(It=new Me(I)),t=It),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new ue(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:le(),value:this.value};if(ye(e))return null;var n=ce(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(de(e),t);return null!=i?{path:ve(new ue(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ye(t))return this;var n=ce(t),r=this.children.get(n);return null!==r?r.subtree(de(t)):new e(null)},e.prototype.set=function(t,n){if(ye(t))return new e(n,this.children);var r=ce(t),i=(this.children.get(r)||new e(null)).set(de(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ye(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ce(t),r=this.children.get(n);if(r){var i=r.remove(de(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ye(e))return this.value;var t=ce(e),n=this.children.get(t);return n?n.get(de(e)):null},e.prototype.setTree=function(t,n){if(ye(t))return n;var r=ce(t),i=(this.children.get(r)||new e(null)).setTree(de(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(le(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ve(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,le(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ye(e))return null;var i=ce(e),o=this.children.get(i);return o?o.findOnPath_(de(e),ve(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,le(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ye(t))return this;this.value&&r(n,this.value);var i=ce(t),o=this.children.get(i);return o?o.foreachOnPath_(de(t),ve(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(le(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ve(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Yt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Ht(null))},e}();function Gt(e,t,n){if(ye(t))return new Yt(new Ht(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ge(i,t);return o=o.updateChild(a,n),new Yt(e.writeTree_.set(i,o))}var s=new Ht(n),u=e.writeTree_.setTree(t,s);return new Yt(u)}function Qt(e,t,n){var r=e;return M(n,(function(e,n){r=Gt(r,ve(t,e),n)})),r}function $t(e,t){if(ye(t))return Yt.empty();var n=e.writeTree_.setTree(t,new Ht(null));return new Yt(n)}function Xt(e,t){return null!=Kt(e,t)}function Kt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ge(n.path,t)):null}function Jt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ge,(function(e,n){t.push(new Ne(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ne(e,n.value))})),t}function Zt(e,t){if(ye(t))return e;var n=Kt(e,t);return new Yt(null!=n?new Ht(n):e.writeTree_.subtree(t))}function en(e){return e.writeTree_.isEmpty()}function tn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(o.d)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(ve(t,n),a,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(ve(t,".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(le(),e.writeTree_,t)}function nn(e,t){return vn(t,e)}function rn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&on(u,r.path)?i=!1:we(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=sn(e.allWrites,an,le()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=$t(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=$t(e.visibleWrites,ve(r.path,t))}));return!0}return!1}function on(e,t){if(e.snap)return we(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&we(ve(e.path,n),t))return!0;return!1}function an(e){return e.visible}function sn(e,t,n){for(var r=Yt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)we(n,s)?r=Gt(r,u=ge(n,s),a.snap):we(s,n)&&(u=ge(s,n),r=Gt(r,le(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(we(n,s))r=Qt(r,u=ge(n,s),a.children);else if(we(s,n))if(ye(u=ge(s,n)))r=Qt(r,le(),a.children);else{var l=Object(o.z)(a.children,ce(u));if(l){var c=l.getChild(de(u));r=Gt(r,le(),c)}}}}}return r}function un(e,t,n,r,i){if(r||i){var o=Zt(e.visibleWrites,t);if(!i&&en(o))return n;if(i||null!=n||Xt(o,le())){return tn(sn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(we(e.path,t)||we(t,e.path))}),t),n||Ze.EMPTY_NODE)}return null}var a=Kt(e.visibleWrites,t);if(null!=a)return a;var s=Zt(e.visibleWrites,t);return en(s)?n:null!=n||Xt(s,le())?tn(s,n||Ze.EMPTY_NODE):null}function ln(e,t,n,r){return un(e.writeTree,e.treePath,t,n,r)}function cn(e,t){return function(e,t,n){var r=Ze.EMPTY_NODE,i=Kt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ge,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Zt(e.visibleWrites,t);return n.forEachChild(Ge,(function(e,t){var n=tn(Zt(o,new ue(e)),t);r=r.updateImmediateChild(e,n)})),Jt(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Jt(Zt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function fn(e,t,n,r){return function(e,t,n,r,i){Object(o.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ve(t,n);if(Xt(e.visibleWrites,a))return null;var s=Zt(e.visibleWrites,a);return en(s)?i.getChild(n):tn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function dn(e,t){return function(e,t){return Kt(e.visibleWrites,t)}(e.writeTree,ve(e.treePath,t))}function hn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Zt(e.visibleWrites,t),l=Kt(u,le());if(null!=l)s=l;else{if(null==n)return[];s=tn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=d.getNext();h&&c.length<i;)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function pn(e,t,n){return function(e,t,n,r){var i=ve(t,n),o=Kt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Zt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function mn(e,t){return vn(ve(e.treePath,t),e.writeTree)}function vn(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.d)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ht(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,dt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ft(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.e)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ht(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),gn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),bn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Lt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wt(this.viewCache_),i=hn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e,t,n,r,i){var a,s,u=new yn;if(n.type===Tt.OVERWRITE){var l=n;l.source.fromUser?a=xn(e,t,l.path,l.snap,r,i,u):(Object(o.d)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!ye(l.path),a=En(e,t,l.path,l.snap,r,i,s,u))}else if(n.type===Tt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=ve(n,r);kn(t,ce(l))&&(s=xn(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=ve(n,r);kn(t,ce(l))||(s=xn(e,s,l,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,u):(Object(o.d)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=Cn(e,t,c.path,c.children,r,i,s,u))}else if(n.type===Tt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=dn(r,n))return t;var u=new bn(r,t,i),l=t.eventCache.getNode(),c=void 0;if(ye(n)||".priority"===ce(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=ln(r,Wt(t));else{var d=t.serverCache.getNode();Object(o.d)(d instanceof Ze,"serverChildren would be complete if leaf node"),f=cn(r,d)}f=f,c=e.filter.updateFullNode(l,f,a)}else{var h=ce(n),p=pn(r,h,t.serverCache);null==p&&t.serverCache.isCompleteForChild(h)&&(p=l.getImmediateChild(h)),(c=null!=p?e.filter.updateChild(l,h,p,de(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Ze.EMPTY_NODE,de(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ln(r,Wt(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,s,a))}return s=t.serverCache.isFullyInitialized()||null!=dn(r,le()),Ut(t,c,s,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=dn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ye(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return En(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ye(n)){var l=new Ht(null);return u.getNode().forEachChild(Ie,(function(e,t){l=l.set(new ue(e),t)})),Cn(e,t,n,l,i,o,s,a)}return t}var c=new Ht(null);return r.foreach((function(e,t){var r=ve(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Cn(e,t,n,c,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Tt.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=qt(t,o.getNode(),o.isFullyInitialized()||ye(n),o.isFiltered());return wn(e,a,n,r,gn,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Vt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ct(Vt(t)))}}(t,a,d),{viewCache:a,changes:d}}function wn(e,t,n,r,i,a){var s=t.eventCache;if(null!=dn(r,n))return t;var u=void 0,l=void 0;if(ye(n))if(Object(o.d)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Wt(t),f=cn(r,c instanceof Ze?c:Ze.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ln(r,Wt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=ce(n);if(".priority"===h){Object(o.d)(1===fe(n),"Can't have a priority with additional path components");var p=s.getNode(),m=fn(r,n,p,l=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var v=de(n),y=void 0;if(s.isCompleteForChild(h)){l=t.serverCache.getNode();var g=fn(r,n,s.getNode(),l);y=null!=g?s.getNode().getImmediateChild(h).updateChild(v,g):s.getNode().getImmediateChild(h)}else y=pn(r,h,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),h,y,v,i,a):s.getNode()}}return Ut(t,u,s.isFullyInitialized()||ye(n),e.filter.filtersNodes())}function En(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(ye(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var d=ce(n);if(!l.isCompleteForPath(n)&&fe(n)>1)return t;var h=de(n),p=l.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,h,gn,null)}var m=qt(t,u,l.isFullyInitialized()||ye(n),c.filtersNodes());return wn(e,m,n,i,new bn(i,m,o),s)}function xn(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new bn(i,t,o);if(ye(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Ut(t,u,!0,e.filter.filtersNodes());else{var f=ce(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Ut(t,u,l.isFullyInitialized(),l.isFiltered());else{var d=de(n),h=l.getNode().getImmediateChild(f),p=void 0;if(ye(d))p=r;else{var m=c.getCompleteChild(f);p=null!=m?".priority"===he(d)&&m.getChild(me(d)).isEmpty()?m:m.updateChild(d,r):Ze.EMPTY_NODE}if(h.equals(p))s=t;else s=Ut(t,e.filter.updateChild(l.getNode(),f,p,d,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function kn(e,t){return e.eventCache.isCompleteForChild(t)}function Sn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Cn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=ye(n)?r:new Ht(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Sn(0,t.serverCache.getNode().getImmediateChild(n),r);l=En(e,l,new ue(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var f=Sn(0,t.serverCache.getNode().getImmediateChild(n),r);l=En(e,l,new ue(n),f,i,o,a,s)}})),l}var On,Tn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pt(r.getIndex()),o=(n=r).loadsAllData()?new pt(n.getIndex()):n.hasLimit()?new vt(n):new mt(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Ze.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(Ze.EMPTY_NODE,s.getNode(),null),c=new Lt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Lt(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bt(f,c),this.eventGenerator_=new Ft(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Nn(e,t){var n=Wt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ye(t)&&!n.getImmediateChild(ce(t)).isEmpty())?n.getChild(t):null}function jn(e){return 0===e.eventRegistrations_.length}function Pn(e,t,n){var r=[];if(n){Object(o.d)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function In(e,t,n,r){t.type===Tt.MERGE&&null!==t.source.queryId&&(Object(o.d)(Wt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.d)(Vt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=_n(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.d)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.d)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.d)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Rn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Rn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),zt(e,i,"child_removed",t,r,n),zt(e,i,"child_added",t,r,n),zt(e,i,"child_moved",o,r,n),zt(e,i,"child_changed",t,r,n),zt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,Dn=function(){this.views=new Map};function Mn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var l=e.views.get(u);return Object(o.d)(null!=l,"SyncTree gave us an op for an invalid query."),In(l,t,n,r)}var c=[];try{for(var f=Object(a.g)(e.views.values()),d=f.next();!d.done;d=f.next()){l=d.value;c=c.concat(In(l,t,n,r))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return c}function Ln(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=ln(n,i?r:null),u=!1;s?u=!0:r instanceof Ze?(s=cn(n,r),u=!1):(s=Ze.EMPTY_NODE,u=!1);var l=Bt(new Lt(s,u,!1),new Lt(r,i,!1));return new Tn(t,l)}return a}function Fn(e,t,n,r,i,o){var a=Ln(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(function(e,t){r.push(ft(e,t))})),n.isFullyInitialized()&&r.push(ct(n.getNode())),Rn(e,r,n.getNode(),t)}(a,n)}function zn(e,t,n,r){var i,s,u=t._queryIdentifier,l=[],c=[],f=Wn(e);if("default"===u)try{for(var d=Object(a.g)(e.views.entries()),h=d.next();!h.done;h=d.next()){var p=Object(a.e)(h.value,2),m=p[0],v=p[1];c=c.concat(Pn(v,n,r)),jn(v)&&(e.views.delete(m),v.query._queryParams.loadsAllData()||l.push(v.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else(v=e.views.get(u))&&(c=c.concat(Pn(v,n,r)),jn(v)&&(e.views.delete(u),v.query._queryParams.loadsAllData()||l.push(v.query)));return f&&!Wn(e)&&l.push(new(Object(o.d)(On,"Reference.ts has not been loaded"),On)(t._repo,t._path)),{removed:l,events:c}}function Bn(e){var t,n,r=[];try{for(var i=Object(a.g)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Un(e,t){var n,r,i=null;try{for(var o=Object(a.g)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Nn(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function qn(e,t){if(t._queryParams.loadsAllData())return Hn(e);var n=t._queryIdentifier;return e.views.get(n)}function Vn(e,t){return null!=qn(e,t)}function Wn(e){return null!=Hn(e)}function Hn(e){var t,n;try{for(var r=Object(a.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=1,Gn=function(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_={visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Qn(e,t,n,r,i){return function(e,t,n,r,i){Object(o.d)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Gt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nr(e,new Dt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $n(e,t,n,r){!function(e,t,n,r){Object(o.d)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Qt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Ht.fromObject(n);return nr(e,new Mt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Xn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(rn(e.pendingWriteTree_,t)){var i=new Ht(null);return null!=r.snap?i=i.set(le(),!0):M(r.children,(function(e){i=i.set(new ue(e),!0)})),nr(e,new Rt(r.path,i,n))}return[]}function Kn(e,t,n){return nr(e,new Dt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Jn(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Vn(o,t))){var s=zn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Wn(t)}));if(l&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Wn(t))return[Hn(t)];var r=[];return t&&(r=Bn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(f),h=0;h<d.length;++h){var p=d[h],m=p.query,v=rr(e,p);e.listenProvider_.startListening(lr(m),ir(e,m),v.hashFn,v.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(lr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(or(t));e.listenProvider_.stopListening(lr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=or(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Zn(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ge(e,r);i=i||Un(t,n),a=a||Wn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Wn(u),i=i||Un(u,le())):(u=new Dn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=Ze.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Un(t,le());n&&(i=i.updateImmediateChild(e,n))})));var l=Vn(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=or(t);Object(o.d)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Yn++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var d=Fn(u,t,n,nn(e.pendingWriteTree_,r),i,s);if(!l&&!a){var h=qn(u,t);d=d.concat(function(e,t,n){var r=t._path,i=ir(e,t),a=rr(e,n),s=e.listenProvider_.startListening(lr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.d)(!Wn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(e,t,n){if(!ye(e)&&t&&Wn(t))return[Hn(t).query];var r=[];return t&&(r=r.concat(Bn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<l.length;++c){var f=l[c];e.listenProvider_.stopListening(lr(f),ir(e,f))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,h))}return d}function er(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Un(n,ge(e,t));if(r)return r}));return un(r,t,i,n,!0)}function tr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ge(e,n);r=r||Un(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Un(i,le()):(i=new Dn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Lt(r,!0,!1):null;return function(e){return Vt(e.viewCache_)}(Ln(i,t,nn(e.pendingWriteTree_,t._path),o?a.getNode():Ze.EMPTY_NODE,o))}function nr(e,t){return function e(t,n,r,i){if(ye(t.path))return function e(t,n,r,i){var o=n.get(le());null==r&&null!=o&&(r=Un(o,le()));var a=[];n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,u=mn(i,n),l=t.operationForChild(n);l&&(a=a.concat(e(l,o,s,u)))})),o&&(a=a.concat(Mn(o,t,i,r)));return a}(t,n,r,i);var o=n.get(le());null==r&&null!=o&&(r=Un(o,le()));var a=[],s=ce(t.path),u=t.operationForChild(s),l=n.children.get(s);if(l&&u){var c=r?r.getImmediateChild(s):null,f=mn(i,s);a=a.concat(e(u,l,c,f))}return o&&(a=a.concat(Mn(o,t,i,r))),a}(t,e.syncPointTree_,null,nn(e.pendingWriteTree_,le()))}function rr(e,t){var n=t.query,r=ir(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Ze.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ar(e,n);if(r){var i=sr(r),o=i.path,a=i.queryId,s=ge(o,t);return ur(e,o,new At(Pt(a),s))}return[]}(e,n._path,r):function(e,t){return nr(e,new At({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Jn(e,n,null,i)}}}function ir(e,t){var n=or(t);return e.queryToTagMap.get(n)}function or(e){return e._path.toString()+"$"+e._queryIdentifier}function ar(e,t){return e.tagToQueryMap.get(t)}function sr(e){var t=e.indexOf("$");return Object(o.d)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ue(e.substr(0,t))}}function ur(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.d)(r,"Missing sync point for query tag that we're tracking"),Mn(r,n,nn(e.pendingWriteTree_,t),null)}function lr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.d)(An,"Reference.ts has not been loaded"),An)(e._repo,e._path):e}var cr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),fr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ve(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return er(this.syncTree_,this.path_)},e}(),dr=function(e,t,n){return e&&"object"==typeof e?(Object(o.d)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?hr(e[".sv"],t,n):"object"==typeof e[".sv"]?pr(e[".sv"],t):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},hr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+e)}},pr=function(e,t,n){e.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},mr=function(e,t,n,r){return yr(t,new fr(n,e),r)},vr=function(e,t,n){return yr(e,new cr(t),n)};function yr(e,t,n){var r,i=e.getPriority().val(),o=dr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=dr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new We(s,tt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new We(o))),u.forEachChild(Ge,(function(e,i){var o=yr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function br(e,t){for(var n=t instanceof ue?t:new ue(t),r=e,i=ce(n);null!==i;){var a=Object(o.z)(r.node.children,i)||{children:{},childCount:0};r=new gr(i,r,a),i=ce(n=de(n))}return r}function _r(e){return e.node.value}function wr(e,t){e.node.value=t,Sr(e)}function Er(e){return e.node.childCount>0}function xr(e,t){M(e.node.children,(function(n,r){t(new gr(n,e,r))}))}function kr(e){return new ue(null===e.parent?e.name:kr(e.parent)+"/"+e.name)}function Sr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===_r(e)&&!Er(e)}(n),i=Object(o.h)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Sr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Sr(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var Cr=/[\[\].#$\/\u0000-\u001F\u007F]/,Or=/[\[\].#$\u0000-\u001F\u007F]/,Tr=function(e){return"string"==typeof e&&0!==e.length&&!Cr.test(e)},Nr=function(e){return"string"==typeof e&&0!==e.length&&!Or.test(e)},jr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!T(e)||e&&"object"==typeof e&&Object(o.h)(e,".sv")},Pr=function(e,t,n,r){r&&void 0===t||Ir(Object(o.m)(e,"value"),t,n)},Ir=function(e,t,n){var r=n instanceof ue?new Ee(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ke(r));if("function"==typeof t)throw new Error(e+"contains a function "+ke(r)+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+ke(r));if("string"==typeof t&&t.length>10485760/3&&Object(o.A)(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+ke(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Tr(t)))throw new Error(e+" contains an invalid key ("+t+") "+ke(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.A)(t),xe(e)}(r,t),Ir(e,n,r),u=(s=r).parts_.pop(),s.byteLength_-=Object(o.A)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(e+' contains ".value" child '+ke(r)+" in addition to actual children.")}},Rr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.m)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new ue(e);if(Ir(i,t,ve(n,r)),".priority"===he(r)&&!jr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=pe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Tr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(be);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&we(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Ar=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error(Object(o.m)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!jr(t))throw new Error(Object(o.m)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Mr=function(e,t,n,r){if(!(r&&void 0===n||Tr(n)))throw new Error(Object(o.m)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lr=function(e,t,n,r){if(!(r&&void 0===n||Nr(n)))throw new Error(Object(o.m)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fr=function(e,t){if(".info"===ce(t))throw new Error(e+" failed = Can't modify data under /.info/")},zr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Tr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Nr(e)}(n))throw new Error(Object(o.m)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Br=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(e,t)+"must be a boolean.")},Ur=function(){this.eventLists_=[],this.recursionDepth_=0};function qr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||_e(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Vr(e,t,n){qr(e,n),Hr(e,(function(e){return _e(e,t)}))}function Wr(e,t,n){qr(e,n),Hr(e,(function(e){return we(e,t)||we(t,e)}))}function Hr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Yr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Yr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&x("event: "+n.toString()),B(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ur,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=St(),this.transactionQueueTree_=new gr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Qr(e,t,n){if(e.stats_=K(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xt(e.repoInfo_,(function(t,n,r,i){Kr(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Jr(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.C)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Te(e.repoInfo_,t,(function(t,n,r,i){Kr(e,t,n,r,i)}),(function(t){Jr(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){Zr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,a;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new jt(e.stats_,e.server_)},a=r.toString(),X[a]||(X[a]=i()),X[a]),e.infoData_=new kt,e.infoSyncTree_=new Gn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Kn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Zr(e,"connected",!1),e.serverSyncTree_=new Gn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Wr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function $r(e){var t=e.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Xr(e){return(t=(t={timestamp:$r(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Kr(e,t,n,r,i){e.dataUpdateCount++;var a=new ue(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.x)(n,(function(e){return tt(e)}));s=function(e,t,n,r){var i=ar(e,r);if(i){var o=sr(i),a=o.path,s=o.queryId,u=ge(a,t),l=Ht.fromObject(n);return ur(e,a,new Mt(Pt(s),u,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var l=tt(n);s=function(e,t,n,r){var i=ar(e,r);if(null!=i){var o=sr(i),a=o.path,s=o.queryId,u=ge(a,t);return ur(e,a,new Dt(Pt(s),u,n))}return[]}(e.serverSyncTree_,a,l,i)}else if(r){var c=Object(o.x)(n,(function(e){return tt(e)}));s=function(e,t,n){var r=Ht.fromObject(n);return nr(e,new Mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var f=tt(n);s=Kn(e.serverSyncTree_,a,f)}var d=a;s.length>0&&(d=ci(e,a)),Wr(e.eventQueue_,d,s)}function Jr(e,t){Zr(e,"connected",t),!1===t&&function(e){ai(e,"onDisconnectEvents");var t=Xr(e),n=St();Ot(e.onDisconnect_,le(),(function(r,i){var o=mr(r,i,e.serverSyncTree_,t);Ct(n,r,o)}));var r=[];Ot(n,le(),(function(t,n){r=r.concat(Kn(e.serverSyncTree_,t,n));var i=pi(e,t);ci(e,i)})),e.onDisconnect_=St(),Wr(e.eventQueue_,le(),r)}(e)}function Zr(e,t,n){var r=new ue("/.info/"+t),i=tt(n);e.infoData_.updateSnapshot(r,i);var o=Kn(e.infoSyncTree_,r,i);Wr(e.eventQueue_,r,o)}function ei(e){return e.nextWriteId_++}function ti(e,t,n,r,i){ai(e,"set",{path:t.toString(),value:n,priority:r});var o=Xr(e),a=tt(n,r),s=er(e.serverSyncTree_,t),u=vr(a,s,o),l=ei(e),c=Qn(e.serverSyncTree_,t,u,l,!0);qr(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||O("set at "+t+" failed: "+n);var a=Xn(e.serverSyncTree_,l,!o);Wr(e.eventQueue_,t,a),si(e,i,n,r)}));var f=pi(e,t);ci(e,f),Wr(e.eventQueue_,f,[])}function ni(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(ye(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Ge,(function(e,n){Ct(t,new ue(e),n)})),e(t,n)}if(t.children.size>0){var i=ce(n);if(n=de(n),t.children.has(i))e(t.children.get(i),n)&&t.children.delete(i);return 0===t.children.size}return!0}(e.onDisconnect_,t),si(e,n,r,i)}))}function ri(e,t,n,r){var i=tt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Ct(e.onDisconnect_,t,i),si(e,r,n,o)}))}function ii(e,t,n){var r;r=".info"===ce(t._path)?Jn(e.infoSyncTree_,t,n):Jn(e.serverSyncTree_,t,n),Vr(e.eventQueue_,t._path,r)}function oi(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ai(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,Object(a.f)([r],Object(a.e)(t)))}function si(e,t,n,r){t&&B((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ui(e,t,n){return er(e.serverSyncTree_,t,n)||Ze.EMPTY_NODE}function li(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||hi(e,t),_r(t)){var n=di(e,t);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ui(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var l=n[u];Object(o.d)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var c=ge(t,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var f=a.val(!0),d=t;e.server_.put(d.toString(),f,(function(r){ai(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Xn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);hi(e,br(e.transactionQueueTree_,t)),li(e,e.transactionQueueTree_),Wr(e.eventQueue_,t,i);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{O("transaction at "+d.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}ci(e,t)}}),s)}(e,kr(t),n)}else Er(t)&&xr(t,(function(t){li(e,t)}))}function ci(e,t){var n=fi(e,t),r=kr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,l,c=t[s],f=ge(n,c.path),d=!1;if(Object(o.d)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,u=c.abortReason,i=i.concat(Xn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)d=!0,u="maxretry",i=i.concat(Xn(e.serverSyncTree_,c.currentWriteId,!0));else{var h=ui(e,c.path,a);c.currentInputSnapshot=h;var p=t[s].update(h.val());if(void 0!==p){Ir("transaction failed: Data returned ",p,c.path);var m=tt(p);"object"==typeof p&&null!=p&&Object(o.h)(p,".priority")||(m=m.updatePriority(h.getPriority()));var v=c.currentWriteId,y=Xr(e),g=vr(m,h,y);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=g,c.currentWriteId=ei(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Qn(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Xn(e.serverSyncTree_,v,!0))}else d=!0,u="nodata",i=i.concat(Xn(e.serverSyncTree_,c.currentWriteId,!0))}Wr(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,l=t[s].unwatcher,setTimeout(l,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);hi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)B(r[u]);li(e,e.transactionQueueTree_)}(e,di(e,n),r),r}function fi(e,t){var n,r=e.transactionQueueTree_;for(n=ce(t);null!==n&&void 0===_r(r);)r=br(r,n),n=ce(t=de(t));return r}function di(e,t){var n=[];return function e(t,n,r){var i=_r(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);xr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function hi(e,t){var n=_r(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wr(t,n.length>0?n:void 0)}xr(t,(function(t){hi(e,t)}))}function pi(e,t){var n=kr(fi(e,t)),r=br(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){mi(e,t)})),mi(e,r),function e(t,n,r,i){r&&!i&&n(t),xr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){mi(e,t)})),n}function mi(e,t){var n=_r(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.d)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.d)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Xn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?wr(t,void 0):n.length=a+1,Wr(e.eventQueue_,kr(t),i);for(s=0;s<r.length;s++)B(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi=function(e,t){var n=yi(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Y(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ue(n.pathString)}},yi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var f=e.indexOf("/");-1===f&&(f=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(f,d)),f<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(f,d)));var h=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.g)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(c=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},gi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.C)(this.snapshot.exportVal())},e}(),bi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),_i=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.d)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),wi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.a;return ni(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Fr("OnDisconnect.remove",this._path);var e=new o.a;return ri(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Fr("OnDisconnect.set",this._path),Pr("OnDisconnect.set",e,this._path,!1);var t=new o.a;return ri(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Fr("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",e,this._path,!1),Ar("OnDisconnect.setWithPriority",t,!1);var n=new o.a;return function(e,t,n,r,i){var o=tt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Ct(e.onDisconnect_,t,o),si(e,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Fr("OnDisconnect.update",this._path),Rr("OnDisconnect.update",e,this._path,!1);var t=new o.a;return function(e,t,n,r){if(Object(o.q)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void si(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=tt(r);Ct(e.onDisconnect_,ve(t,n),i)})),si(e,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Ei=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ye(this._path)?null:he(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ci(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Et(this._queryParams),t=A(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Et(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.n)(t))instanceof e))return!1;var n=this._repo===t._repo,r=_e(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function xi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ki(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ie){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==j)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ge){if(null!=t&&!jr(t)||null!=n&&!jr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(e.getIndex()instanceof it||e.getIndex()===ot,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Si(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ci=function(e){function t(t,n){return e.call(this,t,n,new yt,!1)||this}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=me(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Ei),Oi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ue(t),r=ji(this.ref,t);return new e(this._node.getChild(n),r,Ge)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ji(n.ref,r),Ge))}))},e.prototype.hasChild=function(e){var t=new ue(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ti(e,t){return(e=Object(o.n)(e))._checkNotDeleted("ref"),void 0!==t?ji(e._root,t):e._root}function Ni(e,t){(e=Object(o.n)(e))._checkNotDeleted("refFromURL");var n=vi(t,e._repo.repoInfo_.nodeAdmin);zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ti(e,n.path.toString())}function ji(e,t){var n,r,i,a;return null===ce((e=Object(o.n)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Lr(n,r,i,a)):Lr("child","path",t,!1),new Ci(e._repo,ve(e._path,t))}function Pi(e,t){e=Object(o.n)(e),Fr("push",e._path),Pr("push",t,e._path,!0);var n,r=$r(e._repo),i=st(r),a=ji(e,i),s=ji(e,i);return n=null!=t?Ri(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ii(e){return Fr("remove",e._path),Ri(e,null)}function Ri(e,t){e=Object(o.n)(e),Fr("set",e._path),Pr("set",t,e._path,!1);var n=new o.a;return ti(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ai(e,t){e=Object(o.n)(e),Fr("setPriority",e._path),Ar("setPriority",t,!1);var n=new o.a;return ti(e._repo,ve(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Di(e,t,n){if(Fr("setWithPriority",e._path),Pr("setWithPriority",t,e._path,!1),Ar("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.a;return ti(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Mi(e,t){Rr("update",t,e._path,!1);var n=new o.a;return function(e,t,n,r){ai(e,"update",{path:t.toString(),value:n});var i=!0,o=Xr(e),a={};if(M(n,(function(n,r){i=!1,a[n]=mr(ve(t,n),tt(r),e.serverSyncTree_,o)})),i)x("update() called with empty data.  Don't do anything."),si(e,r,"ok",void 0);else{var s=ei(e),u=$n(e.serverSyncTree_,t,a,s);qr(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||O("update at "+t+" failed: "+n);var a=Xn(e.serverSyncTree_,s,!o),u=a.length>0?ci(e,t):t;Wr(e.eventQueue_,u,a),si(e,r,n,i)})),M(n,(function(n){var r=pi(e,ve(t,n));ci(e,r)})),Wr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Li(e){return function(e,t){var n=tr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=tt(n),i=Kn(e.serverSyncTree_,t._path,r);return Vr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return ai(e,"get for query "+Object(o.C)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(o.n)(e))._repo,e).then((function(t){return new Oi(t,new Ci(e._repo,e._path),e._queryParams.getIndex())}))}var Fi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new gi("value",this,new Oi(e.snapshotNode,new Ci(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new bi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),zi=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new bi(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.d)(null!=e.childName,"Child events should have a childName.");var n=ji(new Ci(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new gi(e.type,this,new Oi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Bi(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ii(e._repo,e,l),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new _i(n,o||void 0),l="value"===t?new Fi(u):new zi(t,u);return function(e,t,n){var r;r=".info"===ce(t._path)?Zn(e.infoSyncTree_,t,n):Zn(e.serverSyncTree_,t,n),Vr(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return ii(e._repo,e,l)}}function Ui(e,t,n,r){return Bi(e,"value",t,n,r)}function qi(e,t,n,r){return Bi(e,"child_added",t,n,r)}function Vi(e,t,n,r){return Bi(e,"child_changed",t,n,r)}function Wi(e,t,n,r){return Bi(e,"child_moved",t,n,r)}function Hi(e,t,n,r){return Bi(e,"child_removed",t,n,r)}function Yi(e,t,n){var r=null,i=n?new _i(n):null;"value"===t?r=new Fi(i):t&&(r=new zi(t,i)),ii(e._repo,e,r)}var Gi=function(){},Qi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Pr("endAt",this._value,e._path,!0);var t=bt(e._queryParams,this._value,this._key);if(Si(t),ki(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ei(e._repo,e._path,t,e._orderByCalled)},t}(Gi);function $i(e,t){return Mr("endAt","key",t,!0),new Qi(e,t)}var Xi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Pr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Ie?("string"==typeof n&&(n=lt(n)),i=bt(t,n,r)):i=bt(t,n,null==r?N:lt(r)),i.endBeforeSet_=!0,i);if(Si(o),ki(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ei(e._repo,e._path,o,e._orderByCalled)},t}(Gi);function Ki(e,t){return Mr("endBefore","key",t,!0),new Xi(e,t)}var Ji=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Pr("startAt",this._value,e._path,!0);var t=gt(e._queryParams,this._value,this._key);if(Si(t),ki(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ei(e._repo,e._path,t,e._orderByCalled)},t}(Gi);function Zi(e,t){return void 0===e&&(e=null),Mr("startAt","key",t,!0),new Ji(e,t)}var eo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Pr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;if(e.index_===Ie)"string"==typeof t&&(t=ut(t)),r=gt(e,t,n);else{r=gt(e,t,null==n?j:ut(n))}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Si(t),ki(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ei(e._repo,e._path,t,e._orderByCalled)},t}(Gi);function to(e,t){return Mr("startAfter","key",t,!0),new eo(e,t)}var no=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ei(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Gi);function ro(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new no(e)}var io=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ei(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Gi);function oo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new io(e)}var ao=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){xi(e,"orderByChild");var t=new ue(this._path);if(ye(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new it(t),r=_t(e._queryParams,n);return ki(r),new Ei(e._repo,e._path,r,!0)},t}(Gi);function so(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lr("orderByChild","path",e,!1),new ao(e)}var uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){xi(e,"orderByKey");var t=_t(e._queryParams,Ie);return ki(t),new Ei(e._repo,e._path,t,!0)},t}(Gi);function lo(){return new uo}var co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){xi(e,"orderByPriority");var t=_t(e._queryParams,Ge);return ki(t),new Ei(e._repo,e._path,t,!0)},t}(Gi);function fo(){return new co}var ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){xi(e,"orderByValue");var t=_t(e._queryParams,ot);return ki(t),new Ei(e._repo,e._path,t,!0)},t}(Gi);function po(){return new ho}var mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){if(Pr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qi(this._value,this._key)._apply(new Ji(this._value,this._key)._apply(e))},t}(Gi);function vo(e,t){return Mr("equalTo","key",t,!0),new mo(e,t)}function yo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.n)(e);try{for(var u=Object(a.g)(r),l=u.next();!l.done;l=u.next()){var c=l.value;s=c._apply(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.d)(!On,"__referenceConstructor has already been defined"),On=e}(Ci),function(e){Object(o.d)(!An,"__referenceConstructor has already been defined"),An=e}(Ci);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var go={},bo=!1;function _o(t,n,r,i,o){var a=i||t.options.databaseURL;void 0===a&&(t.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=vi(a,o),l=u.repoInfo,c=void 0;void 0!==e&&(c=e.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,a="http://"+c+"?ns="+l.namespace,l=(u=vi(a,o)).repoInfo):s=!u.repoInfo.secure;var f=o&&s?new W(W.OWNER):new V(t.name,t.options,n);zr("Invalid Firebase Database URL",u),ye(u.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=go[t.name];i||(i={},go[t.name]=i);var o=i[e.toURLString()];o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Gr(e,bo,n,r),i[e.toURLString()]=o,o}(l,t,f,new q(t.name,r));return new wo(d,t)}var wo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Qr(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ci(this._repo,le())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=go[t])&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),oi(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function Eo(e,t,n,r){void 0===r&&(r={}),(e=Object(o.n)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s=Object(o.i)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new Y(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function xo(e){(e=Object(o.n)(e))._checkNotDeleted("goOffline"),oi(e._repo)}function ko(e){var t;(e=Object(o.n)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Co=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Oo(e,t,n){var r;if(e=Object(o.n)(e),Fr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.a,s=Ui(e,(function(){}));return function(e,t,n,r,i,a){ai(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ui(e,t,void 0);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ir("transaction failed: Data returned ",l,s.path),s.status=0;var c=br(e.transactionQueueTree_,t),f=_r(c)||[];f.push(s),wr(c,f);var d=void 0;if("object"==typeof l&&null!==l&&Object(o.h)(l,".priority"))d=Object(o.z)(l,".priority"),Object(o.d)(jr(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(er(e.serverSyncTree_,t)||Ze.EMPTY_NODE).getPriority().val();var h=Xr(e),p=tt(l,d),m=vr(p,u,h);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=ei(e);var v=Qn(e.serverSyncTree_,t,m,s.currentWriteId,s.applyLocally);Wr(e.eventQueue_,t,v),li(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Oi(r,new Ci(e._repo,e._path),Ge),a.resolve(new Co(n,i)))}),s,i),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.D)("OnDisconnect.cancel",0,1,arguments.length),Object(o.E)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o.D)("OnDisconnect.remove",0,1,arguments.length),Object(o.E)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o.D)("OnDisconnect.set",1,2,arguments.length),Object(o.E)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o.D)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.E)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o.D)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.E)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),No=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.D)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),jo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.D)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.D)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.D)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.D)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.D)("DataSnapshot.child",0,1,arguments.length),t=String(t),Lr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.D)("DataSnapshot.hasChild",1,1,arguments.length),Lr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.D)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.D)("DataSnapshot.forEach",1,1,arguments.length),Object(o.E)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o.D)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.D)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.D)("DataSnapshot.ref",0,0,arguments.length),new Io(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Po=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.D)("Query.on",2,4,arguments.length),Object(o.E)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),l=function(e,t){n.call(u.context,new jo(s.database,e),t)};l.userCallback=n,l.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Ui(this._delegate,l,c),n;case"child_added":return qi(this._delegate,l,c),n;case"child_removed":return Hi(this._delegate,l,c),n;case"child_changed":return Vi(this._delegate,l,c),n;case"child_moved":return Wi(this._delegate,l,c),n;default:throw new Error(Object(o.m)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.D)("Query.off",0,3,arguments.length),Dr("Query.off",e,!0),Object(o.E)("Query.off","callback",t,!0),Object(o.F)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Yi(this._delegate,e,r)}else Yi(this._delegate,e)},e.prototype.get=function(){var e=this;return Li(this._delegate).then((function(t){return new jo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.D)("Query.once",1,4,arguments.length),Object(o.E)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.a,l=function(e,t){var r=new jo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};l.userCallback=n,l.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Ui(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":qi(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":Hi(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":Vi(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":Wi(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(Object(o.m)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.D)("Query.limitToFirst",1,1,arguments.length),new e(this.database,yo(this._delegate,ro(t)))},e.prototype.limitToLast=function(t){return Object(o.D)("Query.limitToLast",1,1,arguments.length),new e(this.database,yo(this._delegate,oo(t)))},e.prototype.orderByChild=function(t){return Object(o.D)("Query.orderByChild",1,1,arguments.length),new e(this.database,yo(this._delegate,so(t)))},e.prototype.orderByKey=function(){return Object(o.D)("Query.orderByKey",0,0,arguments.length),new e(this.database,yo(this._delegate,lo()))},e.prototype.orderByPriority=function(){return Object(o.D)("Query.orderByPriority",0,0,arguments.length),new e(this.database,yo(this._delegate,fo()))},e.prototype.orderByValue=function(){return Object(o.D)("Query.orderByValue",0,0,arguments.length),new e(this.database,yo(this._delegate,po()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.startAt",0,2,arguments.length),new e(this.database,yo(this._delegate,Zi(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.startAfter",0,2,arguments.length),new e(this.database,yo(this._delegate,to(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.endAt",0,2,arguments.length),new e(this.database,yo(this._delegate,$i(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.endBefore",0,2,arguments.length),new e(this.database,yo(this._delegate,Ki(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.D)("Query.equalTo",1,2,arguments.length),new e(this.database,yo(this._delegate,vo(t,n)))},e.prototype.toString=function(){return Object(o.D)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.D)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.D)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.E)(e,"cancel",r.cancel,!0),r.context=n,Object(o.F)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(o.m)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Io(this.database,new Ci(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Io=function(e){function t(t,n){var r=e.call(this,t,new Ei(n._repo,n._path,new yt,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.c)(t,e),t.prototype.getKey=function(){return Object(o.D)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.D)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,ji(this._delegate,e))},t.prototype.getParent=function(){Object(o.D)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.D)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.D)("Reference.set",1,2,arguments.length),Object(o.E)("Reference.set","onComplete",t,!0);var n=Ri(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o.D)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fr("Reference.update",this._delegate._path),Object(o.E)("Reference.update","onComplete",t,!0);var i=Mi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o.D)("Reference.setWithPriority",2,3,arguments.length),Object(o.E)("Reference.setWithPriority","onComplete",n,!0);var r=Di(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o.D)("Reference.remove",0,1,arguments.length),Object(o.E)("Reference.remove","onComplete",e,!0);var t=Ii(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o.D)("Reference.transaction",1,3,arguments.length),Object(o.E)("Reference.transaction","transactionUpdate",e,!1),Object(o.E)("Reference.transaction","onComplete",t,!0),Br("Reference.transaction","applyLocally",n,!0);var i=Oo(this._delegate,e,{applyLocally:n}).then((function(e){return new No(e.committed,new jo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o.D)("Reference.setPriority",1,2,arguments.length),Object(o.E)("Reference.setPriority","onComplete",t,!0);var n=Ai(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o.D)("Reference.push",0,2,arguments.length),Object(o.E)("Reference.push","onComplete",n,!0);var i=Pi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Fr("Reference.onDisconnect",this._delegate._path),new To(new wi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Po),Ro=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Eo(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o.D)("database.ref",0,1,arguments.length),e instanceof Io){var t=Ni(this._delegate,e.toString());return new Io(this,t)}t=Ti(this._delegate,e);return new Io(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o.D)(t,1,1,arguments.length);var n=Ni(this._delegate,e);return new Io(this,n)},e.prototype.goOffline=function(){return Object(o.D)("database.goOffline",0,0,arguments.length),xo(this._delegate)},e.prototype.goOnline=function(){return Object(o.D)("database.goOnline",0,0,arguments.length),ko(this._delegate)},e.ServerValue={TIMESTAMP:So,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=Object.freeze({__proto__:null,forceLongPolling:function(){ne.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return ne.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Nt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.c("auth-internal",new i.b("database-standalone"));return c.setComponent(new i.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Ro(_o(t,c,void 0,n,u),t),namespace:a}}}),Do=Te;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Mo=ie,Lo=Y,Fo=Object.freeze({__proto__:null,DataConnection:Do,RealTimeConnection:Mo,hijackHash:function(e){var t=Te.prototype.put;return Te.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Te.prototype.put=t}},ConnectionTarget:Lo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){bo=e}(e)}}),zo=Ro.ServerValue;!function(e){l(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Ro(_o(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Io,Query:Po,Database:Ro,DataSnapshot:jo,enableLogging:E,INTERNAL:Ao,ServerValue:zo,TEST_ACCESS:Fo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1"),Object(o.t)()&&(t.exports=n)}(r.a)}).call(this,n(187),n(412)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){},,function(e,t,n){"use strict";var r=n(416);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(4));var r=s(n(418)),i=s(n(421)),o=s(n(0)),a=s(n(188));n(189);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},i.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(a.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);f.defaultProps={classNames:""},f.propTypes={};var d=f;t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r=n(419);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(420));e.exports=t.default},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(4));var r=a(n(0)),i=n(50),o=a(n(190));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],u=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),u=o(t,s);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var l=i in t,c=i in s,f=t[i],d=(0,r.isValidElement)(f)&&!f.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),u};var r=n(0);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);n(200),n(402);var r=n(0),i=n.n(r),o=n(50),a=(n(407),n(409),n(79));
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
a.a.registerVersion("firebase","8.6.1","app");n(411);var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function h(e){return u(this,void 0,void 0,(function(){function t(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o;return l(this,(function(a){switch(a.label){case 0:return L?(n=L.transaction([e],"readonly"),r=n.objectStore(e),i=r.get(t),[4,new Promise((function(e,t){i.onsuccess=function(t){e(i.result)},i.onerror=function(e){return t(new Error(i.error?i.error.toString():"Unknown"))}}))]):[3,2];case 1:return[2,a.sent()];case 2:return(o=localStorage.getItem("RANGERS-"+e+"-"+t))?[2,JSON.parse(o)]:[2,null];case 3:return[2]}}))}))}function n(e){return u(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,f,d;return l(this,(function(l){if(L)return t=L.transaction([e]).objectStore(e),[2,new Promise((function(e,n){var r={},i=t.openCursor();i.onsuccess=function(t){var n=t.target.result;n?(n.value&&(r[n.key]=n.value),n.continue()):e(r)},i.onerror=function(e){n(new Error(i.error?i.error.toString():"Unknown"))}}))];n="RANGERS-"+e+"-",r={};try{for(i=c(Object.keys(localStorage)),o=i.next();!o.done;o=i.next())0===(a=o.value).indexOf(n)&&(s=a.slice(n.length),(u=localStorage.getItem(a))&&(r[s]=JSON.parse(u)))}catch(e){f={error:e}}finally{try{o&&!o.done&&(d=i.return)&&d.call(i)}finally{if(f)throw f.error}}return[2,r]}))}))}function r(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a;return l(this,(function(s){switch(s.label){case 0:return L?(r=L.transaction([e],"readwrite"),i=r.objectStore(e),o=n?i.put(n,t):i.delete(t),[4,new Promise((function(e,t){o.onsuccess=function(t){return e()},o.onerror=function(e){console.warn("Indexeddb error",o.error),t(new Error(o.error?"IndexedDB error: "+o.error.name+" "+o.error.message:"Unknown"))}}))]):[3,2];case 1:return s.sent(),[3,3];case 2:a="RANGERS-"+e+"-"+t,n?localStorage.setItem(a,JSON.stringify(n)):localStorage.removeItem(a),s.label=3;case 3:return[2]}}))}))}function i(){if(--B<=0){d("Firebase goes offline, no consumers");try{e.database().goOffline()}catch(e){console.warn("Error with firebase",e)}}else d("Firebase will not go offline, have "+B+" consumers")}function o(){if(1===++B){d("We are the first firebase online consumer, going online");try{e.database().goOnline()}catch(e){console.warn("Error with firebase",e)}}else d("Now firebase have "+B+" connections")}function h(t,n,r,a){return u(this,void 0,void 0,(function(){var s,u,c;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,4,5]),o(),(s=n||(z?z.uid:null))?(d("Firebase SET fullRefPath="+(u=t+"/"+s+"/"+r)+" value="+JSON.stringify(a)),[4,Promise.race([e.database().ref(u).set(a),new Promise((function(e){return setTimeout(e,6e4)})).then((function(){return Promise.reject("Timed out")}))])]):[3,2];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return c=l.sent(),console.error("Error with firebase: ",c),[3,5];case 4:return i(),[7];case 5:return[2]}}))}))}function p(e,t,n){return u(this,void 0,void 0,(function(){return l(this,(function(r){return[2,h(e,void 0,t,n)]}))}))}function m(t,n,r){return u(this,void 0,void 0,(function(){var a;return l(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),o(),[4,Promise.race([new Promise((function(i,o){var a=n||(z?z.uid:null);a?e.database().ref(t+"/"+a+"/"+r).once("value",(function(e){var n=e?e.val():null;d("Firebase GET path="+t+"/"+(z?z.uid:"ERR")+"/"+r+" value="+JSON.stringify(n)),i(n)}),(function(e){o(e)})):i(null)})),new Promise((function(e){return setTimeout((function(){return e(null)}),6e4)})).then((function(){return Promise.reject("Firebase read timeout")}))])];case 1:return[2,s.sent()];case 2:return a=s.sent(),console.error("Error with firebase: ",a),[2,null];case 3:return i(),[7];case 4:return[2]}}))}))}function v(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,m(e,void 0,t)]}))}))}function y(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,p("usersPublic","info/name",e)];case 1:return t.sent(),[2]}}))}))}function g(){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:o(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,new Promise((function(t,n){e.database().ref("usersPublic").orderByChild("gamesWonCount").limitToLast(100).once("value",(function(e){if(e){var n=[];e.forEach((function(e){n.push(s(s({},e.val()),{userId:e.key}))})),t(n.reverse())}else t(null)})).catch((function(e){return n(e)}))}))];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.warn(t),[2,null];case 4:return i(),[7];case 5:return[2]}}))}))}function b(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return d("setConfig key="+e+" value="+JSON.stringify(t)),[4,r("config",e,t)];case 1:return n.sent(),[4,p("usersPrivate","config/"+e,t)];case 2:return n.sent(),[2]}}))}))}function _(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return d("setConfig key="+e+" value="+JSON.stringify(t)),[4,r("config",e,t)];case 1:return n.sent(),[2]}}))}))}function w(e){return u(this,void 0,Promise,(function(){return l(this,(function(n){return[2,t("config",e)]}))}))}function E(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:o(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e()];case 2:return[2,t.sent()];case 3:return i(),[7];case 4:return[2]}}))}))}function x(t){return u(this,void 0,void 0,(function(){var n=this;return l(this,(function(r){switch(r.label){case 0:return[4,E((function(){return u(n,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return n=e.database().ref("wonProofs"),[4,(t?n.orderByChild("userId").equalTo(t):n).once("value")];case 1:return[2,r.sent().val()]}}))}))}))];case 1:return[2,r.sent()]}}))}))}function k(t,n){return E((function(){return e.database().ref("wonProofs/"+t).set(n)}))}function S(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,o,u,f,h,m,y,g,b,_,w,E,x,k,S,C,O,T,N,j;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,18,,19]),[4,v("usersPrivate","wongames")];case 1:e=l.sent()||{},t=0,n={};try{for(r=c(Object.keys(e)),i=r.next();!i.done;i=r.next())m=i.value,!(o=e[m])||Object.keys(o).length<1||(n[m]=o,t++)}catch(e){S={error:e}}finally{try{i&&!i.done&&(C=r.return)&&C.call(r)}finally{if(S)throw S.error}}return[4,v("usersPublic","gamesWonProofs")];case 2:return u=l.sent()||{},d("Updating public highscores newCount="+t),[4,p("usersPublic","gamesWonCount",t)];case 3:l.sent(),l.label=4;case 4:l.trys.push([4,15,16,17]),f=c(Object.keys(n)),h=f.next(),l.label=5;case 5:if(h.done)return[3,14];m=h.value,l.label=6;case 6:l.trys.push([6,11,12,13]),N=void 0,y=c(Object.keys(n[m])),g=y.next(),l.label=7;case 7:return g.done?[3,10]:(b=g.value,u[m]&&u[m][b]?[3,9]:(_=n[m][b],w=a.a.database.ServerValue.TIMESTAMP,d("Updating firebase public won game="+m+" seed="+b),[4,p("usersPublic","gamesWonProofs/"+m+"/"+b,s(s({},_),{created:w}))]));case 8:l.sent(),l.label=9;case 9:return g=y.next(),[3,7];case 10:return[3,13];case 11:return E=l.sent(),N={error:E},[3,13];case 12:try{g&&!g.done&&(j=y.return)&&j.call(y)}finally{if(N)throw N.error}return[7];case 13:return h=f.next(),[3,5];case 14:return[3,17];case 15:return x=l.sent(),O={error:x},[3,17];case 16:try{h&&!h.done&&(T=f.return)&&T.call(f)}finally{if(O)throw O.error}return[7];case 17:return d("Updating public highscores done"),[3,19];case 18:return k=l.sent(),console.warn("public wining state sync error",k,k.stack),[3,19];case 19:return[2]}}))}))}function C(){return u(this,void 0,void 0,(function(){var e,u,f,h,m,g,b,_,E,C,O,T,N,j,P,I,R,A,D,M,L,F,B,U,q,V,W,H,Y,G,Q,$,X,K,J,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,fe,de,he,pe,me,ve,ye,ge,be,_e,we,Ee,xe,ke,Se;return l(this,(function(l){switch(l.label){case 0:if(!(e=z?z.uid:void 0))return[2];o(),l.label=1;case 1:l.trys.push([1,,74,75]),d("SyncWithFirebase started"),l.label=2;case 2:l.trys.push([2,12,13,14]),u=c(["player","lastPlayedGame","noMusic"]),f=u.next(),l.label=3;case 3:return f.done?[3,11]:[4,v("usersPrivate","config/"+(h=f.value))];case 4:return(m=l.sent())?(d("Taking config "+h+" from firebase"),[4,r("config",h,m)]):[3,6];case 5:return l.sent(),[3,10];case 6:return null!==m?[3,10]:[4,t("config",h)];case 7:return(g=l.sent())?(d("Saving firebase config "+h+" because there is nothing"),[4,p("usersPrivate","config/"+h,g)]):[3,9];case 8:return l.sent(),[3,10];case 9:d("Config key "+h+" no in local, neither in firebase"),l.label=10;case 10:return f=u.next(),[3,3];case 11:return[3,14];case 12:return b=l.sent(),ce={error:b},[3,14];case 13:try{f&&!f.done&&(fe=u.return)&&fe.call(u)}finally{if(ce)throw ce.error}return[7];case 14:d("Sync syncWithFirebase config done"),l.label=15;case 15:return l.trys.push([15,40,,41]),d("Sync old syncWithFirebase passed games started"),[4,n("wongames")];case 16:return W=l.sent(),[4,v("usersPrivate","wongames")];case 17:H=l.sent()||{},_=Object.keys(s(s({},W),H)),l.label=18;case 18:l.trys.push([18,37,38,39]),E=c(_),C=E.next(),l.label=19;case 19:if(C.done)return[3,36];ie=C.value,O=W[ie]||{},T=H[ie]||{},l.label=20;case 20:l.trys.push([20,25,26,27]),pe=void 0,N=c(Object.keys(O)),j=N.next(),l.label=21;case 21:return j.done?[3,24]:(P=j.value,(I=O[P])?T[P]?[3,23]:(d("Sync with firebase: gameName="+ie+" pushing seed="+P+" into firebase"),[4,p("usersPrivate","wongames/"+ie+"/"+P,I)]):[3,23]);case 22:l.sent(),l.label=23;case 23:return j=N.next(),[3,21];case 24:return[3,27];case 25:return R=l.sent(),pe={error:R},[3,27];case 26:try{j&&!j.done&&(me=N.return)&&me.call(N)}finally{if(pe)throw pe.error}return[7];case 27:l.trys.push([27,33,34,35]),ve=void 0,A=c(Object.keys(T)),D=A.next(),l.label=28;case 28:return D.done?[3,32]:(M=D.value,(L=T[M])?O[M]?[3,31]:(d("Sync with firebase: gameName="+ie+" fetching seed="+M+" from firebase"),[4,t("wongames",ie)]):[3,31]);case 29:return oe=l.sent(),ae=s(s({},oe),((ge={})[L.aleaSeed]=L,ge)),[4,r("wongames",ie,ae)];case 30:l.sent(),l.label=31;case 31:return D=A.next(),[3,28];case 32:return[3,35];case 33:return F=l.sent(),ve={error:F},[3,35];case 34:try{D&&!D.done&&(ye=A.return)&&ye.call(A)}finally{if(ve)throw ve.error}return[7];case 35:return C=E.next(),[3,19];case 36:return[3,39];case 37:return B=l.sent(),de={error:B},[3,39];case 38:try{C&&!C.done&&(he=E.return)&&he.call(E)}finally{if(de)throw de.error}return[7];case 39:return[3,41];case 40:return U=l.sent(),console.warn("wining state sync error",U,U.stack),[3,41];case 41:return d("Sync old syncWithFirebase passed games done"),d("Sync flat syncWithFirebase passed games started"),[4,w("player")];case 42:q=l.sent(),V=q?q.Ranger:"",l.label=43;case 43:return l.trys.push([43,68,,69]),[4,n("wongames")];case 44:return W=l.sent(),[4,x(e)];case 45:H=l.sent()||{},l.label=46;case 46:l.trys.push([46,57,58,59]),Y=c(Object.keys(W)),G=Y.next(),l.label=47;case 47:if(G.done)return[3,56];ie=G.value,Q=W[ie],l.label=48;case 48:l.trys.push([48,53,54,55]),we=void 0,$=c(Object.keys(Q)),X=$.next(),l.label=49;case 49:return X.done?[3,52]:(ne=X.value,K=Q[ne],H[ne]?[3,51]:(d("Pushing "+ne+" into remote wons"),[4,k(ne,{rangerName:V,createdAt:a.a.database.ServerValue.TIMESTAMP,gameName:ie,proof:K,userId:e})]));case 50:l.sent(),l.label=51;case 51:return X=$.next(),[3,49];case 52:return[3,55];case 53:return J=l.sent(),we={error:J},[3,55];case 54:try{X&&!X.done&&(Ee=$.return)&&Ee.call($)}finally{if(we)throw we.error}return[7];case 55:return G=Y.next(),[3,47];case 56:return[3,59];case 57:return Z=l.sent(),be={error:Z},[3,59];case 58:try{G&&!G.done&&(_e=Y.return)&&_e.call(Y)}finally{if(be)throw be.error}return[7];case 59:l.trys.push([59,65,66,67]),ee=c(Object.keys(H)),te=ee.next(),l.label=60;case 60:if(te.done)return[3,64];if(ne=te.value,(re=H[ne]).userId!==e)throw new Error("Unexpected userId "+re.userId+", expected "+e);return[4,t("wongames",ie=re.gameName)];case 61:return(oe=l.sent()||{})[ne]?[3,63]:(d("Polling "+ne+" from remote wons"),ae=s(s({},oe),((Se={})[ne]=re.proof,Se)),[4,r("wongames",ie,ae)]);case 62:l.sent(),l.label=63;case 63:return te=ee.next(),[3,60];case 64:return[3,67];case 65:return se=l.sent(),xe={error:se},[3,67];case 66:try{te&&!te.done&&(ke=ee.return)&&ke.call(ee)}finally{if(xe)throw xe.error}return[7];case 67:return[3,69];case 68:return ue=l.sent(),console.warn("wining state sync error",ue,ue.stack),[3,69];case 69:return d("Sync flat syncWithFirebase passed games done"),[4,S()];case 70:return l.sent(),d("Own highscores synced"),[4,w("player")];case 71:return(le=l.sent())?[4,y(le.Ranger||"")]:[3,73];case 72:l.sent(),l.label=73;case 73:return d("Public ranger name synced"),d("Sync with firebase finished"),[3,75];case 74:return i(),[7];case 75:return[2]}}))}))}function O(e){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,t("wongames",e)];case 1:return(n=r.sent())&&"object"==typeof n&&Object.keys(n).length>=1?[2,n]:[2,!1]}}))}))}function T(e,n){return u(this,void 0,void 0,(function(){var i,o,u,c,f,d;return l(this,(function(l){switch(l.label){case 0:return[4,t("wongames",e)];case 1:return i=l.sent(),o=s(s({},i),((d={})[n.aleaSeed]=n,d)),[4,r("wongames",e,o)];case 2:return l.sent(),[4,p("usersPrivate","wongames/"+e+"/"+n.aleaSeed,n)];case 3:return l.sent(),[4,w("player")];case 4:return u=l.sent(),c=u?u.Ranger:"",(f=z?z.uid:void 0)?[4,k(n.aleaSeed,{rangerName:c,createdAt:a.a.database.ServerValue.TIMESTAMP,gameName:e,proof:n,userId:f})]:[3,6];case 5:l.sent(),l.label=6;case 6:return[4,S()];case 7:return l.sent(),[2]}}))}))}function N(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=t?JSON.stringify(t):t,[4,r("savedgames",e,n)];case 1:return i.sent(),[2]}}))}))}function j(e){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,t("savedgames",e)];case 1:n=r.sent();try{return[2,JSON.parse(n)]}catch(e){return[2,null]}return[2]}}))}))}function P(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,p("customQuests",""+encodeURIComponent(e),t?s(s({},t),{updatedAt:a.a.database.ServerValue.TIMESTAMP}):null)];case 1:return n.sent(),[2]}}))}))}function I(e,t){return u(this,void 0,Promise,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,m("customQuests",e,""+encodeURIComponent(t))];case 1:return[2,n.sent()]}}))}))}function R(){return u(this,void 0,Promise,(function(){var t;return l(this,(function(n){switch(n.label){case 0:o(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,new Promise((function(t,n){z?e.database().ref("customQuests/"+z.uid).once("value",(function(e){if(e){var n=e.val();if(n&&"object"==typeof n){var r={};Object.entries(n).forEach((function(e){var t=f(e,2),n=t[0],i=t[1];r[decodeURIComponent(n)]=i})),d(n,r),t(r)}else t(null)}else t(null)})).catch((function(e){return n(e)})):t(null)}))];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.warn(t),[2,null];case 4:return i(),[7];case 5:return[2]}}))}))}function A(){return z?z.uid:null}function D(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=t?JSON.stringify(t):t,[4,r("customsavedgames",e,n)];case 1:return i.sent(),[2]}}))}))}function M(e){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,t("customsavedgames",e)];case 1:if(!(n=r.sent()))return[2,null];try{return[2,JSON.parse(n)]}catch(e){return[2,null]}return[2]}}))}))}var L,F,z,B;return l(this,(function(t){switch(t.label){case 0:return d("Starting to get db"),window.indexedDB?[4,new Promise((function(e,t){var n=window.indexedDB.open("spaceranges2",8);d("idb opened"),n.onerror=function(e){return t(new Error(n.error?"IndexedDB error: "+n.error.name+" "+n.error.message:"Unknown"))},n.onsuccess=function(t){return e(t.target.result)},n.onupgradeneeded=function(e){var t,n;d("onupgradeneeded");var r=e.target.result;try{for(var i=c(["config","savedgames","wongames","customsavedgames"]),o=i.next();!o.done;o=i.next()){var a=o.value;r.objectStoreNames.contains(a)?d("It containt "+a+" store"):(d("Creating "+a+" store"),r.createObjectStore(a,{autoIncrement:!1}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}))]:[3,2];case 1:return F=t.sent(),[3,3];case 2:F=void 0,t.label=3;case 3:d((L=F)?"Got indexedDB":"IndexedDB is not available, will use localStorage"),B=1;try{e.auth().onAuthStateChanged((function(e){d("on auth changed = "+((z=e)?z.uid:"<null>"))})),e.database().ref(".info/connected").on("value",(function(e){d("Firebase online="+(e&&e.val()))})),i()}catch(e){console.error("Error with firebase: ",e)}return d("Returning db instance"),[2,{setConfigBoth:b,setConfigLocal:_,getConfigLocal:w,isGamePassedLocal:O,setGamePassing:T,getFirebasePublicHighscores:g,saveGame:N,getLocalSaving:j,syncWithFirebase:C,setOwnHighscoresName:y,getRemotePassings:x,getAllMyCustomQuests:R,saveCustomQuest:P,loadCustomQuest:I,getMyUserId:A,saveCustomGame:D,loadCustomGame:M}]}}))}))}var p,m=n(29),v=n(23),y=n(39),g=n(6),b=n(13),_=n(51),w=n(12),E=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={player:Object(g.o)(t.props.store.player),busy:!1},t}return E(t,e),t.prototype.render=function(){var e=this,t=this.props.store.l;if(this.state.busy)return r.createElement(v.c,{text:t.saving});var n=this.state.player,i=function(t,r){var i;e.setState({player:x(x({},n),(i={},i[t]=r,i))})};return r.createElement(v.a,{key:"options",className:"text-center my-3 container"},r.createElement("form",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group col-md-6"},r.createElement("label",{className:"customized-label"},t.lang),r.createElement("select",{className:"customized-select",value:n.lang,onChange:function(e){return i("lang",e.target.value)}},r.createElement("option",{value:"rus"},t.rus),r.createElement("option",{value:"eng"},t.eng))),r.createElement("div",{className:"form-group col-md-6"},r.createElement("label",{className:"customized-label"},t.enableBackButton),r.createElement("select",{className:"customized-select",value:n.allowBackButton?"1":"0",onChange:function(e){return i("allowBackButton","1"===e.target.value)}},r.createElement("option",{value:"1"},t.backButtonEnabled),r.createElement("option",{value:"0"},t.backButtonDisabled))))),r.createElement("div",{className:"text-center"},r.createElement("button",{className:"btn btn-primary px-5",onClick:function(){e.setState({busy:!0}),S(e,void 0,void 0,(function(){var e,t;return C(this,(function(r){switch(r.label){case 0:return[4,(e=this.props.store.db).setConfigBoth("player",n)];case 1:return r.sent(),[4,e.setOwnHighscoresName(n.Ranger)];case 2:return r.sent(),[4,e.getConfigLocal("player")];case 3:if(!(t=r.sent()))throw new Error("Where is the player?");return this.props.store.player=t,this.setState({busy:!1}),[2]}}))})).catch((function(e){return location.reload()}))}},r.createElement("i",{className:"fa fa-save"})," ",r.createElement("span",{className:"button-text"},t.save))))},t=k([y.a],t)}(r.Component),T=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},I=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var R=["sound","track"],A=function(){function e(e,t,n,r){var i=this;this.index=e,this.app=t,this.db=n,this.setPath=function(){var e=location.hash.replace(/^#/,"").replace(/^\//,"");i._hash!==e&&(i._hash=e)},this._hash="",this.firebaseLoggedIn=void 0,this.firebaseSyncing=!1,this.lastQuestListScroll=0,this.serviceWorkerRegistered=!1,this.serviceWorkerController=null,this.reloadingPage=!1,this.storageIsPersisted=void 0,this.installingServiceWorkerState=null,this.waitingServiceWorkerState=null,this.waitingServiceWorker=null,this.activeServiceWorkerState=null,this.questsListTab="all",this.questsListSearch="",window.addEventListener("hashchange",this.setPath),this.setPath(),this.player=r,this.pwaAlreadyInstalled=window.matchMedia("(display-mode: standalone)").matches,window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),i.pwaInstallReadyEvent=e})),window.addEventListener("appinstalled",(function(e){i.pwaAlreadyInstalled=!0,i.installImagesCache().catch((function(e){return console.warn(e)})),i.installMusicCache().catch((function(e){return console.warn(e)}))})),this.queryCacheInfo().then((function(){i.pwaAlreadyInstalled&&("no"===i.imagesCache&&i.installImagesCache().catch((function(e){return console.warn(e)})),"no"===i.musicCache&&i.installMusicCache().catch((function(e){return console.warn(e)})))})).catch((function(e){return console.warn(e)}))}var t;return Object.defineProperty(e.prototype,"hash",{get:function(){return"#/"+this._hash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){var e=this._hash.split("/");return{tab0:e[0],tab1:e[1],tab2:e[2]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"l",{get:function(){return Object(_.b)(this.player.lang)},enumerable:!1,configurable:!0}),e.prototype.loadWinProofsFromLocal=function(){return j(this,void 0,void 0,(function(){var e,t=this;return P(this,(function(n){switch(n.label){case 0:return e=new Map,[4,Promise.all(this.index.quests.map((function(n){return j(t,void 0,void 0,(function(){var t;return P(this,(function(r){switch(r.label){case 0:return[4,this.db.isGamePassedLocal(n.gameName)];case 1:return t=r.sent(),e.set(n.gameName,t),[2]}}))}))})))];case 1:return n.sent(),this.wonProofs=e,[2]}}))}))},e.prototype.syncWithFirebase=function(){return j(this,void 0,void 0,(function(){var e;return P(this,(function(t){switch(t.label){case 0:return this.firebaseSyncing?[2]:(this.firebaseSyncing=!0,[4,this.db.syncWithFirebase()]);case 1:return t.sent(),[4,this.db.getConfigLocal("player")];case 2:return(e=t.sent())&&(this.player=e),[4,this.loadWinProofsFromLocal()];case 3:return t.sent(),this.firebaseSyncing=!1,[2]}}))}))},e.prototype.queryCacheInfo=function(){return j(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c,f,d,h,p,m,v,y,g,_,w;return P(this,(function(E){switch(E.label){case 0:return[4,caches.open(b.b)];case 1:e=E.sent(),t=!1,E.label=2;case 2:E.trys.push([2,14,15,16]),n=I(R),r=n.next(),E.label=3;case 3:if(r.done)return[3,13];i=r.value,E.label=4;case 4:E.trys.push([4,9,10,11]),y=void 0,o=I(this.index.dir[i].files),a=o.next(),E.label=5;case 5:return a.done?[3,8]:(h=a.value,[4,e.match(b.d+h.filePath+h.fileName)]);case 6:if(!E.sent())return t=!0,[3,8];E.label=7;case 7:return a=o.next(),[3,5];case 8:return[3,11];case 9:return s=E.sent(),y={error:s},[3,11];case 10:try{a&&!a.done&&(g=o.return)&&g.call(o)}finally{if(y)throw y.error}return[7];case 11:if(t)return[3,13];E.label=12;case 12:return r=n.next(),[3,3];case 13:return[3,16];case 14:return u=E.sent(),m={error:u},[3,16];case 15:try{r&&!r.done&&(v=n.return)&&v.call(n)}finally{if(m)throw m.error}return[7];case 16:return this.musicCacheInstallInfo||(this.musicCache=t?"no":"yes"),[4,caches.open(b.a)];case 17:l=E.sent(),c=!1,E.label=18;case 18:E.trys.push([18,23,24,25]),f=I(this.index.dir.images.files),d=f.next(),E.label=19;case 19:return d.done?[3,22]:(h=d.value,[4,l.match(b.d+h.filePath+h.fileName)]);case 20:if(!E.sent())return c=!0,[3,22];E.label=21;case 21:return d=f.next(),[3,19];case 22:return[3,25];case 23:return p=E.sent(),_={error:p},[3,25];case 24:try{d&&!d.done&&(w=f.return)&&w.call(f)}finally{if(_)throw _.error}return[7];case 25:return this.imagesCacheInstallInfo||(this.imagesCache=c?"no":"yes"),[2]}}))}))},e.prototype.installMusicCache=function(){return j(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c,f,d,h,p,m=this;return P(this,(function(v){switch(v.label){case 0:return this.musicCacheInstallInfo?[2]:(this.musicCacheInstallInfo={currentFile:"",sizeTotal:R.map((function(e){return m.index.dir[e].totalSize})).reduce((function(e,t){return e+t}),0),downloaded:0},[4,caches.open(b.b)]);case 1:e=v.sent(),v.label=2;case 2:v.trys.push([2,14,15,16]),t=I(R),n=t.next(),v.label=3;case 3:if(n.done)return[3,13];r=n.value,v.label=4;case 4:v.trys.push([4,10,11,12]),h=void 0,i=I(this.index.dir[r].files),o=i.next(),v.label=5;case 5:return o.done?[3,9]:(a=o.value,this.musicCacheInstallInfo.currentFile=a.fileName,s=b.d+a.filePath+a.fileName,[4,fetch(s)]);case 6:return u=v.sent(),[4,e.put(s,u)];case 7:v.sent(),this.musicCacheInstallInfo.downloaded+=a.size,v.label=8;case 8:return o=i.next(),[3,5];case 9:return[3,12];case 10:return l=v.sent(),h={error:l},[3,12];case 11:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(h)throw h.error}return[7];case 12:return n=t.next(),[3,3];case 13:return[3,16];case 14:return c=v.sent(),f={error:c},[3,16];case 15:try{n&&!n.done&&(d=t.return)&&d.call(t)}finally{if(f)throw f.error}return[7];case 16:return this.musicCache="yes",this.musicCacheInstallInfo=void 0,[2]}}))}))},e.prototype.installImagesCache=function(){return j(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c,f=this;return P(this,(function(d){switch(d.label){case 0:return this.imagesCacheInstallInfo?[2]:(this.imagesCacheInstallInfo={currentFile:"",sizeTotal:this.index.dir.images.totalSize,downloaded:0},[4,caches.open(b.a)]);case 1:return e=d.sent(),!0,t=this.imagesCacheInstallInfo,20,n=function(e,t){for(var n=[],r=0;r<t;r++)n.push([]);return e.forEach((function(e,r){n[r%t].push(e)})),n}(this.index.dir.images.files,20),[4,Promise.all(n.map((function(n){return j(f,void 0,void 0,(function(){var r,i,o,a,s,u,l,c;return P(this,(function(f){switch(f.label){case 0:f.trys.push([0,6,7,8]),r=I(n),i=r.next(),f.label=1;case 1:return i.done?[3,5]:(o=i.value,a=b.d+o.filePath+o.fileName,[4,fetch(a)]);case 2:return s=f.sent(),[4,e.put(a,s)];case 3:f.sent(),t.downloaded+=o.size,f.label=4;case 4:return i=r.next(),[3,1];case 5:return[3,8];case 6:return u=f.sent(),l={error:u},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))})))];case 2:return d.sent(),[3,11];case 3:d.trys.push([3,9,10,11]),r=I(this.index.dir.images.files),i=r.next(),d.label=4;case 4:return i.done?[3,8]:(o=i.value,this.imagesCacheInstallInfo.currentFile=o.fileName,a=b.d+o.filePath+o.fileName,[4,fetch(a)]);case 5:return s=d.sent(),[4,e.put(a,s)];case 6:d.sent(),this.imagesCacheInstallInfo.downloaded+=o.size,d.label=7;case 7:return i=r.next(),[3,4];case 8:return[3,11];case 9:return u=d.sent(),l={error:u},[3,11];case 10:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 11:return this.imagesCache="yes",this.imagesCacheInstallInfo=void 0,[2]}}))}))},e.prototype.removeMusicCache=function(){return j(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:return this.musicCacheInstallInfo?[2]:[4,caches.delete(b.b)];case 1:return e.sent(),this.musicCache="no",[2]}}))}))},e.prototype.removeImagesCache=function(){return j(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:return this.imagesCacheInstallInfo?[2]:[4,caches.delete(b.a)];case 1:return e.sent(),this.imagesCache="no",[2]}}))}))},Object.defineProperty(e.prototype,"defaultMusicList",{get:function(){return this.index.dir.track.files.filter((function(e){return e.useForRandomMusic})).map((function(e){return e.filePath+e.fileName}))},enumerable:!1,configurable:!0}),T([g.l,N("design:type","function"==typeof(t=void 0!==m.Player&&m.Player)?t:Object)],e.prototype,"player",void 0),T([g.l,N("design:type",Object)],e.prototype,"pwaInstallReadyEvent",void 0),T([g.l,N("design:type",Boolean)],e.prototype,"pwaAlreadyInstalled",void 0),T([g.l,N("design:type",String)],e.prototype,"_hash",void 0),T([g.e,N("design:type",Object),N("design:paramtypes",[])],e.prototype,"hash",null),T([g.e,N("design:type",Object),N("design:paramtypes",[])],e.prototype,"path",null),T([g.l,N("design:type",Object)],e.prototype,"firebaseLoggedIn",void 0),T([g.l,N("design:type",Boolean)],e.prototype,"firebaseSyncing",void 0),T([g.e,N("design:type",Object),N("design:paramtypes",[])],e.prototype,"l",null),T([g.l,N("design:type",Object)],e.prototype,"wonProofs",void 0),T([g.l,N("design:type",Boolean)],e.prototype,"serviceWorkerRegistered",void 0),T([g.l,N("design:type",Object)],e.prototype,"serviceWorkerController",void 0),T([g.l,N("design:type",Boolean)],e.prototype,"reloadingPage",void 0),T([g.l,N("design:type",Object)],e.prototype,"storageIsPersisted",void 0),T([g.l,N("design:type",Object)],e.prototype,"installingServiceWorkerState",void 0),T([g.l,N("design:type",Object)],e.prototype,"waitingServiceWorkerState",void 0),T([g.l,N("design:type",Object)],e.prototype,"waitingServiceWorker",void 0),T([g.l,N("design:type",Object)],e.prototype,"activeServiceWorkerState",void 0),T([g.l,N("design:type",String)],e.prototype,"questsListTab",void 0),T([g.l,N("design:type",String)],e.prototype,"questsListSearch",void 0),T([g.l,N("design:type",Object)],e.prototype,"imagesCache",void 0),T([g.l,N("design:type",Object)],e.prototype,"imagesCacheInstallInfo",void 0),T([g.l,N("design:type",Object)],e.prototype,"musicCache",void 0),T([g.l,N("design:type",Object)],e.prototype,"musicCacheInstallInfo",void 0),T([g.e,N("design:type",Object),N("design:paramtypes",[])],e.prototype,"defaultMusicList",null),e}(),D=n(19),M=n(25),L=n(4),F=n.n(L),z=n(5),B=n.n(z),U=n(8),q={light:F.a.bool,dark:F.a.bool,full:F.a.bool,fixed:F.a.string,sticky:F.a.string,color:F.a.string,role:F.a.string,tag:U.g,className:F.a.string,cssModule:F.a.object,expand:F.a.oneOfType([F.a.bool,F.a.string])},V=function(e){var t,n=e.expand,r=e.className,o=e.cssModule,a=e.light,s=e.dark,u=e.fixed,l=e.sticky,c=e.color,f=e.tag,d=Object(M.a)(e,["expand","className","cssModule","light","dark","fixed","sticky","color","tag"]),h=Object(U.d)(B()(r,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(n),((t={"navbar-light":a,"navbar-dark":s})["bg-"+c]=c,t["fixed-"+u]=u,t["sticky-"+l]=l,t)),o);return i.a.createElement(f,Object(D.a)({},d,{className:h}))};V.propTypes=q,V.defaultProps={tag:"nav",expand:!1};var W=V,H={tag:U.g,className:F.a.string,cssModule:F.a.object},Y=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(M.a)(e,["className","cssModule","tag"]),a=Object(U.d)(B()(t,"navbar-brand"),n);return i.a.createElement(r,Object(D.a)({},o,{className:a}))};Y.propTypes=H,Y.defaultProps={tag:"a"};var G=Y,Q={tag:U.g,type:F.a.string,className:F.a.string,cssModule:F.a.object,children:F.a.node},$=function(e){var t=e.className,n=e.cssModule,r=e.children,o=e.tag,a=Object(M.a)(e,["className","cssModule","children","tag"]),s=Object(U.d)(B()(t,"navbar-toggler"),n);return i.a.createElement(o,Object(D.a)({},a,{className:s}),r||i.a.createElement("span",{className:Object(U.d)("navbar-toggler-icon",n)}))};$.propTypes=Q,$.defaultProps={tag:"button",type:"button"};var X=$,K=n(106),J=n(80);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}var te,ne=n(111),re=ee({},ne.Transition.propTypes,{isOpen:F.a.bool,children:F.a.oneOfType([F.a.arrayOf(F.a.node),F.a.node]),tag:U.g,className:F.a.node,navbar:F.a.bool,cssModule:F.a.object,innerRef:F.a.oneOfType([F.a.func,F.a.string,F.a.object])}),ie=ee({},ne.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:U.c.Collapse}),oe=((te={})[U.b.ENTERING]="collapsing",te[U.b.ENTERED]="collapse show",te[U.b.EXITING]="collapsing",te[U.b.EXITED]="collapse",te);function ae(e){return e.scrollHeight}var se=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(Object(K.a)(n))})),n}Object(J.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:ae(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:ae(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,o=t.className,a=t.navbar,s=t.cssModule,u=t.children,l=(t.innerRef,Object(M.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),c=this.state.height,f=Object(U.f)(l,U.a),d=Object(U.e)(l,U.a);return i.a.createElement(ne.Transition,Object(D.a)({},f,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var r=function(e){return oe[e]||"collapse"}(t),l=Object(U.d)(B()(o,r,a&&"navbar-collapse"),s),f=null===c?null:{height:c};return i.a.createElement(n,Object(D.a)({},d,{style:ee({},d.style,f),className:l,ref:e.props.innerRef}),u)}))},t}(r.Component);se.propTypes=re,se.defaultProps=ie;var ue=se,le=n(436),ce=n(197),fe=n(198),de={tag:U.g,fluid:F.a.bool,className:F.a.string,cssModule:F.a.object},he=function(e){var t=e.className,n=e.cssModule,r=e.fluid,o=e.tag,a=Object(M.a)(e,["className","cssModule","fluid","tag"]),s=Object(U.d)(B()(t,r?"container-fluid":"container"),n);return i.a.createElement(o,Object(D.a)({},a,{className:s}))};he.propTypes=de,he.defaultProps={tag:"div"};var pe=he,me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ye=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navbarIsOpen=!1,t}return me(t,e),t.prototype.render=function(){var e=this,t=this.props.store,n=t.l,i=(t.firebaseLoggedIn,t.player,this.props.store,this.props.store.path.tab0);return r.createElement(r.Fragment,null,r.createElement(W,{color:"light",light:!0,expand:"md"},r.createElement(G,{href:"#/"},n.hi),r.createElement(X,{"aria-label":n.menu,onClick:function(){e.navbarIsOpen=!e.navbarIsOpen}}),r.createElement(ue,{isOpen:this.navbarIsOpen,navbar:!0},r.createElement(le.a,{className:"ml-auto",navbar:!0},r.createElement(ce.a,null,r.createElement(fe.a,{active:"quests"===i,href:"#/quests"},r.createElement("i",{className:"fa fa-fw fa-list"})," ",n.quests)),r.createElement(ce.a,null,r.createElement(fe.a,{href:"#/options",active:"options"===i},r.createElement("i",{className:"fa fa-fw fa-cogs"})," ",n.options)),r.createElement(ce.a,null,r.createElement(fe.a,{href:"#/editor",active:!1},r.createElement("i",{className:"fa fa-fw fa-edit"})," ",n.editor))))),r.createElement(pe,{className:"mt-3"},this.props.children))},ve([g.l,ye("design:type",Object)],t.prototype,"navbarIsOpen",void 0),t=ve([y.a],t)}(r.Component),be=n(16),_e=n(18),we=n(72),Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xe(e,t){return Object(we.a)(e,Ee(Ee({},t),{Day:""+be.a,Date:Object(_e.a)(be.a,t.lang),CurDate:Object(_e.a)(0,t.lang)}),[],[],(function(e){return void 0!==e?Math.floor(Math.random()*e):Math.random()}))}var ke=n(60);var Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oe=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Te=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ne=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},je=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownOpen:!1},t.onScroll=function(){t.props.store.lastQuestListScroll=window.scrollY},t}return Se(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.onScroll)},t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll),this.props.store.lastQuestListScroll&&window.scrollTo(0,this.props.store.lastQuestListScroll)},Object.defineProperty(t.prototype,"origins",{get:function(){var e=this;return this.props.store.index.quests.filter((function(t){return t.lang===e.props.store.player.lang})).map((function(e){return e.questOrigin})).reduce((function(e,t){return e.indexOf(t)>-1?e:e.concat(t)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allQuestsForThisUser",{get:function(){var e=this,t=this.props.store.wonProofs;return this.props.store.index.quests.filter((function(t){return t.lang===e.props.store.player.lang})).map((function(n){return Ce(Ce({},n),{passedAt:function(){if(t){var e=t.get(n.gameName);if("object"!=typeof e||Object.keys(e).length<1)return!1;var r=Math.min.apply(Math,je([],Ne(Object.keys(e).map((function(t){var n;return(null===(n=e[t].performedJumps.slice(-1).pop())||void 0===n?void 0:n.dateUnix)||1/0})))));return r===1/0||new Date(r)}}(),taskText:xe(n.taskText,e.props.store.player)})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questsToShow",{get:function(){var e=this.props.store;return this.allQuestsForThisUser.filter((function(t){return"all"===e.questsListTab||t.questOrigin===e.questsListTab})).filter((function(t){return!e.questsListSearch||(t.gameName.toLowerCase().indexOf(e.questsListSearch.toLowerCase())>-1||t.taskText.toLowerCase().indexOf(e.questsListSearch.toLowerCase())>-1)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proposedSlots",{get:function(){return function(e,t,n){void 0===n&&(n=3);for(var r=e.length+n+10,i=e.slice(0,n),o=i.length;;){for(var a=-1,s=-1,u=0;u<i.length;u++)if(i[u]){var l=t.indexOf(i[u]);l<0||(-1===s||l<s)&&(a=u,s=l)}if(a<0||s<0)break;if(i[a]=e[o],o++,0===--r)return console.error("Infinite loop detected"),new Array(n).fill(void 0)}return i}(this.allQuestsForThisUser.map((function(e){var t=[967,971,977,983,991,997],n=e.questOrigin.startsWith("SR ")||e.questOrigin.startsWith("КР "),r=e.gameName.split("").map((function(e){return e.charCodeAt(0)})).map((function(n,r){return n*t[r%t.length]+727*e.hardness})).reduce((function(e,t){return(e+t)%1e3}),0),i=n?r:2e3;return{gameName:e.gameName,orderValue:i}})).sort((function(e,t){return e.orderValue-t.orderValue||(e.gameName>t.gameName?1:-1)})).map((function(e){return e.gameName})),this.allQuestsForThisUser.map((function(e,t){return{gameName:e.gameName,order:void 0===e.passedAt||!1===e.passedAt?0:!0===e.passedAt?t:e.passedAt.getTime()}})).filter((function(e){return e.order>0})).sort((function(e,t){return e.order-t.order})).map((function(e){return e.gameName})),3)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props.store.l;this.props.store,this.allQuestsForThisUser,this.allQuestsForThisUser.filter((function(e){return e.passedAt}));return r.createElement(ge,{store:this.props.store},r.createElement(v.a,{key:"quest list",className:"container mb-5"},r.createElement("div",{className:"text-center mb-3"},r.createElement("h5",null,e.welcomeHeader)),this.questsToShow.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"list-group"},this.questsToShow.map((function(t){return r.createElement("a",{href:"#/quests/"+t.gameName,key:t.gameName,className:"list-group-item list-group-item-action flex-column align-items-start"},r.createElement("div",{className:"d-flex w-100 justify-content-between"},r.createElement("h5",{className:"mb-1"},t.gameTitle),r.createElement("small",null,void 0===t.passedAt?r.createElement("i",{className:"text-muted fa fa-spin circle-o-notch"}):!1!==t.passedAt?r.createElement("span",null,e.passed):null)),r.createElement("p",{className:"mb-1 bootstrap-style"},r.createElement(ke.a,{str:t.taskText})),r.createElement("small",null,t.smallDescription))})))):r.createElement("div",{className:"text-center"},r.createElement("i",{className:"fa fa-circle-o"})," ",e.nothingFound)))},Oe([g.e,Te("design:type",Object),Te("design:paramtypes",[])],t.prototype,"origins",null),Oe([g.e,Te("design:type",Object),Te("design:paramtypes",[])],t.prototype,"allQuestsForThisUser",null),Oe([g.e,Te("design:type",Object),Te("design:paramtypes",[])],t.prototype,"questsToShow",null),Oe([g.e,Te("design:type",Object),Te("design:paramtypes",[])],t.prototype,"proposedSlots",null),t=Oe([y.a],t)}(r.Component),Ie=n(73),Re=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},De=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Me=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return Re(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.store.db.getLocalSaving(this.props.gameName).then((function(e){return e||null})).catch((function(e){return null})).then((function(t){return e.setState({lastSavedGameState:t})})).catch((function(e){return console.warn(e)})),window.scrollTo(0,0)},t.prototype.render=function(){var e=this,t=this.props.store,n=t.l,i=t.player,o=t.index,a=(t.db,this.props.gameName),s=o.quests.find((function(e){return e.gameName===a}));if(!s)return r.createElement(v.d,{to:"#/"});var u=this.props.store.wonProofs?this.props.store.wonProofs.get(a):null;return r.createElement(v.a,{className:"container"},r.createElement("div",{className:"text-center mb-3"},r.createElement("h4",null,s.gameTitle),r.createElement("div",null,r.createElement("small",null,s.smallDescription)),r.createElement("div",null,r.createElement("small",null,void 0===u?r.createElement("i",{className:"text-muted fa fa-spin circle-o-notch"}):null===u||"object"!=typeof u||Object.keys(u).length<1?void 0:Object.keys(u).map((function(e){var t=u[e],n=t.performedJumps.slice(0).shift(),r=t.performedJumps.slice(-1).shift();if(!n||!r)return null;var i=Math.ceil((new Date(r.dateUnix).getTime()-new Date(n.dateUnix).getTime())/6e4);return{started:n.dateUnix,end:r.dateUnix,durationsMins:i,k:e}})).filter((function(e){return e})).sort((function(e,t){return null===e||null===t?0:e.started-t.started})).map((function(e){return e?r.createElement("div",{key:e.k},n.passed," ",new Date(e.end).toLocaleString()," (",e.durationsMins," ",n.minutesShort,")"):null}))))),r.createElement("div",{className:"mb-3 bootstrap-style"},r.createElement(ke.a,{str:xe(s.taskText,i)})),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("button",{className:B()("btn btn-block mb-2",{"btn-primary":!this.state.lastSavedGameState}),onClick:function(){e.props.store.db.saveGame(e.props.gameName,null).then((function(){location.hash="/quests/"+a+"/play"})).catch((function(e){return console.error(e)})),Object(Ie.a)(!0)}},r.createElement("i",{className:"fa fa-rocket"})," ",r.createElement("span",{className:"button-text"},n.startFromTheStart))),r.createElement("div",{className:"col-md-4"},r.createElement("button",{className:B()("btn btn-block mb-2",{"btn-primary":!!this.state.lastSavedGameState,disabled:!this.state.lastSavedGameState}),onClick:function(){location.hash="/quests/"+a+"/play",Object(Ie.a)(!0)}},void 0===this.state.lastSavedGameState?r.createElement("i",{className:"fa fa-spin fa-spinner"}):this.state.lastSavedGameState?r.createElement(r.Fragment,null,r.createElement("i",{className:"fa fa-save"})," ",r.createElement("span",{className:"button-text"},n.startFromLastSave)):r.createElement(r.Fragment,null," ",r.createElement("i",{className:"fa fa-circle-o"})," ",r.createElement("span",{className:"button-text"},n.noLastSave)))),r.createElement("div",{className:"col-md-4"},r.createElement("button",{className:B()("btn btn-block btn-ligth mb-2"),onClick:function(){return De(e,void 0,void 0,(function(){return Me(this,(function(e){return location.hash="/quests",[2]}))}))}},r.createElement("i",{className:"fa fa-reply"})," ",r.createElement("span",{className:"button-text"},n.backToList)))))},t=Ae([y.a],t)}(r.Component),Fe=n(192),ze=n(3),Be=function(){return(Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ue=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function Ve(e,t){return Be(Be({},e),{locations:qe(qe([],Ue(e.locations.filter((function(e){return e.id!==t.id})))),[t])})}function We(e,t){return Be(Be({},e),{jumps:qe(qe([],Ue(e.jumps.filter((function(e){return e.id!==t.id})))),[t])})}function He(){return{change:0,changingFormula:"",critText:"",isChangeFormula:!1,isChangePercentage:!1,isChangeValue:!1,showingType:ze.k.НеТрогать,sound:void 0,track:void 0,img:void 0}}function Ye(e){for(var t=1;e.locations.find((function(e){return e.id===t}));)t++;return t}function Ge(e){for(var t=1;e.jumps.find((function(e){return e.id===t}));)t++;return t}function Qe(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function $e(e,t,n){return[Math.round(e[0]*(1-n)+t[0]*n),Math.round(e[1]*(1-n)+t[1]*n),Math.round(e[2]*(1-n)+t[2]*n)]}function Xe(e){var t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if(t)return t.slice(1).map((function(e){return parseInt(e,16)}));throw new Error("Unknown color '"+e+"'")}var Ke={background:"#aaaaaa",location:{starting:"#5555ff",final:"#00ff00",intermediate:"#ffffff",empty:"#004101",fail:"#d20000"},jump:{withDescription:{begin:Xe("#ffffff"),end:Xe("#0000ff")},withoutDescription:{begin:Xe("#00ddff"),end:Xe("#00aaaa")},sameTextWithDescription:{begin:Xe("#ffffff"),end:Xe("#800000")},sameTextWithoutDescription:{begin:Xe("#f5c896"),end:Xe("#800000")},empty:{begin:Xe("#ffffff"),end:Xe("#004000")},arrow:"#0000ff"},backgroundJumpsStats:"#e7e298",unlimitedPassingJump:"#0000ff",limitedPassingJump:"#ff0000",selectionOutbound:"#000000",selectionInbound:"#ff8040"},Je=n(151),Ze=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function et(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function tt(e,t,n,r,i,o){var a=t-r,s=n-i,u=Math.hypot(a,s),l=a*o/u,c=s*o/u,f=et(l,c,-Math.PI/8),d=et(l,c,+Math.PI/8);e.beginPath(),e.moveTo(t,n),e.lineTo(t+f.x,n+f.y),e.stroke(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+d.x,n+d.y),e.stroke()}function nt(e,t,n,r){var i=function(e,t,n,r){var i=t.locX!==e.locX?t.locX-e.locX>0:t.locY-e.locY>0,o=i?e.locX:t.locX,a=i?t.locX:e.locX,s=i?e.locY:t.locY,u=(a-o)/2,l=((i?t.locY:e.locY)-s)/2,c=o+u,f=s+l,d=l,h=-u,p=Math.sqrt(d*d+h*h),m=p>0,v=m?d/p*30:0,y=m?h/p*30:0,g=r>1?(r-1)/2:0;return[m?{x:c+v*n-v*g,y:f+y*n-y*g}:{x:e.locX+40,y:e.locY-40-30*n/2},m?void 0:{x:e.locX-40,y:e.locY-40-30*n/2}]}(e,t,n,r),o=i[0],a=i[1],s=a?new Je.Bezier(e.locX,e.locY,o.x,o.y,a.x,a.y,t.locX,t.locY):new Je.Bezier(e.locX,e.locY,o.x,o.y,t.locX,t.locY),u=s.length(),l=s.split((u-12)/u).left,c=Math.round(u/10);return l.getLUT(c)}function rt(e,t,n,r,i,o,a,s,u){var l=Ze(function(e,t,n,r){var i=e.text?r?e.description?Ke.jump.sameTextWithDescription:Ke.jump.sameTextWithoutDescription:e.description?Ke.jump.withDescription:Ke.jump.withoutDescription:Ke.jump.empty;return[i.begin,i.end]}(n,0,0,s),2),c=l[0],f=l[1],d=nt({locX:r.locX*u,locY:r.locY*u},{locX:i.locX*u,locY:i.locY*u},o,a);e.lineWidth=1;for(var h={LUT:d,startColor:c,endColor:f,startLoc:{locX:r.locX*u,locY:r.locY*u},endLoc:{locX:i.locX*u,locY:i.locY*u}},p=1;p<d.length;p++)e.beginPath(),e.moveTo(d[p-1].x,d[p-1].y),e.strokeStyle=Qe($e(c,f,p/d.length)),e.lineTo(d[p].x,d[p].y),e.stroke(),t.push([d[p].x,d[p].y,10,null,[n,p<d.length/2,h]]);e.strokeStyle=Qe(f),d.length>0&&tt(e,d[d.length-1].x,d[d.length-1].y,i.locX*u,i.locY*u,8)}var it=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ot=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function at(e,t,n){var r=[];e.fillStyle=Ke.background,e.fillRect(0,0,e.canvas.width,e.canvas.height),t.locations.forEach((function(t){!function(e,t,n,r){e.strokeStyle="black",e.lineWidth=2;var i=n.isStarting?Ke.location.starting:n.isEmpty?Ke.location.empty:n.isSuccess?Ke.location.final:n.isFaily||n.isFailyDeadly?Ke.location.fail:Ke.location.intermediate;e.fillStyle=i,e.beginPath(),e.arc(n.locX*r,n.locY*r,7,0,2*Math.PI),e.fill(),t.push([n.locX*r,n.locY*r,Math.max(7,12),n,null])}(e,r,t,n)})),t.jumps.forEach((function(i){var o=t.locations.find((function(e){return e.id===i.fromLocationId})),a=t.locations.find((function(e){return e.id===i.toLocationId}));if(a&&o){var s=t.jumps.filter((function(e){return e.fromLocationId===i.fromLocationId&&e.toLocationId===i.toLocationId||e.fromLocationId===i.toLocationId&&e.toLocationId===i.fromLocationId})).sort((function(e,t){return e.fromLocationId>t.fromLocationId?1:e.fromLocationId<t.fromLocationId?-1:e.showingOrder-t.showingOrder})),u=s.length,l=s.indexOf(i),c=s.filter((function(e){return i.text===e.text})).length>1;rt(e,r,i,o,a,l,u,c,n)}else console.warn("No loc from jump id="+i.id)}));return r}var st=function(e){var t=e.clientX,n=e.clientY,i=e.children,o=window.innerWidth,a=window.innerHeight,s=t<o/2,u=n<a/2,l=n>.25*a&&n<.75*a;return r.createElement("div",{style:{position:"fixed",left:s?t+40:void 0,right:s?void 0:o-t+40,top:l?"50%":u?n+40:void 0,bottom:l||u?void 0:a-n+40,transform:l?"translateY(-50%)":void 0,backgroundColor:"#e7e298",borderRadius:5,margin:30,padding:10,boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)"}},i)},ut=n(10),lt=(n(430),function(){return(lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)});function ct(e,t,n,r,i){return Math.pow(e-n,2)+Math.pow(t-r,2)<Math.pow(i,2)}function ft(e,t,n){var r=Math.floor(e.screenSizeX/e.widthSize),i=Math.floor(e.screenSizeY/e.heightSize),o=Math.floor(r/2),a=Math.floor(i/2);return{x:Math.round((t-o)/r)*r+o,y:Math.round((n-a)/i)*i+a}}function dt(e,t,n){return e.locations.find((function(e){return ct(t,n,e.locX,e.locY,7)}))}function ht(e){return new Array(e).fill(0).map((function(e,t){return t}))}function pt(e){var t=e.summary;return r.createElement("div",{className:"d-flex",style:{display:"flex",maxWidth:400,overflow:"hidden"}},r.createElement("div",{style:{whiteSpace:"pre",flexShrink:100,overflow:"hidden",marginRight:4}},t.textName," ",t.leftText),r.createElement("div",{style:{marginLeft:"auto",flexShrink:0}},t.rightText))}function mt(){return r.createElement("div",null,"----------------------------------------------")}function vt(e){var t=e.paramsSummary;return t.length<=6?r.createElement(r.Fragment,null,t.map((function(e){return r.createElement(pt,{key:e.key,summary:e})}))):r.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-evenly"}},r.createElement("div",null,t.map((function(e,t){return t%2==0?r.createElement(pt,{key:e.key,summary:e}):null}))),r.createElement("div",null,t.map((function(e,t){return t%2!=0?r.createElement(pt,{key:e.key,summary:e}):null}))))}function yt(e,t,n,r){var i=n.showingType===ze.k.НеТрогать?"":n.showingType===ze.k.Показать?" (показать)":n.showingType===ze.k.Скрыть?" (скрыть)":Object(w.a)(n.showingType),o=n.isChangeValue?":="+n.change:n.isChangePercentage?n.change>0?"+"+n.change+"%":n.change<0?n.change+"%":"":n.isChangeFormula?":="+n.changingFormula:n.change>0?"+"+n.change:n.change<0?""+n.change:"",a="",s=r;return s&&(s.mustFrom>t.min&&(a+=">="+s.mustFrom+" "),s.mustTo<t.max&&(a+="<="+s.mustTo+" "),s.mustEqualValues.length>0&&(a+=s.mustEqualValuesEqual?"==":"!=",a+=s.mustEqualValues.map((function(e){return e.toString()})).join(";")+" "),s.mustModValues.length>0&&(a+=s.mustModValuesMod?"%":"!%",a+=s.mustModValues.map((function(e){return e.toString()})).join(";")+" ")),{key:"changeandcondition-"+e,active:t.active,textName:"[p"+(e+1)+"] ("+t.name+")",leftText:i||a?i+" "+a:"",rightText:o}}function gt(e,t,n,r){return ht(t).map((function(t){var i=n[t];return yt(t,e[t],i,r?r[t]:null)})).filter((function(e){return e.active})).filter((function(e){return e.leftText||e.rightText}))}function bt(e){var t=e.quest,n=e.location,i=n.isStarting?"Стартовая локация":n.isSuccess?"Победная локация":n.isFailyDeadly?"Смертельная локация":n.isFaily?"Провальная локация":n.isEmpty?"Пустая локация":0===n.texts.length?"Пустая локация (нет теста)":"Промежуточная локация",o=n.texts.find((function(e){return e})),a=gt(t.params,t.paramsCount,n.paramsChanges,null);return r.createElement("div",{className:"d-flex flex-column align-items-center"},r.createElement("div",{className:"w-100 d-flex flex-row justify-content-between"},r.createElement("span",null,n.texts.filter((function(e){return e})).length>1?"M":""),r.createElement("span",null,"L ",n.id)),r.createElement(mt,null),r.createElement("div",null,"- ",i," -"),r.createElement(mt,null),o?r.createElement(r.Fragment,null,r.createElement("div",{className:"text-center text-primary"},o.slice(0,300)," ",o.length>300?"...":""),r.createElement(mt,null)):null,a.length>0&&r.createElement(r.Fragment,null,r.createElement(vt,{paramsSummary:a}),r.createElement(mt,null)),n.dayPassed&&r.createElement("div",null,"Прошел один день"),n.maxVisits>0?r.createElement("div",null,"Проходимость: ",n.maxVisits):r.createElement("div",null,"Проходимость неограниченная"))}var _t=n(38),wt=n(24),Et=function(e){return void 0!==e?Math.floor(Math.random()*e):Math.random()};function xt(e,t){try{Object(wt.a)(e,t.map((function(e){return e.active?0:void 0})),Et)}catch(e){return console.info(e),""+e.message||"error"}return null}function kt(e){var t=e.className,n=e.value,i=e.onChange,o=e.paramsActive,a=e.allowEmpty,s=e.disabled,u=a&&!n?null:xt(n,o);return r.createElement("input",{disabled:s,className:B()(t,u?"is-invalid":""),value:n,onChange:function(e){return i(e.target.value)},title:u||void 0})}var St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ct(e){var t=e.media,n=e.setMedia,i=e.vertical,o=e.disabled;return r.createElement("div",{className:B()("d-flex justify-content-between mb-2",{"flex-column":i})},r.createElement("input",{className:"form-control",placeholder:"Иллюстрация",value:t.img||"",onChange:function(e){return n(St(St({},t),{img:e.target.value}))},title:"Также поддерживаются абсолютные пути к изображениям",disabled:o}),r.createElement("input",{className:B()("form-control",i?"":"mx-2"),placeholder:"Фоновый трек",value:t.track||"",onChange:function(e){return n(St(St({},t),{track:e.target.value}))},title:"Также поддерживаются абсолютные пути к аудио файлам\nСпециальное значение Quest сбрасывает музыку к дефолтной",disabled:o}),r.createElement("input",{className:"form-control",placeholder:"Звуковой эффект",value:t.sound||"",onChange:function(e){return n(St(St({},t),{sound:e.target.value}))},title:"Также поддерживаются абсолютные пути к аудио файлам",disabled:o}))}var Ot=function(){return(Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Tt(e){var t=e.change,n=e.onChange,i=e.param,o=e.paramsActive;return r.createElement("div",{className:"d-flex flex-column"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-6"},r.createElement("div",{className:"row form-group"},r.createElement("div",{className:"col-6 form-check xform-check-inline"},r.createElement("label",{className:"form-check-label ml-3"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option1",checked:!t.isChangePercentage&&!t.isChangeValue&&!t.isChangeFormula,onChange:function(){return n(Ot(Ot({},t),{isChangePercentage:!1,isChangeValue:!1,isChangeFormula:!1}))}}),"Единицы")),r.createElement("div",{className:"col-6 form-check xform-check-inline"},r.createElement("label",{className:"form-check-label ml-3"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option2/",checked:t.isChangePercentage,onChange:function(){return n(Ot(Ot({},t),{isChangePercentage:!0,isChangeValue:!1,isChangeFormula:!1}))}}),"Проценты"))),r.createElement("div",{className:"row form-group"},r.createElement("div",{className:"col-6 form-check xform-check-inline"},r.createElement("label",{className:"form-check-label ml-3"}," ",r.createElement("input",{className:"form-check-input",type:"radio",value:"option3",checked:t.isChangeValue,onChange:function(){return n(Ot(Ot({},t),{isChangePercentage:!1,isChangeValue:!0,isChangeFormula:!1}))}}),"Значение")),r.createElement("div",{className:"col-6 form-check xform-check-inline"},r.createElement("label",{className:"form-check-label ml-3"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option4",checked:t.isChangeFormula,onChange:function(){return n(Ot(Ot({},t),{isChangePercentage:!1,isChangeValue:!1,isChangeFormula:!0}))}}),"Выражение")))),r.createElement("div",{className:"col-6"},t.isChangeFormula||t.isChangeValue||t.isChangePercentage?t.isChangeValue?r.createElement("input",{type:"range",className:"form-range w-100",min:i.min,max:i.max,value:t.change,onChange:function(e){return n(Ot(Ot({},t),{change:parseInt(e.target.value)}))}}):t.isChangePercentage?r.createElement("input",{type:"range",className:"form-range w-100",min:-100,max:100,value:t.change,onChange:function(e){return n(Ot(Ot({},t),{change:parseInt(e.target.value)}))}}):t.isChangeFormula?r.createElement("input",{type:"range",className:"form-range w-100",max:2,min:0,value:1,disabled:!0}):null:r.createElement("input",{type:"range",className:"form-range w-100",min:i.min-i.max,max:i.max-i.min,value:t.change,onChange:function(e){return n(Ot(Ot({},t),{change:parseInt(e.target.value)}))}}),t.isChangeFormula?r.createElement(kt,{className:"form-control w-100",value:t.changingFormula,onChange:function(e){return n(Ot(Ot({},t),{changingFormula:e}))},paramsActive:o}):r.createElement("input",{type:"number",className:B()("form-control w-100"),value:t.change,onChange:function(e){return n(Ot(Ot({},t),{change:parseInt(e.target.value)}))}}))),r.createElement("div",{className:"d-flex justify-content-center mb-3"},r.createElement("div",{className:"form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option1",checked:t.showingType===ze.k.НеТрогать,onChange:function(){return n(Ot(Ot({},t),{showingType:ze.k.НеТрогать}))}}),"Не трогать")),r.createElement("div",{className:"form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option1",checked:t.showingType===ze.k.Скрыть,onChange:function(){return n(Ot(Ot({},t),{showingType:ze.k.Скрыть}))}}),"Скрыть")),r.createElement("div",{className:"form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"radio",value:"option1",checked:t.showingType===ze.k.Показать,onChange:function(){return n(Ot(Ot({},t),{showingType:ze.k.Показать}))}}),"Показать"))),r.createElement(Nt,{param:i,onChange:n,change:t,paramsActive:o}))}function Nt(e){var t=e.change,n=e.onChange,i=e.param;return i.type!==ze.i.Обычный?r.createElement("div",{className:"h-100 d-flex flex-column"},r.createElement("textarea",{style:{resize:"none"},className:B()("form-control h-100",t.critText&&t.critText!==i.critValueString?"":"text-muted"),rows:3,value:t.critText||i.critValueString,onChange:function(e){n(Ot(Ot({},t),{critText:e.target.value}))}}),r.createElement(Ct,{media:t,setMedia:function(e){return n(Ot(Ot({},t),{img:e.img,track:e.track,sound:e.sound}))}})):null}var jt=n(28),Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},It=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Rt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function At(e){var t=e.quest,n=e.initialLocation,i=e.onClose,o=e.enableSaveOnNoChanges,a=It(r.useState(void 0),2),s=a[0],u=a[1],l=It(r.useState(0),2),c=l[0],f=l[1],d=It(r.useState(0),2),h=d[0],p=d[1];r.useEffect((function(){u(n),f(0),p(0)}),[n]);var m=It(r.useState(!1),2),v=m[0],y=m[1];r.useEffect((function(){if(v){var e=window.setTimeout((function(){return y(!1)}),5e3);return function(){return window.clearTimeout(e)}}}));var g=s!==n,b=r.useCallback((function(){g?v?i(void 0):y(!0):i(void 0)}),[g,v]);return Object(jt.a)((function(e){"Escape"===e.key&&b()})),s?r.createElement(_t.a,{wide:!0,position:"absolute",headerText:"Редактирование локации L "+s.id,onClose:b},r.createElement("div",null,r.createElement("div",{className:"row mb-2"},r.createElement("div",{className:"col-6"},r.createElement("form",{className:"form-inline  d-flex flex-nowrap"},r.createElement("div",{className:"btn-group",role:"group"},ht(s.texts.length).map((function(e){return r.createElement("button",{type:"button",className:B()("btn",e===c?"btn-primary":"btn-light",s.texts[e]?"font-weight-bold":"text-muted"),onClick:function(){return f(e)}},e+1)}))),r.createElement("button",{className:"btn btn-light ml-2",onClick:function(){u(Pt(Pt({},s),{texts:Rt(Rt([],It(s.texts)),[""]),media:Rt(Rt([],It(s.media)),[{img:void 0,track:void 0,sound:void 0}])})),f(s.texts.length)},title:"Добавить","aria-label":"Добавить"},r.createElement("i",{className:"fa fa-plus fa-fw"})),r.createElement("button",{className:"btn btn-light ml-2",disabled:c!==s.texts.length-1||0===c,onClick:function(){u(Pt(Pt({},s),{texts:s.texts.slice(0,s.texts.length-1),media:s.media.slice(0,s.media.length-1)})),f(s.texts.length-2)},title:"Удалить","aria-label":"Удалить"},r.createElement("i",{className:"fa fa-minus fa-fw"})))),r.createElement("div",{className:"col-6"},r.createElement("form",{className:"form-inline  d-flex flex-nowrap"},r.createElement("select",{className:"form-control ml-2",value:s.isTextByFormula?"formula":"serial",onChange:function(e){return u(Pt(Pt({},s),{isTextByFormula:"formula"===e.target.value}))},title:s.isTextByFormula?"Пустая формула означает выбирать случайно":void 0},r.createElement("option",{value:"serial"},"Выбирать по порядку"),r.createElement("option",{value:"formula"},"Выбирать по формуле")),s.isTextByFormula&&r.createElement(kt,{className:"form-control ml-2 flex-fill",value:s.textSelectFormula,onChange:function(e){return u(Pt(Pt({},s),{textSelectFormula:e}))},paramsActive:t.params,allowEmpty:!0})))),r.createElement("textarea",{className:"form-control mb-1",rows:7,style:{resize:"none"},value:s.texts[c]||"",onChange:function(e){var t=Pt(Pt({},s),{texts:s.texts.map((function(t,n){return n===c?e.target.value:t}))});u(t)}}),r.createElement(Ct,{media:s.media[c]||{img:void 0,track:void 0,sound:void 0},setMedia:function(e){var t=Rt([],It(s.media));t[c]=e,ht(c).forEach((function(e){t[e]||(t[e]={img:void 0,track:void 0,sound:void 0})})),u(Pt(Pt({},s),{media:t}))}}),r.createElement("div",{className:"row mb-3"},r.createElement("div",{className:"col-6"},r.createElement("select",{className:"form-control",value:h,size:16,style:{maxHeight:"200px"},onChange:function(e){return p(parseInt(e.target.value))}},t.params.map((function(e,t){var n=yt(t,e,s.paramsChanges[t],null);return r.createElement("option",{className:e.active?n.leftText||n.rightText?"font-weight-bold":"":"text-muted",value:t,key:t},n.textName,n.leftText," ",n.rightText)})))),r.createElement("div",{className:"col-6"},t.params[h]&&s.paramsChanges[h]&&r.createElement(Tt,{change:s.paramsChanges[h],param:t.params[h],onChange:function(e){u(Pt(Pt({},s),{paramsChanges:s.paramsChanges.map((function(t,n){return n===h?e:t}))}))},paramsActive:t.params}))),r.createElement("div",{className:"form-inline"},r.createElement("label",{className:"mr-1"},"Тип локации "),r.createElement("select",{className:"form-control",value:(s.isStarting?ze.g.Starting:s.isSuccess?ze.g.Success:s.isEmpty?ze.g.Empty:s.isFailyDeadly?ze.g.Deadly:s.isFaily?ze.g.Faily:ze.g).toString(),onChange:function(e){var n=parseInt(e.target.value);if(n===ze.g.Ordinary)u(Pt(Pt({},s),{isStarting:!1,isSuccess:!1,isEmpty:!1,isFaily:!1,isFailyDeadly:!1}));else if(n===ze.g.Success)u(Pt(Pt({},s),{isStarting:!1,isSuccess:!0,isEmpty:!1,isFaily:!1,isFailyDeadly:!1}));else if(n===ze.g.Starting){var r=t.locations.find((function(e){return e.isStarting}));r&&r.id!==s.id?Object(ut.b)('Уже есть локация с типом "Начало" id: '+r.id):u(Pt(Pt({},s),{isStarting:!0,isSuccess:!1,isEmpty:!1,isFaily:!1,isFailyDeadly:!1}))}else n===ze.g.Deadly?u(Pt(Pt({},s),{isStarting:!1,isSuccess:!1,isEmpty:!1,isFaily:!0,isFailyDeadly:!0})):n===ze.g.Faily?u(Pt(Pt({},s),{isStarting:!1,isSuccess:!1,isEmpty:!1,isFaily:!0,isFailyDeadly:!1})):n===ze.g.Empty?u(Pt(Pt({},s),{isStarting:!1,isSuccess:!1,isEmpty:!0,isFaily:!1,isFailyDeadly:!1})):Object(w.a)(n)}},r.createElement("option",{value:ze.g.Ordinary},"Промежуточная"),r.createElement("option",{value:ze.g.Starting},"Стартовая"),r.createElement("option",{value:ze.g.Empty},"Пустая"),r.createElement("option",{value:ze.g.Success},"Победная"),r.createElement("option",{value:ze.g.Faily},"Провальная"),r.createElement("option",{value:ze.g.Deadly},"Смертельная")),r.createElement("div",{className:"ml-3 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:s.dayPassed,onChange:function(e){return u(Pt(Pt({},s),{dayPassed:e.target.checked}))}}),"Прошел один день")),r.createElement("div",{className:"ml-4 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:0===s.maxVisits,onChange:function(e){return u(Pt(Pt({},s),{maxVisits:e.target.checked?0:1}))}}),"Неограниченная проходимость")),s.maxVisits>0&&r.createElement("input",{className:B()("form-control ml-2"),type:"number",value:s.maxVisits,onChange:function(e){return u(Pt(Pt({},s),{maxVisits:parseInt(e.target.value)}))}}),r.createElement("button",{className:"btn btn-primary ml-auto mr-2",disabled:!g&&!o,onClick:function(){return i(s)}},"Сохранить"),r.createElement("button",{className:"btn btn-danger",onClick:b},v?"Точно закрыть?":"Закрыть")))):null}function Dt(e){var t=e.quest,n=e.jump,i=t.jumps.filter((function(e){return e.fromLocationId===n.fromLocationId&&e.text===n.text&&e.id!==n.id})).length>0?"Спорный с приоритетом "+n.priority:1!==n.priority?"Вероятность "+n.priority:"",o=n.text?n.description?"Переход с описанием":"Переход без описания":n.description?"Пустой переход с описанием":"Пустой переход без описания",a=gt(t.params,t.paramsCount,n.paramsChanges,n.paramsConditions);return r.createElement("div",{className:"d-flex flex-column align-items-center"},r.createElement("div",{className:"w-100 d-flex flex-row justify-content-between"},r.createElement("span",null," "),r.createElement("span",null,"P ",n.id)),r.createElement("div",null,"- ",o," -"),r.createElement("div",null,i),r.createElement(mt,null),n.text||n.description?r.createElement(r.Fragment,null,r.createElement("div",{className:"text-center text-primary"},n.text),n.description?r.createElement(r.Fragment,null,r.createElement("div",{className:"text-center text-primary"},"->"),r.createElement("div",{className:"text-center text-primary"},n.description)):null,r.createElement(mt,null)):null,n.formulaToPass?r.createElement(r.Fragment,null,r.createElement("div",{className:"text-center"},n.formulaToPass),r.createElement(mt,null)):null,a.length>0&&r.createElement(r.Fragment,null,r.createElement(vt,{paramsSummary:a}),r.createElement(mt,null)),n.dayPassed&&r.createElement("div",null,"Прошел один день"),n.jumpingCountLimit>0?r.createElement("div",null,"Проходимость: ",n.jumpingCountLimit):r.createElement("div",null,"Проходимость неограниченная"),n.alwaysShow&&r.createElement("div",null,"Всегда показывать"))}var Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Lt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Ft(e){var t=e.condition,n=e.onChange,i=e.param,o=Lt(r.useState(t.mustEqualValues.join(";")),2),a=o[0],s=o[1],u=Lt(r.useState(t.mustModValues.join(";")),2),l=u[0],c=u[1];return r.useEffect((function(){s(t.mustEqualValues.join(";")),c(t.mustModValues.join(";"))}),[t]),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"d-flex align-items-center mb-1"},r.createElement("label",{className:"form-check-label mr-2"},"Необходимо: "),r.createElement("label",{className:"form-check-label"},"Мин "),r.createElement("input",{className:B()("form-control ml-2 w-100",i.min===t.mustFrom?"text-muted":""),type:"number",value:t.mustFrom,min:i.min,max:i.max,onChange:function(e){return n(Mt(Mt({},t),{mustFrom:parseInt(e.target.value)}))}}),r.createElement("label",{className:"form-check-label ml-1"},"Макс "),r.createElement("input",{className:B()("form-control ml-2 w-100",i.max===t.mustTo?"text-muted":""),type:"number",value:t.mustTo,min:i.min,max:i.max,onChange:function(e){return n(Mt(Mt({},t),{mustTo:parseInt(e.target.value)}))}})),r.createElement("div",{className:"d-flex align-items-center mb-1"},r.createElement("label",{className:"form-check-label text-nowrap mr-1"},t.mustEqualValuesEqual?"Равно":"Не равно"),r.createElement("input",{className:B()("form-control ml-2 w-100"),value:a,onChange:function(e){return s(e.target.value)},onBlur:function(e){var r=e.target.value.replace(/ /g,"").split(/;|,/).filter((function(e){return""!==e})).map((function(e){return parseInt(e)}));n(Mt(Mt({},t),{mustEqualValues:r}))},title:"Список значений, например: 1;2;3"}),r.createElement("label",{className:"form-check-label ml-1",style:{cursor:"pointer"},onClick:function(){return n(Mt(Mt({},t),{mustEqualValuesEqual:!t.mustEqualValuesEqual}))},role:"button","aria-label":"Поменять кратно или не кратно"},r.createElement("i",{className:"fa fa-exchange"}))),r.createElement("div",{className:"d-flex align-items-center mb-1"},r.createElement("label",{className:"form-check-label text-nowrap mr-1"},t.mustModValuesMod?"Кратно":"Не кратно"),r.createElement("input",{className:B()("form-control ml-2 w-100"),value:l,onChange:function(e){return c(e.target.value)},onBlur:function(e){var r=e.target.value.replace(/ /g,"").split(/;|,/).filter((function(e){return""!==e})).map((function(e){return parseInt(e)}));n(Mt(Mt({},t),{mustModValues:r}))},title:"Список значений, например: 1;2;3"}),r.createElement("label",{className:"form-check-label ml-1",style:{cursor:"pointer"},onClick:function(){return n(Mt(Mt({},t),{mustModValuesMod:!t.mustModValuesMod}))},role:"button","aria-label":"Поменять делится или не делится"},r.createElement("i",{className:"fa fa-exchange"}))))}function zt(e){var t=e.quest,n=e.initialJump,i=e.onClose,o=e.enableSaveOnNoChanges,a=Lt(r.useState(void 0),2),s=a[0],u=a[1],l=Lt(r.useState(0),2),c=l[0],f=l[1];r.useEffect((function(){u(n),f(0)}),[n]);var d=Lt(r.useState(!1),2),h=d[0],p=d[1];r.useEffect((function(){if(h){var e=window.setTimeout((function(){return p(!1)}),5e3);return function(){return window.clearTimeout(e)}}}));var m=s!==n,v=r.useCallback((function(){m?h?i(void 0):p(!0):i(void 0)}),[m,h]);return Object(jt.a)((function(e){"Escape"===e.key&&v()})),s?r.createElement(_t.a,{wide:!0,position:"absolute",headerText:"Редактирование перехода P "+s.id,onClose:v},r.createElement("div",null,r.createElement("div",null,"Вопрос для совершения перехода:"),r.createElement("textarea",{className:"form-control mb-1",rows:2,style:{resize:"none"},value:s.text,onChange:function(e){u(Mt(Mt({},s),{text:e.target.value}))}}),r.createElement("div",{className:"row mb-2"},r.createElement("div",{className:"col-9"},r.createElement("div",null,"Сообщение, выводящееся при выполнении перехода:"),r.createElement("textarea",{className:"form-control mb-1",rows:4,style:{resize:"none"},value:s.description,onChange:function(e){u(Mt(Mt({},s),{description:e.target.value}))}})),r.createElement("div",{className:"col-3 pt-4"},r.createElement(Ct,{media:s,setMedia:function(e){return u(Mt(Mt({},s),{img:e.img,track:e.track,sound:e.sound}))},vertical:!0}))),r.createElement("div",{className:"d-flex align-items-center mb-3"},r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Логическое условие"),r.createElement(kt,{className:"form-control w-100 ml-2",value:s.formulaToPass,onChange:function(e){return u(Mt(Mt({},s),{formulaToPass:e}))},paramsActive:t.params,allowEmpty:!0})),r.createElement("div",{className:"row mb-1"},r.createElement("div",{className:"col-6 d-flex flex-column"},r.createElement("select",{className:"form-control",value:c,size:17,style:{maxHeight:"200px"},onChange:function(e){return f(parseInt(e.target.value))}},t.params.map((function(e,t){var n=yt(t,e,s.paramsChanges[t],s.paramsConditions[t]);return r.createElement("option",{className:e.active?n.leftText||n.rightText?"font-weight-bold":"":"text-muted",key:t,value:t},n.textName,n.leftText," ",n.rightText)}))),r.createElement("div",{className:"mt-3"},r.createElement("div",{className:"d-flex"},r.createElement("div",{className:"mr-2"},r.createElement("label",{className:"mb-0"},"Порядок показа: ",s.showingOrder),r.createElement("input",{type:"range",className:"form-range w-100",min:0,max:9,value:s.showingOrder,onChange:function(e){return u(Mt(Mt({},s),{showingOrder:parseInt(e.target.value)}))}})),r.createElement("div",{className:"ml-2 d-flex align-items-center"},r.createElement("label",{className:"mb-0 mr-1"},"Приоритет:"),r.createElement("input",{className:B()("form-control w-100"),type:"number",value:s.priority,onChange:function(e){return u(Mt(Mt({},s),{priority:parseFloat(e.target.value)}))}}))))),r.createElement("div",{className:"col-6"},t.params[c]&&s.paramsConditions[c]&&r.createElement(Ft,{param:t.params[c],condition:s.paramsConditions[c],onChange:function(e){u(Mt(Mt({},s),{paramsConditions:s.paramsConditions.map((function(t,n){return n===c?e:t}))}))}}),t.params[c]&&s.paramsChanges[c]&&r.createElement(Tt,{change:s.paramsChanges[c],param:t.params[c],onChange:function(e){u(Mt(Mt({},s),{paramsChanges:s.paramsChanges.map((function(t,n){return n===c?e:t}))}))},paramsActive:t.params}))),r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"ml-3 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:s.alwaysShow,onChange:function(e){return u(Mt(Mt({},s),{alwaysShow:e.target.checked}))}}),"Всегда показывать")),r.createElement("div",{className:"ml-3 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:s.dayPassed,onChange:function(e){return u(Mt(Mt({},s),{dayPassed:e.target.checked}))}}),"Прошел один день")),r.createElement("div",{className:"ml-4 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:0===s.jumpingCountLimit,onChange:function(e){return u(Mt(Mt({},s),{jumpingCountLimit:e.target.checked?0:1}))}}),"Неограниченная проходимость")),s.jumpingCountLimit>0&&r.createElement("input",{className:B()("form-control ml-2"),type:"number",value:s.jumpingCountLimit,onChange:function(e){return u(Mt(Mt({},s),{jumpingCountLimit:parseInt(e.target.value)}))}}),r.createElement("button",{className:"btn btn-primary ml-auto mr-2",disabled:!m&&!o,onClick:function(){return i(s)}},"Сохранить"),r.createElement("button",{className:"btn btn-danger",onClick:v},h?"Точно закрыть?":"Закрыть")))):null}var Bt=n(438),Ut=n(199),qt=function(){return(qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Vt=[30,22,15,10],Wt=[24,18,12,8];function Ht(e){var t=e.quest,n=e.setQuest,i=["Мелкий","Средний","Крупный","Самый крупный"];return r.createElement("div",{className:"p-4"},r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"text-center"},"По ширине"),r.createElement("div",{className:"d-flex align-items-center justify-content-center mb-2"},Vt.map((function(e,o){return r.createElement("label",{key:o,className:"form-check-label ml-4 mr-4"},r.createElement("input",{className:"form-check-input",type:"radio",checked:t.widthSize===e,onChange:function(){return n(qt(qt({},t),{widthSize:e}))}}),i[o])})))),r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"text-center"},"По высоте"),r.createElement("div",{className:"d-flex align-items-center justify-content-center mb-2"},Wt.map((function(e,o){return r.createElement("label",{key:o,className:"form-check-label ml-4 mr-4"},r.createElement("input",{className:"form-check-input",type:"radio",checked:t.heightSize===e,onChange:function(){return n(qt(qt({},t),{heightSize:e}))}}),i[o])})))))}var Yt=function(){return(Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Gt(e){var t=e.quest,n=e.setQuest;return r.createElement("div",{className:"p-4"},r.createElement("div",{className:"ml-3"},"Проходимость переходов по-умолчанию"),r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"ml-4 form-check form-check-inline"},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:0===t.defaultJumpCountLimit,onChange:function(e){return n(Yt(Yt({},t),{defaultJumpCountLimit:e.target.checked?0:1}))}}),"Неограниченная")),t.defaultJumpCountLimit>0&&r.createElement("input",{className:B()("form-control ml-2"),type:"number",value:t.defaultJumpCountLimit,onChange:function(e){return n(Yt(Yt({},t),{defaultJumpCountLimit:parseInt(e.target.value)}))}})))}var Qt=function(){return(Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function $t(e){var t=e.quest,n=e.setQuest,i=e.labels,o=e.questKey;return r.createElement("div",{className:"d-flex justify-content-center flex-wrap"},i.map((function(e,i){if(null===e)return null;var a=!!(t[o]&1<<i);return r.createElement("div",{className:"ml-3 form-check form-check-inline",key:i},r.createElement("label",{className:"form-check-label"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:a,onChange:function(){var e,r=t[o],s=a?r-(1<<i):r+(1<<i);n(Qt(Qt({},t),((e={})[o]=s,e)))}}),e))})))}function Xt(e){var t=e.quest,n=e.setQuest;return r.createElement(r.Fragment,null,r.createElement("div",{className:"row mt-3 mb-3"},r.createElement("div",{className:"col-3"},r.createElement("div",{className:"text-center"},"Раса, дающаяя квест"),r.createElement($t,{quest:t,setQuest:n,questKey:"givingRace",labels:["Малоки","Пеленги","Люди","Фэяне","Гаальцы"]})),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"text-center"},"Раса игрока"),r.createElement($t,{quest:t,setQuest:n,questKey:"playerRace",labels:["Малок","Пеленг","Человек","Фэянин","Гаалец"]})),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"text-center"},"Статус игрока"),r.createElement($t,{quest:t,setQuest:n,questKey:"playerCareer",labels:["Торговец","Пират","Воин"]})),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"text-center"},"На чьей планете выполняется"),r.createElement($t,{quest:t,setQuest:n,questKey:"planetRace",labels:["Малоки","Пеленги","Люди","Фэяне","Гаальцы",null,"Незаселённая"]}))),r.createElement("div",{className:"row mb-3"},r.createElement("div",{className:"col-4"},r.createElement("div",{className:"mr-2"},r.createElement("label",{className:"mb-0"},r.createElement("span",null,"Отношение после выполнения: "),r.createElement("span",{className:t.reputationChange>0?"text-success":t.reputationChange<0?"text-danger":""},t.reputationChange>0?"+":"",t.reputationChange,"%")),r.createElement("input",{type:"range",className:"form-range w-100",min:-100,max:100,value:t.reputationChange,onChange:function(e){return n(Qt(Qt({},t),{reputationChange:parseInt(e.target.value)}))}}))),r.createElement("div",{className:"col-4"},r.createElement("div",{className:"mr-2"},r.createElement("label",{className:"mb-0"},r.createElement("span",null,"Сложность квеста: "),r.createElement("span",null,t.hardness,"%")),r.createElement("input",{type:"range",className:"form-range w-100",min:0,max:100,value:t.hardness,onChange:function(e){return n(Qt(Qt({},t),{hardness:parseInt(e.target.value)}))}}))),r.createElement("div",{className:"col-4 d-flex align-items-center"},r.createElement("div",{className:"ml-3 form-check form-check-inline"},r.createElement("label",{className:"form-check-label",title:"Не нужно лететь обратно на планету"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:t.whenDone===ze.l.OnFinish,onChange:function(e){return n(Qt(Qt({},t),{whenDone:t.whenDone===ze.l.OnReturn?ze.l.OnFinish:ze.l.OnReturn}))}}),"Завершение сразу после выполнения")))),r.createElement("div",{className:"text-center"},r.createElement("label",{className:"mr-3"},"Обязательные: ","<ToPlanet> <ToStar> (<Date> или <Day>)"),r.createElement("label",null,"Необязательные: ","<Ranger> <Money> <FromPlanet> <FromStar>")),r.createElement("div",{className:"row mb-3"},r.createElement("div",{className:"col-6"},r.createElement("textarea",{style:{resize:"none",maxHeight:"200px"},className:B()("form-control h-100"),rows:12,value:t.taskText,onChange:function(e){n(Qt(Qt({},t),{taskText:e.target.value}))},placeholder:"Текст задания"})),r.createElement("div",{className:"col-6"},r.createElement("textarea",{style:{resize:"none",maxHeight:"200px"},className:B()("form-control h-100"),rows:12,value:t.successText,onChange:function(e){n(Qt(Qt({},t),{successText:e.target.value}))},placeholder:"Текст поздравления"}))))}var Kt=function(){return(Kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Jt(e){var t=e.quest,n=e.setQuest;return r.createElement("div",{className:"p-4"},t.header===ze.c||t.header===ze.d||t.header===ze.e||t.header===ze.f?r.createElement("div",{className:""},r.createElement("p",null,"Этот файл был импортирован из .qm квеста и сейчас имеет нестандартный формат вида .qm с картинками."),r.createElement("p",null,"Этот нестандартный формат нужен для того, чтобы плеер мог понять когда нужно включать старое поведение TGE (версии 4). На некоторых квестах это отличие может быть критично, допустим TGE4 позволяет продолжить игру если параметр достиг критичного значения но с локации есть переходы которые допускают критичное значение параметра."),r.createElement("p",null,"Если вы хотите сохранить .qmm файл чтобы подключить его к игре, то нужно преобразовать его в .qmm. Это действие необратимо, и после этого этот плеер будет играть его как играет TGE 5."),r.createElement("div",null,r.createElement("button",{className:"btn btn-warning",onClick:function(){return n(Kt(Kt({},t),{header:ze.b}))}},"Преобразовать"))):t.header===ze.a||t.header===ze.b?r.createElement("div",{className:""},"Этот файл полностью совместим с форматом оригинальной игры."):Object(w.a)(t.header))}var Zt=function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},en=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},tn=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function nn(e){var t=e.className,n=e.value,i=e.onChange,o=e.disabled,a=n.replace(/^\[/,"").replace(/\]$/,""),s=xt(n,[]);return r.createElement("input",{disabled:o,className:B()(t,s?"is-invalid":""),value:a,onChange:function(e){e.target.value?i("["+e.target.value+"]"):i("[0]")},title:(s?s+"\n":"")+"Пример: 1; 2; 4; [22..55]; 70"})}function rn(e){var t=e.param,n=e.setParam;return r.createElement(r.Fragment,null,r.createElement("div",{style:{overflowY:"scroll",height:400}},r.createElement("div",{className:"d-flex align-items-center mb-2"},r.createElement("div",{className:"text-center mr-3",style:{width:"15%"}},"От"),r.createElement("div",{className:"text-center mr-3",style:{width:"15%"}},"До"),r.createElement("div",{className:"text-center mr-2 ml-auto",style:{width:"100%"}},"Текст"),r.createElement("div",{style:{width:16}})),t.showingInfo.map((function(e,i){var o=0===i,a=i===t.showingInfo.length-1,s=i>0?t.showingInfo[i-1]:null,u=i<t.showingInfo.length-1?t.showingInfo[i+1]:null,l=function(e){n(Zt(Zt({},t),{showingInfo:t.showingInfo.map((function(t,n){return n===i?e:t}))}))};return r.createElement("div",{key:i,className:"d-flex align-items-center mb-2"},r.createElement("input",{disabled:!t.active||o,className:"form-control mr-3",style:{width:"15%"},type:"number",value:e.from,min:s?s.to+1:t.min,max:e.to,onChange:function(t){return l(Zt(Zt({},e),{from:parseInt(t.target.value)}))}}),r.createElement("input",{disabled:!t.active||a,className:"form-control mr-3",style:{width:"15%"},type:"number",min:e.from,max:u?u.from-1:t.max,value:e.to,onChange:function(t){return l(Zt(Zt({},e),{to:parseInt(t.target.value)}))}}),r.createElement("input",{disabled:!t.active,className:"form-control w-100 mr-2",value:e.str,onChange:function(t){return l(Zt(Zt({},e),{str:t.target.value}))}}),r.createElement("i",{className:B()("fa fa-times ml-auto mr-2",t.showingInfo.length>1?"":"text-muted"),style:{cursor:t.active?t.showingInfo.length>1?"pointer":"not-allowed":""},role:"button","aria-disabled":!t.active||t.showingInfo.length<=1,"aria-label":"Удалить диапазон",onClick:function(){if(t.active){var e=t.showingInfo.filter((function(e,t){return t!==i})),r=e.map((function(t,n){var r=n<e.length-1?e[n+1]:null;return r&&t.to+1<r.from?{from:t.from,to:r.from-1,str:t.str}:t})).map((function(n,r){return{from:0===r?t.min:n.from,to:r===e.length-1?t.max:n.to,str:n.str}}));n(Zt(Zt({},t),{showingInfo:r}))}}}))})),r.createElement("div",{className:"d-flex mt-4 pb-3"},r.createElement("button",{className:"ml-auto btn btn-light",disabled:t.max-t.min<t.showingInfo.length||!t.active,onClick:function(){n(Zt(Zt({},t),{showingInfo:tn(tn([],en(t.showingInfo)),[{from:t.max,to:t.max,str:"<>"}])}))}},"+ добавить диапазон"))))}function on(e){var t=e.param,n=e.setParam,i=e.quest;return r.createElement("div",null,r.createElement("div",{className:"d-flex align-items-center justify-content-between mb-2"},r.createElement("label",{className:"form-check-label ml-4"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:t.active,onChange:function(e){return n(Zt(Zt({},t),{active:!t.active}))}}),"Включен"),r.createElement("label",{className:"form-check-label ml-4"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:t.isMoney,onChange:function(e){if(!t.isMoney){var r=i.params.findIndex((function(e,t){return e.isMoney}));if(-1!==r)return void Object(ut.b)("Параметр [p"+(r+1)+"] уже является деньгами игрока")}n(Zt(Zt({},t),{isMoney:!t.isMoney}))},disabled:!t.active}),"Деньги игрока"),r.createElement("label",{className:"form-check-label ml-4"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:t.showWhenZero,onChange:function(e){return n(Zt(Zt({},t),{showWhenZero:!t.showWhenZero}))},disabled:!t.active}),"Показывать при нуле")),r.createElement("div",{className:"d-flex align-items-center mb-2"},r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Рабочее название"),r.createElement("input",{disabled:!t.active,className:"form-control w-100 ml-2",value:t.name,onChange:function(e){return n(Zt(Zt({},t),{name:e.target.value}))}})),r.createElement("div",{className:"d-flex align-items-center justify-content-around mb-2"},["Обычный","Провальный","Успешный","Смертельный"].map((function(e,i){return r.createElement("label",{key:i,className:"form-check-label ml-4"},r.createElement("input",{className:"form-check-input",type:"radio",disabled:!t.active,checked:t.type===i,onChange:function(){return n(Zt(Zt({},t),{type:i}))}}),e)}))),r.createElement("div",{className:"d-flex align-items-center justify-content-around mb-2 mt-3"},r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Мин"),r.createElement("input",{disabled:!t.active,className:"form-control ml-2 mr-3",type:"number",value:t.min,onChange:function(e){return n(Zt(Zt({},t),{min:parseInt(e.target.value)}))}}),r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Макс"),r.createElement("input",{disabled:!t.active,className:"form-control ml-2 mr-3",type:"number",value:t.max,onChange:function(e){return n(Zt(Zt({},t),{max:parseInt(e.target.value)}))}})),r.createElement("div",{className:"d-flex align-items-center mb-2"},r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Стартовое значение"),r.createElement(nn,{disabled:!t.active,className:"form-control w-100 ml-2",value:t.starting,onChange:function(e){return n(Zt(Zt({},t),{starting:e}))}})),t.type!==ze.i.Обычный?r.createElement(r.Fragment,null,r.createElement("div",{className:"d-flex align-items-center justify-content-around mt-3 mb-2"},r.createElement("label",{className:"form-check-label ml-4 mr-2"},r.createElement("input",{className:"form-check-input",type:"radio",disabled:!t.active,checked:t.critType===ze.h.Минимум,onChange:function(e){return n(Zt(Zt({},t),{critType:ze.h.Минимум}))}}),"Критичный минимум"),r.createElement("label",{className:"form-check-label ml-4"},r.createElement("input",{className:"form-check-input",type:"radio",disabled:!t.active,checked:t.critType===ze.h.Максимум,onChange:function(e){return n(Zt(Zt({},t),{critType:ze.h.Максимум}))}}),"Критичный максимум")),r.createElement("textarea",{style:{resize:"none"},className:B()("form-control h-100"),rows:4,disabled:!t.active,value:t.critValueString,onChange:function(e){n(Zt(Zt({},t),{critValueString:e.target.value}))}}),r.createElement(Ct,{disabled:!t.active,media:t,setMedia:function(e){return n(Zt(Zt({},t),{img:e.img,track:e.track,sound:e.sound}))}})):null)}function an(e){var t=e.quest,n=e.setQuest,i=en(r.useState(0),2),o=i[0],a=i[1],s=en(r.useState("basic"),2),u=s[0],l=s[1];return r.createElement(r.Fragment,null,r.createElement("div",{className:"row mt-3"},r.createElement("div",{className:"col-6"},r.createElement("select",{className:"form-control",value:o,size:12,onChange:function(e){return a(parseInt(e.target.value))}},t.params.map((function(e,t){var n="[p"+(t+1)+"] ("+e.name+")";return r.createElement("option",{className:e.active?"":"text-muted",value:t,key:t},n)}))),r.createElement("div",{className:"mt-2 d-flex justify-content-center"},r.createElement("button",{className:"btn btn-danger mr-2",disabled:0===t.params.length||o!==t.paramsCount-1,onClick:function(){n(function(e){if(0===e.paramsCount)throw new Error("Нет параметоров вообще");return Be(Be({},e),{paramsCount:e.paramsCount-1,params:e.params.slice(0,e.paramsCount-1),locations:e.locations.map((function(t){return Be(Be({},t),{paramsChanges:t.paramsChanges.slice(0,e.paramsCount-1)})})),jumps:e.jumps.map((function(t){return Be(Be({},t),{paramsConditions:t.paramsConditions.slice(0,e.paramsCount-1),paramsChanges:t.paramsChanges.slice(0,e.paramsCount-1)})}))})}(t)),a(o-1)},title:0===t.params.length?"Нет параметров":o!==t.paramsCount-1?"Удалить можно только последний параметр":""},"Удалить параметр"),r.createElement("button",{className:"btn btn-light mr-2",onClick:function(){n(function(e){var t={active:!0,min:0,max:100,type:ze.i.Обычный,showWhenZero:!0,critType:ze.h.Минимум,isMoney:!1,name:"Параметр "+(e.paramsCount+1),starting:"[0]",critValueString:"Сообщение достижения критического значения параметром "+(e.paramsCount+1),showingInfo:[{from:0,to:100,str:"Параметр "+(e.paramsCount+1)+": <>"}],img:void 0,sound:void 0,track:void 0},n=function(){return{change:0,isChangePercentage:!1,isChangeValue:!1,isChangeFormula:!1,changingFormula:"",showingType:ze.k.НеТрогать,critText:"",img:void 0,sound:void 0,track:void 0}};return Be(Be({},e),{paramsCount:e.paramsCount+1,params:qe(qe([],Ue(e.params)),[t]),locations:e.locations.map((function(e){return Be(Be({},e),{paramsChanges:qe(qe([],Ue(e.paramsChanges)),[n()])})})),jumps:e.jumps.map((function(e){return Be(Be({},e),{paramsChanges:qe(qe([],Ue(e.paramsChanges)),[n()]),paramsConditions:qe(qe([],Ue(e.paramsConditions)),[{mustFrom:0,mustTo:100,mustEqualValues:[],mustEqualValuesEqual:!0,mustModValues:[],mustModValuesMod:!0}])})}))})}(t)),a(t.paramsCount)}},"Добавить параметр"))),r.createElement("div",{className:"col-6"},t.params[o]&&r.createElement(r.Fragment,null,r.createElement(le.a,{tabs:!0},r.createElement(ce.a,null,r.createElement(fe.a,{className:B()({active:"basic"===u}),onClick:function(){return l("basic")}},"Основные характеристики")),r.createElement(ce.a,null,r.createElement(fe.a,{className:B()({active:"strings"===u}),onClick:function(){return l("strings")}},"Формат вывода при игре"))),r.createElement(Bt.a,{activeTab:u},r.createElement(Ut.a,{tabId:"basic",className:"pt-2"},r.createElement(on,{param:t.params[o],setParam:function(e){n(function(e,t,n){return Be(Be({},e),{params:e.params.map((function(e,r){return r===t?n:e})),jumps:e.jumps.map((function(r){return Be(Be({},r),{paramsConditions:r.paramsConditions.map((function(r,i){return i===t?Be(Be({},r),{mustFrom:e.params[t].min===r.mustFrom?n.min:Math.max(r.mustFrom,n.min),mustTo:e.params[t].max===r.mustTo?n.max:Math.min(r.mustTo,n.max)}):r}))})}))})}(t,o,e))},quest:t})),r.createElement(Ut.a,{tabId:"strings",className:"pt-2"},r.createElement(rn,{param:t.params[o],setParam:function(e){n(Zt(Zt({},t),{params:t.params.map((function(t,n){return n===o?e:t}))}))}})))))))}var sn=function(){return(sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},un=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ln=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function cn(e){var t=e.quest,n=e.setQuest,i=["Money","Date"];return r.createElement("div",{className:"p-4"},ln(ln([],un(["Ranger","ToPlanet","ToStar","FromPlanet","FromStar"])),un(i)).map((function(e){return r.createElement("div",{key:e,className:"d-flex align-items-center mb-2"},r.createElement("label",{className:"form-check-label "+(i.find((function(t){return t===e}))?"text-muted":""),style:{flexShrink:0}},"<",e,">"),r.createElement("input",{className:"form-control ml-2",value:t.strings[e],onChange:function(r){var i;return n(sn(sn({},t),{strings:sn(sn({},t.strings),(i={},i[e]=r.target.value,i))}))}}))})))}var fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function dn(e){var t=e.quest,n=e.setQuest;return r.createElement("div",{className:"p-4"},r.createElement("div",{className:"d-flex align-items-center justify-content-around mb-4 mt-3"},r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Глав. версия"),r.createElement("input",{className:"form-control ml-2 mr-3",type:"number",value:t.majorVersion,onChange:function(e){return n(fn(fn({},t),{majorVersion:parseInt(e.target.value)}))}}),r.createElement("label",{className:"form-check-label",style:{flexShrink:0}},"Пром. версия"),r.createElement("input",{className:"form-control ml-2 mr-3",type:"number",value:t.minorVersion,onChange:function(e){return n(fn(fn({},t),{minorVersion:parseInt(e.target.value)}))}})),r.createElement("div",null,r.createElement("label",null,"Комментарий"),r.createElement("textarea",{style:{resize:"none"},className:B()("form-control"),rows:12,value:t.changeLogString,onChange:function(e){n(fn(fn({},t),{changeLogString:e.target.value}))},placeholder:"Комментарии к версии"})))}var hn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},pn=["main","params","strings","grid","jumps","version","compatability"];function mn(e){var t=e.initialQuest,n=e.onClose,i=e.enableSaveOnNoChanges,o=hn(r.useState(t),2),a=o[0],s=o[1];r.useEffect((function(){s(t)}),[t]);var u=hn(r.useState(!1),2),l=u[0],c=u[1];r.useEffect((function(){if(l){var e=window.setTimeout((function(){return c(!1)}),5e3);return function(){return window.clearTimeout(e)}}}));var f=a!==t,d=r.useCallback((function(){f?l?n(void 0):c(!0):n(void 0)}),[f,l]);Object(jt.a)((function(e){"Escape"===e.key&&d()}));var h=hn(r.useState("main"),2),p=h[0],m=h[1],v={main:"Основные",params:"Параметры",strings:"Строки",grid:"Сетка",jumps:"Переходы",version:"Версия",compatability:"Совместимость"};return r.createElement(_t.a,{wide:!0,position:"absolute",headerText:"Общая информация по квесту",onClose:d},r.createElement("div",null,r.createElement("div",null,r.createElement(le.a,{tabs:!0},pn.map((function(e){return r.createElement(ce.a,{key:e}," ",r.createElement(fe.a,{className:B()({active:p===e}),onClick:function(){return m(e)}},v[e]))}))),r.createElement(Bt.a,{activeTab:p},r.createElement(Ut.a,{tabId:"main"},r.createElement(Xt,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"params"},r.createElement(an,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"strings"},r.createElement(cn,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"grid"},r.createElement(Ht,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"jumps"},r.createElement(Gt,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"version"},r.createElement(dn,{quest:a,setQuest:s})),r.createElement(Ut.a,{tabId:"compatability"},r.createElement(Jt,{quest:a,setQuest:s})))),r.createElement("div",{className:"d-flex"},r.createElement("div",null),r.createElement("button",{className:"btn btn-primary ml-auto mr-2",disabled:!f&&!i,onClick:function(){return n(a)}},"Сохранить"),r.createElement("button",{className:"btn btn-danger",onClick:d},l?"Точно закрыть?":"Закрыть"))))}var vn=n(110),yn=n(108),gn=n(193),bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_n=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},wn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},En=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function xn(e){return _n(this,void 0,void 0,(function(){return wn(this,(function(t){return[2,new Promise((function(t,n){var r=e.transaction(["autosave"],"readonly").objectStore("autosave").openKeyCursor(null,"prev");r.onsuccess=function(e){r.result&&"number"==typeof r.result.key?t(r.result.key):t(null)},r.onerror=function(e){var t;return n(new Error(null===(t=r.error)||void 0===t?void 0:t.message))}}))]}))}))}function kn(e,t){return _n(this,void 0,Promise,(function(){return wn(this,(function(n){return[2,new Promise((function(n,r){var i=e.transaction(["autosave"],"readonly").objectStore("autosave").get(t);i.onsuccess=function(){var e=i.result;n(e||null)},i.onerror=function(e){var t;return r(new Error(null===(t=i.error)||void 0===t?void 0:t.message))}}))]}))}))}function Sn(){var e=this,t=En(r.useState(void 0),2),n=t[0],i=t[1],o=En(r.useState(),2),a=o[0],s=o[1];r.useEffect((function(){if("undefined"!=typeof BroadcastChannel){var e=new BroadcastChannel("space-ranger-editor-questupdated");return s(e),function(){e.close()}}}),[]);var u=En(r.useState(null),2),l=u[0],c=u[1],f=r.useCallback((function(){var e=Object(ze.m)(yn.a);c({quest:e,undoQuest:null,redoQuest:null,currentIndex:1})}),[]);r.useEffect((function(){(function(){return _n(this,void 0,void 0,(function(){return wn(this,(function(e){return[2,new Promise((function(e,t){var n=window.indexedDB.open("space-rangers-editor",7);console.info("idb opened"),n.onerror=function(e){var r;t(new Error(null===(r=n.error)||void 0===r?void 0:r.message))},n.onsuccess=function(t){return e(n.result)},n.onupgradeneeded=function(e){console.info("onupgradeneeded");var t=n.result;console.info("Old version="+e.oldVersion),e.oldVersion<7&&(console.info("Creating autosave store"),t.createObjectStore("autosave",{autoIncrement:!1}))}}))]}))}))})().then((function(e){return i(e)})).catch((function(e){f(),Object(ut.b)("Failed to init database: "+e.message)}))}),[f]);var d=r.useCallback((function(e){c({currentIndex:l?l.currentIndex+1:1,undoQuest:l?l.quest:null,redoQuest:null,quest:e}),n?l?function(e,t,n){return _n(this,void 0,void 0,(function(){var r,i,o,a,s,u;return wn(this,(function(l){switch(l.label){case 0:return r=e.transaction(["autosave"],"readwrite"),i=r.objectStore("autosave"),o=i.delete(IDBKeyRange.lowerBound(n)),[4,new Promise((function(e,t){o.onsuccess=function(){return e()},o.onerror=function(){var e;return t(new Error(null===(e=o.error)||void 0===e?void 0:e.message))}}))];case 1:return l.sent(),a=i.put(t,n),[4,new Promise((function(e,t){a.onsuccess=function(){return e()},a.onerror=function(){var e;return t(new Error(null===(e=a.error)||void 0===e?void 0:e.message))}}))];case 2:return l.sent(),(s=n-500)>0?(u=i.delete(IDBKeyRange.upperBound(s)),[4,new Promise((function(e,t){u.onsuccess=function(){return e()},u.onerror=function(){var e;return t(new Error(null===(e=u.error)||void 0===e?void 0:e.message))}}))]):[3,4];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}(n,e,l.currentIndex+1).then((function(){a?a.postMessage(""):Object(ut.b)("No broadcast channel to send message")})).catch((function(e){return Object(ut.b)("Failed to save quest: "+e.message+"!")})):Object(ut.b)("No previous state to save quest"):Object(ut.b)("No database to save quest")}),[n,l,a]),h=r.useCallback((function(){console.info("Editor startup loading dbIsReady="+n),n&&_n(e,void 0,void 0,(function(){var e,t,r,i;return wn(this,(function(o){switch(o.label){case 0:return[4,xn(n)];case 1:return(e=o.sent())?[4,kn(n,e)]:(t=Object(ze.m)(gn.a),c({quest:t,undoQuest:null,redoQuest:null,currentIndex:1}),[2]);case 2:return r=o.sent(),[4,kn(n,e-1)];case 3:return i=o.sent(),r?(c({quest:r,undoQuest:i,redoQuest:null,currentIndex:e}),[2]):(f(),Object(ut.b)("Could not read saved quest at index "+e),[2])}}))})).catch((function(e){f(),Object(ut.b)("Failed to read from database: "+e.message)}))}),[n,f]);r.useEffect((function(){h()}),[h]),r.useEffect((function(){if(a)return a.onmessage=function(){h()},function(){a.onmessage=null}}),[h,a]);var p=r.useMemo((function(){if(!n||!l||!l.undoQuest)return null;var e=l.undoQuest;return function(){c({quest:e,undoQuest:null,redoQuest:l.quest,currentIndex:l.currentIndex-1}),kn(n,l.currentIndex-2).then((function(e){c((function(t){return t?bn(bn({},t),{undoQuest:e}):null}))})).catch((function(e){return Object(ut.b)("Failed to read previous quest: "+e.message)}))}}),[n,l]),m=r.useMemo((function(){if(!n||!l||!l.redoQuest)return null;var e=l.redoQuest;return function(){c({quest:e,undoQuest:l.quest,redoQuest:null,currentIndex:l.currentIndex+1}),kn(n,l.currentIndex+2).then((function(e){c((function(t){return t?bn(bn({},t),{redoQuest:e}):null}))})).catch((function(e){return Object(ut.b)("Failed to read quest to next redo: "+e.message)}))}}),[n,l]);return{quest:null==l?void 0:l.quest,setQuest:d,undo:p,redo:m}}var Cn=n(194);function On(e){var t=e.onClose;return Object(jt.a)((function(e){"Escape"===e.key&&t()})),r.createElement(_t.a,{wide:!1,position:"absolute",headerText:"Справка",onClose:function(){return t()}},r.createElement("div",{className:"text-center p-4"},r.createElement("div",{className:"mb-2"},"Этот редактор является веб-версией редактора TGE"),r.createElement("div",{className:"mb-2"},"Как и плеер работает без интернета"),r.createElement("div",{className:"mb-2"},"Руководство по TGE можно поискать"," ",r.createElement("a",{target:"_blank",href:"https://www.google.com/search?q=TGE+%D0%BA%D0%BE%D1%81%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5+%D1%80%D0%B5%D0%B9%D0%BD%D0%B4%D0%B6%D0%B5%D1%80%D1%8B+%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE"},"допустим так")," ","или"," ",r.createElement("a",{target:"_blank",href:"https://www.google.com/search?q=%D0%BA%D0%BE%D1%81%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5+%D1%80%D0%B5%D0%B9%D0%BD%D0%B4%D0%B6%D0%B5%D1%80%D1%8B+%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B+%D0%B4%D0%BB%D1%8F+%D0%BC%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8+%D0%B8%D0%B3%D1%80%D1%8B+(%D1%83%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B)"},"так")),r.createElement("div",{className:"mb-2"},"Либо"," ",r.createElement("a",{target:"_blank",href:"http://www.mediafire.com/file/n5znwnmwnyj"},"скачать")," ","архив с TGE версии 4.2.5, в архиве будет документация по TGE")))}var Tn=n(109);var Nn=function(){return(Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Pn(e){var t=e.quest,n=e.setQuest,i=jn(r.useState(!1),2),o=i[0],a=i[1],s=jn(r.useState(t.filename),2),u=s[0],l=s[1];r.useEffect((function(){l(t.filename),a(!1)}),[t.filename]);var c=r.useCallback((function(){n(Nn(Nn({},t),{filename:u})),a(!1)}),[u]);return Object(jt.a)((function(e){"Escape"===e.key&&a(!1)})),o?r.createElement("input",{type:"text",className:"form-control",value:u,onChange:function(e){return l(e.target.value)},onBlur:c,onKeyPress:function(e){console.info(e.key),"Enter"===e.key&&c()}}):r.createElement("label",{className:B()("mb-0 ml-2 mr-2",t.filename?"":"text-muted"),onClick:function(){a(!0),l(t.filename)},title:"Имя файла квеста",style:{cursor:"pointer",paddingRight:10,whiteSpace:"pre"}},t.filename||"noname")}var In=n(195),Rn=function(){return(Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},An=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Dn=["select","move","newLocation","newJump","remove"];var Mn=function(e){var t=e.questsToLoad,n=e.onExit,i=e.cloudQuestProps,o=Sn(),a=o.quest,s=o.setQuest,u=o.undo,l=o.redo,c=An(r.useState("select"),2),f=c[0],d=c[1],h=An(r.useState(void 0),2),p=h[0],m=h[1],v=An(r.useState(null),2),y=v[0],g=v[1],b=r.useRef(null),_=r.useRef(null),E=r.useRef(null),x=r.useRef(null),k=r.useRef(),S=Object(jt.b)(),C=An(r.useState(1),2),O=C[0],T=C[1],N=r.useMemo((function(){if(!a)return{width:S.width,height:S.height};var e=function(e){return{width:Math.max.apply(Math,ot([e.screenSizeX],it(e.locations.map((function(e){return e.locX})))))+150,height:Math.max.apply(Math,ot([e.screenSizeY],it(e.locations.map((function(e){return e.locY})))))+150}}(a);return{width:Math.max(e.width*O,S.width),height:Math.max(e.height*O,S.height)}}),[a,S,O]),j=An(r.useState([]),2),P=j[0],I=j[1],R=An(r.useState(void 0),2),A=R[0],D=R[1],M=An(r.useState(void 0),2),L=M[0],F=M[1],z=r.useCallback((function(e){I([]),D(void 0),F(void 0),s(e)}),[s]);r.useEffect((function(){var e=_.current;if(e&&!y&&a){var t=at(e,a,O);I(t),console.info("Main canvas re-render")}}),[a,y,O,N]);var U=r.useCallback((function(e){var t=E.current;if(!t)throw new Error("Canvas is not defined");var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}),[]);r.useEffect((function(){if(!p&&!y&&a){var e=function(e){var t=U(e);if(L)0!==e.buttons?F(t):F(void 0);else{var n=P.find((function(e){return ct(t.x,t.y,e[0],e[1],e[2])}));D(n?{zone:n,clientX:e.clientX,clientY:e.clientY}:void 0),2!==e.buttons&&1!==e.buttons||k.current&&k.current.scrollBy(-e.movementX,-e.movementY)}};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}}),[P,L,p,y,a]),r.useEffect((function(){if(!p&&!y){var e=E.current;if(e&&a){var t=function(e){if(0===e.button){var t=U(e);if("move"===f)A&&F(t);else if("newJump"===f&&A){var n=A.zone[3];if(n){var r=function(e,t,n){return{id:Ge(e),alwaysShow:!1,dayPassed:!1,description:"",formulaToPass:"",fromLocationId:t,toLocationId:n,img:void 0,sound:void 0,track:void 0,jumpingCountLimit:e.defaultJumpCountLimit,priority:1,showingOrder:5,text:"",paramsConditions:e.params.map((function(e){return{mustEqualValues:[],mustEqualValuesEqual:!1,mustFrom:e.min,mustTo:e.max,mustModValues:[],mustModValuesMod:!1}})),paramsChanges:e.params.map((function(){return He()}))}}(a,n.id,n.id);D({zone:[A.zone[0],A.zone[1],A.zone[2],null,[r,!1,{LUT:[],startLoc:{locX:n.locX*O,locY:n.locY*O},endLoc:{locX:n.locX*O,locY:n.locY*O},startColor:[255,255,255],endColor:[0,0,255]}]],clientX:e.clientX,clientY:e.clientY}),F(t)}}}};e.addEventListener("mousedown",t);var n=function(e){var t=U(e);if(2===e.button||"select"===f)A&&(A.zone[3]?m({kind:"location",location:A.zone[3],enableSaveOnNoChanges:!1}):A.zone[4]&&m({kind:"jump",jump:A.zone[4][0],enableSaveOnNoChanges:!1}));else if("move"===f){if(A){var n=A.zone[3];if(n){var r=ft(a,t.x/O,t.y/O);(p=dt(a,r.x,r.y))?p.id!==n.id&&Object(ut.b)("Тут уже есть локация!"):e.ctrlKey?z(function(e,t,n,r){var i=Be(Be({},t),{id:Ye(e),locX:n,locY:r});return Be(Be({},e),{locations:qe(qe([],Ue(e.locations)),[i])})}(a,n,r.x,r.y)):z(function(e){var t=Math.floor(e.screenSizeX/e.widthSize),n=Math.floor(e.screenSizeY/e.heightSize),r=Math.floor(t/2),i=Math.floor(n/2),o=e.locations.some((function(e){return e.locX<=r})),a=e.locations.some((function(e){return e.locY<=i}));return o||a?lt(lt({},e),{locations:e.locations.map((function(e){return lt(lt({},e),{locX:e.locX+t,locY:e.locY+n})}))}):e}(Ve(a,Rn(Rn({},n),{locX:r.x,locY:r.y}))))}var i=A.zone[4];if(i){var o=An(i,2),s=o[0],u=o[1],l=a.locations.find((function(e){return ct(t.x/O,t.y/O,e.locX,e.locY,17)}));if(l){var c=u?l.id:s.fromLocationId,d=u?s.toLocationId:l.id;e.ctrlKey?z(function(e,t,n,r){var i=Be(Be({},t),{id:Ge(e),fromLocationId:n,toLocationId:r});return Be(Be({},e),{jumps:qe(qe([],Ue(e.jumps)),[i])})}(a,s,c,d)):z(We(a,Rn(Rn({},s),{fromLocationId:c,toLocationId:d})))}else Object(ut.b)("Тут нет локации!")}}D(void 0)}else if("newJump"===f){if(A&&A.zone[4]){var h=a.locations.find((function(e){return ct(t.x/O,t.y/O,e.locX,e.locY,17)}));if(h){s=Rn(Rn({},A.zone[4][0]),{toLocationId:h.id});m({kind:"jump",jump:s,enableSaveOnNoChanges:!0})}else Object(ut.b)("Тут нет локации!")}D(void 0)}else if("newLocation"===f){var p;r=ft(a,t.x/O,t.y/O);if(p=dt(a,r.x,r.y))Object(ut.b)("Тут уже есть локация!");else{var v=0===a.locations.length,y=function(e,t,n,r){return{id:Ye(e),dayPassed:!1,isStarting:r||!1,isSuccess:!1,isEmpty:!1,isFaily:!1,isFailyDeadly:!1,isTextByFormula:!1,locX:t,locY:n,maxVisits:0,texts:[""],media:[{img:void 0,sound:void 0,track:void 0}],textSelectFormula:"",paramsChanges:e.params.map((function(){return He()}))}}(a,r.x,r.y,v);m({kind:"location",location:y,enableSaveOnNoChanges:!0})}}else if("remove"===f){if(A&&A.zone[3]){var g=A.zone[3];z(function(e,t){return Be(Be({},e),{locations:e.locations.filter((function(e){return e.id!==t})),jumps:e.jumps.filter((function(e){return e.fromLocationId!==t&&e.toLocationId!==t}))})}(a,g.id))}if(A&&A.zone[4]){var b=A.zone[4][0];z(function(e,t){return Be(Be({},e),{jumps:e.jumps.filter((function(e){return e.id!==t}))})}(a,b.id))}}F(void 0)};return e.addEventListener("mouseup",n),function(){e.removeEventListener("mouseup",n),e.removeEventListener("mousedown",t)}}}}),[f,A,p,U,y,O]),r.useEffect((function(){var e=x.current;e&&(y||function(e,t,n,r){if(e.clearRect(0,0,e.canvas.width,e.canvas.height),t){var i=t.zone[3];i&&(e.setLineDash(n?[2,2]:[]),e.strokeStyle="black",e.lineWidth=2,e.fillStyle="none",e.beginPath(),e.arc(i.locX*r,i.locY*r,7,0,2*Math.PI),e.stroke(),e.setLineDash([]),n&&(e.strokeStyle="black",e.lineWidth=2,e.fillStyle="none",e.beginPath(),e.arc(n.x,n.y,7,0,2*Math.PI),e.stroke()));var o=t.zone[4];if(o){e.setLineDash(n?[5,2]:[]);var a=o[2].LUT,s=o[2].startColor,u=o[2].endColor;e.lineWidth=4;for(var l=1;l<a.length;l++)e.beginPath(),e.moveTo(a[l-1].x,a[l-1].y),e.strokeStyle=Qe($e(s,u,l/a.length)),e.lineTo(a[l].x,a[l].y),e.stroke();if(e.setLineDash([]),e.lineWidth=4,e.strokeStyle=Qe(u),a.length>0&&tt(e,a[a.length-1].x,a[a.length-1].y,o[2].endLoc.locX,o[2].endLoc.locY,24),n){e.strokeStyle="black",e.lineWidth=1,e.fillStyle="none",e.beginPath();var c=o[1],f=c?n.x:o[2].startLoc.locX,d=c?n.y:o[2].startLoc.locY;e.moveTo(f,d);var h=c?o[2].endLoc.locX:n.x,p=c?o[2].endLoc.locY:n.y;e.lineTo(h,p),e.stroke(),tt(e,h,p,h-f+h,p-d+p,24)}}}}(e,A,L,O))}),[A,L,y,O]);var q=r.useCallback((function(e){p||y||("1"===e.key?d("select"):"2"===e.key?d("move"):"3"===e.key?d("newLocation"):"4"===e.key?d("newJump"):"5"===e.key&&d("remove"),"z"===e.key&&(e.ctrlKey||e.metaKey)&&u&&u(),"Z"===e.key&&(e.ctrlKey||e.metaKey)&&l&&l())}),[p,y,u,l]);return Object(jt.a)(q),a?y?r.createElement(vn.a,{quest:a,gameState:y.gameState,player:Rn(Rn({},a.strings),{lang:"rus",allowBackButton:!0,Player:a.strings.Ranger}),setGameState:function(e){return g({gameState:e})},defaultMusicList:void 0,isMusic:!0,setIsMusic:function(){},onExit:function(){return g(null)},showTaskInfoOnQuestStart:!0}):r.createElement("div",{className:"qm-editor",style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column"}},r.createElement("div",{className:"d-flex align-items-center"},r.createElement("button",{className:B()("mr-1","btn","btn-light"),onClick:function(){var e=Object(ze.m)(yn.a);z(Rn(Rn({},e),{filename:"newquest"})),m({kind:"questsettings",enableSaveOnNoChanges:!0})},"aria-label":"Создать новый"},r.createElement("i",{className:"fa fa-file-o fa-fw",title:"Новый"})),r.createElement("button",{className:B()("mr-1","btn","btn-light"),onClick:function(){m({kind:"load"})},"aria-label":"Открыть"},r.createElement("i",{className:"fa fa-folder-open-o fa-fw",title:"Открыть"})),r.createElement("button",{className:B()("mr-3","btn","btn-light"),"aria-label":"Скачать",onClick:function(){!function(e){var t=Object(Tn.a)(e),n=new Blob([t],{type:"application/octet-stream"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e.filename?e.filename+".qmm":"quest.qmm",document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),URL.revokeObjectURL(r)}),1e3)}(a),a.header===ze.c&&Object(ut.b)("ВНИМАНИЕ: этот файл не будет читаться TGE! Чтобы это исправить зайдите в настройки квеста")}},r.createElement("i",{className:"fa fa-download fa-fw",title:"Скачать"})),r.createElement("button",{className:B()("mr-3","btn","btn-light"),"aria-label":"Загрузка и выгрузка в облако",onClick:function(){i.getMyUserId()?m({kind:"cloudquest"}):Object(ut.b)("Чтобы использовать облако нужно зайти в Firebase!")}},r.createElement("i",{className:"fa fa-cloud fa-fw",title:"Загрузка и выгрузка в облако"})),Dn.map((function(e){return r.createElement("button",{key:e,className:B()("btn",f===e?"btn-info":"btn-light"),onClick:function(){return d(e)},"aria-label":"move"===e?"Двигать (2) [Вместе с Ctrl - копировать]":"select"===e?"Выделять (1)":"newJump"===e?"Новый переход (4)":"newLocation"===e?"Новая локация (3)":"remove"===e?"Удалить (5)":Object(w.a)(e)},"move"===e?r.createElement("i",{className:"fa fa-arrows fa-fw",title:"Двигать (2) [Вместе с Ctrl - копировать]"}):"select"===e?r.createElement("i",{className:"fa fa-mouse-pointer fa-fw",title:"Выделять (1)"}):"newJump"===e?r.createElement("i",{className:"fa fa-arrow-right fa-fw",title:"Новый переход (4)"}):"newLocation"===e?r.createElement("i",{className:"fa fa-circle fa-fw",title:"Новая локация (3)"}):"remove"===e?r.createElement("i",{className:"fa fa-remove fa-fw",title:"Удалить (5)"}):Object(w.a)(e))})),r.createElement("button",{className:B()("ml-3","btn","btn-light"),onClick:function(){m({kind:"questsettings",enableSaveOnNoChanges:!1})},"aria-label":"Редактировать общую информацию по квесту"},r.createElement("i",{className:"fa fa-wrench fa-fw",title:"Редактировать общую информацию по квесту"})),r.createElement("button",{className:B()("ml-3","btn","btn-light"),onClick:function(){T(O/1.2)},"aria-label":"Масштаб уменьшить"},r.createElement("i",{className:"fa fa-search-minus fa-fw",title:"Zoom out"})),r.createElement("button",{className:B()("btn","btn-light"),onClick:function(){T(1.2*O)},"aria-label":"Масштаб увеличить"},r.createElement("i",{className:"fa fa-search-plus fa-fw",title:"Zoom in"})),r.createElement("button",{className:B()("ml-3","btn","btn-light"),onClick:u||void 0,disabled:!u,"aria-label":"Отменить (ctrl+z)"},r.createElement("i",{className:"fa fa-undo fa-fw",title:"Отменить (ctrl+z)"})),r.createElement("button",{className:B()("btn","btn-light"),onClick:l||void 0,disabled:!l,"aria-label":"Повторить (ctrl+shift+z)"},r.createElement("i",{className:"fa fa-repeat fa-fw",title:"Повторить (ctrl+shift+z)"})),r.createElement("button",{className:B()("ml-3","btn","btn-light"),onClick:function(){m({kind:"help"})},"aria-label":"Справка"},r.createElement("i",{className:"fa fa-question-circle-o fa-fw",title:"Справка"})),r.createElement("button",{className:B()("ml-3","btn","btn-light"),onClick:function(){a.locations.find((function(e){return e.isStarting}))?g({gameState:null}):Object(ut.b)("Нет начальной локации!")},"aria-label":"Играть"},r.createElement("i",{className:"fa fa-play-circle fa-fw",title:"Играть"})),r.createElement(Pn,{quest:a,setQuest:function(e){return z(Rn(Rn({},a),{filename:e.filename}))}}),r.createElement("button",{className:B()("ml-auto","btn","btn-light"),onClick:n,"aria-label":"Выход"},r.createElement("i",{className:"fa fa-sign-out fa-fw",title:"Выход"})),r.createElement("span",{className:"mx-2"})),r.createElement("div",{style:{flexGrow:100,flexShrink:100,height:100,alignSelf:"stretch",position:"relative"}},r.createElement("div",{style:{overflow:"scroll",height:"100%"},ref:function(e){return k.current=e}},r.createElement("div",{style:{position:"relative",width:N.width,height:N.height}},r.createElement("canvas",{style:{position:"absolute"},width:N.width,height:N.height,ref:function(e){if(b.current=e,e&&!_.current){var t=e.getContext("2d",{alpha:!1});_.current=t}!e&&_.current&&(_.current=null)}}),r.createElement("canvas",{style:{position:"absolute",cursor:"newLocation"===f?"url('/fontawesome_cursors/circle.svg') 12 12, crosshair":"select"!==f&&A?"move"===f?"move":"newJump"===f?"url('/fontawesome_cursors/arrow-right.svg') 12 12, e-resize":"remove"===f?"url('/fontawesome_cursors/remove.svg') 12 12, not-allowed":Object(w.a)(f):"default"},width:N.width,height:N.height,ref:function(e){if(E.current=e,e&&!x.current){var t=e.getContext("2d",{alpha:!0});x.current=t}!e&&x.current&&(x.current=null)},onContextMenu:function(e){return e.preventDefault()}}),A&&!L&&!p&&r.createElement(st,{clientX:A.clientX,clientY:A.clientY},A.zone[3]?r.createElement(bt,{quest:a,location:A.zone[3]}):A.zone[4]?r.createElement(Dt,{quest:a,jump:A.zone[4][0]}):"Unknown state"))),p?"location"===p.kind?r.createElement(At,{quest:a,initialLocation:p.location,onClose:function(e){m(void 0),e&&z(Ve(a,e))},enableSaveOnNoChanges:p.enableSaveOnNoChanges}):"jump"===p.kind?r.createElement(zt,{quest:a,initialJump:p.jump,onClose:function(e){m(void 0),e&&z(We(a,e))},enableSaveOnNoChanges:p.enableSaveOnNoChanges}):"questsettings"===p.kind?r.createElement(mn,{initialQuest:a,onClose:function(e){m(void 0),e&&z(e)},enableSaveOnNoChanges:p.enableSaveOnNoChanges}):"load"===p.kind?r.createElement(Cn.a,{onClose:function(e){m(void 0),e&&z(e)},questsToLoad:t}):"help"===p.kind?r.createElement(On,{onClose:function(){return m(void 0)}}):"cloudquest"===p.kind?r.createElement(In.a,Rn({quest:a,onClose:function(e){m(void 0),e&&z(e)}},i)):Object(w.a)(p):null),r.createElement(ut.a,null)):r.createElement("div",null,"Loading latest save...")},Ln=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Un=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};console.info("Starting the app (buildAt="+new Date("2023-08-12T18:50:17.268Z").toISOString()+")");var qn=a.a.initializeApp({apiKey:"AIzaSyBWnLHRm15oXB0cbFwU57dGPeR731Zmisg",authDomain:"test-project-5f054.firebaseapp.com",databaseURL:"https://test-project-5f054.firebaseio.com",projectId:"test-project-5f054",storageBucket:"test-project-5f054.appspot.com",messagingSenderId:"188260954291"});function Vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Ln(t,e),t.prototype.componentDidMount=function(){var e=this;Bn(e,void 0,void 0,(function(){var e,t,n,r,i=this;return Un(this,(function(o){switch(o.label){case 0:return this.loadingStage="index",[4,fetch(b.e).then((function(e){return e.json()}))];case 1:return e=o.sent(),this.loadingStage="db",[4,h(qn)];case 2:return[4,(t=o.sent()).getConfigLocal("player")];case 3:return(n=o.sent())?[3,5]:(Vn("Welcome, a new user!"),n="rus"===_.a?m.b:"eng"===_.a?m.a:Object(w.a)(_.a),[4,t.setConfigBoth("player",n)]);case 4:o.sent(),o.label=5;case 5:return[4,t.getConfigLocal("lastLocation")];case 6:return o.sent(),r=new A(e,qn,t,n),window.store=r,Object(g.d)((function(){t.setConfigLocal("lastLocation",r.hash).catch((function(e){return console.warn(e)}))})),[4,r.loadWinProofsFromLocal()];case 7:o.sent();try{qn.auth().onAuthStateChanged((function(e){r.firebaseLoggedIn=e,e&&r.syncWithFirebase().catch((function(e){return console.warn(e)}))}))}catch(e){console.warn("Error with firebase",e)}return"serviceWorker"in navigator&&"localhost"!==location.hostname&&(Bn(i,void 0,void 0,(function(){function e(){Vn("serviceWorker installing="+(n.installing?n.installing.state:"null")+" waiting="+(n.waiting?n.waiting.state:"null")+" active="+(n.active?n.active.state:"null")+" "),r.installingServiceWorkerState=n.installing?n.installing.state:null,r.waitingServiceWorkerState=n.waiting?n.waiting.state:null,r.waitingServiceWorker=n.waiting,r.activeServiceWorkerState=n.active?n.active.state:null,n.installing&&(n.installing.onstatechange=e),n.waiting&&(n.waiting.onstatechange=e),n.active&&(n.active.onstatechange=e)}var t,n,i;return Un(this,(function(o){switch(o.label){case 0:return[4,navigator.serviceWorker.getRegistration()];case 1:return Vn((t=o.sent())?"Service worker have old registration":"Service worker do not have old registration, will register now"),(i=t)?[3,3]:[4,navigator.serviceWorker.register("/sw.js")];case 2:i=o.sent(),o.label=3;case 3:return n=i,r.serviceWorkerRegistered=!0,e(),n.addEventListener("updatefound",(function(){Vn("SW regisration: updatefound"),e()})),setInterval((function(){return n.update().catch((function(e){return console.warn(e)}))}),36e5),[2]}}))})).catch((function(e){return console.warn(e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(e){r.serviceWorkerController&&navigator.serviceWorker.controller&&(r.reloadingPage||(r.reloadingPage=!0,window.location.reload())),r.serviceWorkerController=navigator.serviceWorker.controller?navigator.serviceWorker.controller.state:null})),r.serviceWorkerController=navigator.serviceWorker.controller?navigator.serviceWorker.controller.state:null,Vn("serviceWorker controller="+(navigator.serviceWorker.controller?navigator.serviceWorker.controller.state:"null"))),Bn(i,void 0,void 0,(function(){var e,t;return Un(this,(function(n){switch(n.label){case 0:return navigator.storage?[4,navigator.storage.persisted()]:[3,3];case 1:return Vn("Storage current persist status="+(e=n.sent())),r.storageIsPersisted=e,!e&&navigator.serviceWorker&&navigator.serviceWorker.controller?[4,navigator.storage.persist()]:[3,3];case 2:Vn("Storage requested persist status="+(t=n.sent())),r.storageIsPersisted=t,n.label=3;case 3:return[2]}}))})).catch((function(e){return console.warn(e)})),Object(g.m)((function(){i.loadingStage=void 0,i.store=r})),[2]}}))})).catch((function(t){return e.error=""+(t.message||"Error")}))},t.prototype.render=function(){if(this.error)return r.createElement(v.b,{error:this.error});var e=this.store;if(!e){var t=Object(_.b)(_.a);return void 0===this.loadingStage?r.createElement(v.c,{text:t.loading}):"index"===this.loadingStage?r.createElement(v.c,{text:t.loadingIndex}):"db"===this.loadingStage?r.createElement(v.c,{text:t.loadingLocalDatabase}):Object(w.a)(this.loadingStage)}if(e.reloadingPage)return r.createElement(v.c,{text:e.l.reloading});var n=e.path,i=n.tab0,o=n.tab1,a=n.tab2;return"options"===i?r.createElement("div",{className:"game-design"},r.createElement(ge,{store:e},r.createElement(O,{store:e}))):"editor"===i?r.createElement(Mn,{questsToLoad:Object(g.o)(e.index.quests),onExit:function(){location.href="#/"},cloudQuestProps:{getAllMyCustomQuests:e.db.getAllMyCustomQuests,loadCustomQuest:e.db.loadCustomQuest,saveCustomQuest:e.db.saveCustomQuest,getMyUserId:e.db.getMyUserId}}):"quests"===i?o?a?r.createElement("div",{className:"game-design"},r.createElement(Fe.a,{key:o,store:e,gameName:o})):r.createElement("div",{className:"game-design"},r.createElement(ge,{store:e},r.createElement(Le,{key:o,store:e,gameName:o}))):r.createElement("div",{className:"game-design"},r.createElement(Pe,{store:e})):r.createElement("div",null,r.createElement(v.d,{to:"#/quests"}))},Fn([g.l,zn("design:type","function"==typeof(n=void 0!==A&&A)?n:Object)],t.prototype,"store",void 0),Fn([g.l,zn("design:type",String)],t.prototype,"loadingStage",void 0),Fn([g.l,zn("design:type",String)],t.prototype,"error",void 0),t=Fn([y.a],t)}(r.Component),Hn=document.getElementById("root");if(!Hn)throw new Error("No root element!");if(0===document.location.href.indexOf("https://")||"localhost"===document.location.hostname||"127.0.0.1"===document.location.hostname)o.render(r.createElement(Wn,null),Hn);else{Vn("Mounting redirect");var Yn=document.location.href.replace(/^http:\/\//,"https://");o.render(r.createElement("div",{className:"p-1 text-center"},"Redirecting to ",r.createElement("a",{href:Yn},Yn)),Hn),document.location.href=Yn}},,function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(0),a=n.n(o),s=n(4),u=n.n(s),l=n(5),c=n.n(l),f=n(8),d={tabs:u.a.bool,pills:u.a.bool,vertical:u.a.oneOfType([u.a.bool,u.a.string]),horizontal:u.a.string,justified:u.a.bool,fill:u.a.bool,navbar:u.a.bool,card:u.a.bool,tag:f.g,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tabs,s=e.pills,u=e.vertical,l=e.horizontal,d=e.justified,h=e.fill,p=e.navbar,m=e.card,v=e.tag,y=Object(i.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),g=Object(f.d)(c()(t,p?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(u),{"nav-tabs":o,"card-header-tabs":m&&o,"nav-pills":s,"card-header-pills":m&&s,"nav-justified":d,"nav-fill":h}),n);return a.a.createElement(v,Object(r.a)({},y,{className:g}))};h.propTypes=d,h.defaultProps={tag:"ul",vertical:!1},t.a=h},function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(0),a=n.n(o),s=n(4),u=n.n(s),l=n(5),c=n.n(l),f=n(150),d=n.n(f),h=n(8),p={children:u.a.node,bar:u.a.bool,multi:u.a.bool,tag:h.g,value:u.a.oneOfType([u.a.string,u.a.number]),max:u.a.oneOfType([u.a.string,u.a.number]),animated:u.a.bool,striped:u.a.bool,color:u.a.string,className:u.a.string,barClassName:u.a.string,cssModule:u.a.object},m=function(e){var t=e.children,n=e.className,o=e.barClassName,s=e.cssModule,u=e.value,l=e.max,f=e.animated,p=e.striped,m=e.color,v=e.bar,y=e.multi,g=e.tag,b=Object(i.a)(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),_=d()(u)/d()(l)*100,w=Object(h.d)(c()(n,"progress"),s),E=Object(h.d)(c()("progress-bar",v&&n||o,f?"progress-bar-animated":null,m?"bg-"+m:null,p||f?"progress-bar-striped":null),s),x=y?t:a.a.createElement("div",{className:E,style:{width:_+"%"},role:"progressbar","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":l,children:t});return v?x:a.a.createElement(g,Object(r.a)({},b,{className:w,children:x}))};m.propTypes=p,m.defaultProps={tag:"div",value:0,max:100},t.a=m},function(e,t,n){"use strict";var r=n(19),i=n(80),o=n(0),a=n.n(o),s=n(105),u=n(4),l=n.n(u),c=n(5),f=n.n(c),d=n(107),h=n(8),p={tag:h.g,activeTab:l.a.any,className:l.a.string,cssModule:l.a.object},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={activeTab:n.props.activeTab},n}return Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.tag,o=Object(h.e)(this.props,Object.keys(p)),s=Object(h.d)(f()("tab-content",t),n);return a.a.createElement(d.a.Provider,{value:{activeTabId:this.state.activeTab}},a.a.createElement(i,Object(r.a)({},o,{className:s})))},t}(o.Component);Object(s.polyfill)(m),t.a=m,m.propTypes=p,m.defaultProps={tag:"div"}}]);
//# sourceMappingURL=index.js.map